var u4=Object.defineProperty;var h4=(t,e,r)=>e in t?u4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var tc=(t,e,r)=>h4(t,typeof e!="symbol"?e+"":e,r);function f4(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function _E(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wE={exports:{}},Nd={},EE={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),d4=Symbol.for("react.portal"),p4=Symbol.for("react.fragment"),m4=Symbol.for("react.strict_mode"),g4=Symbol.for("react.profiler"),v4=Symbol.for("react.provider"),x4=Symbol.for("react.context"),y4=Symbol.for("react.forward_ref"),_4=Symbol.for("react.suspense"),w4=Symbol.for("react.memo"),E4=Symbol.for("react.lazy"),S1=Symbol.iterator;function T4(t){return t===null||typeof t!="object"?null:(t=S1&&t[S1]||t["@@iterator"],typeof t=="function"?t:null)}var TE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kE=Object.assign,SE={};function Il(t,e,r){this.props=t,this.context=e,this.refs=SE,this.updater=r||TE}Il.prototype.isReactComponent={};Il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AE(){}AE.prototype=Il.prototype;function mg(t,e,r){this.props=t,this.context=e,this.refs=SE,this.updater=r||TE}var gg=mg.prototype=new AE;gg.constructor=mg;kE(gg,Il.prototype);gg.isPureReactComponent=!0;var A1=Array.isArray,IE=Object.prototype.hasOwnProperty,vg={current:null},bE={key:!0,ref:!0,__self:!0,__source:!0};function NE(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)IE.call(e,n)&&!bE.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Du,type:t,key:i,ref:a,props:s,_owner:vg.current}}function k4(t,e){return{$$typeof:Du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Du}function S4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var I1=/\/+/g;function B0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?S4(""+t.key):e.toString(36)}function Qh(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Du:case d4:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+B0(a,0):n,A1(s)?(r="",t!=null&&(r=t.replace(I1,"$&/")+"/"),Qh(s,e,r,"",function(c){return c})):s!=null&&(xg(s)&&(s=k4(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(I1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",A1(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+B0(i,o);a+=Qh(i,e,r,l,s)}else if(l=T4(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+B0(i,o++),a+=Qh(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function vh(t,e,r){if(t==null)return t;var n=[],s=0;return Qh(t,n,"","",function(i){return e.call(r,i,s++)}),n}function A4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},Jh={transition:null},I4={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Jh,ReactCurrentOwner:vg};function CE(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:vh,forEach:function(t,e,r){vh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return vh(t,function(){e++}),e},toArray:function(t){return vh(t,function(e){return e})||[]},only:function(t){if(!xg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=Il;Ze.Fragment=p4;Ze.Profiler=g4;Ze.PureComponent=mg;Ze.StrictMode=m4;Ze.Suspense=_4;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I4;Ze.act=CE;Ze.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=kE({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=vg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)IE.call(e,l)&&!bE.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Du,type:t.type,key:s,ref:i,props:n,_owner:a}};Ze.createContext=function(t){return t={$$typeof:x4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:v4,_context:t},t.Consumer=t};Ze.createElement=NE;Ze.createFactory=function(t){var e=NE.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:y4,render:t}};Ze.isValidElement=xg;Ze.lazy=function(t){return{$$typeof:E4,_payload:{_status:-1,_result:t},_init:A4}};Ze.memo=function(t,e){return{$$typeof:w4,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=Jh.transition;Jh.transition={};try{t()}finally{Jh.transition=e}};Ze.unstable_act=CE;Ze.useCallback=function(t,e){return en.current.useCallback(t,e)};Ze.useContext=function(t){return en.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return en.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return en.current.useEffect(t,e)};Ze.useId=function(){return en.current.useId()};Ze.useImperativeHandle=function(t,e,r){return en.current.useImperativeHandle(t,e,r)};Ze.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return en.current.useMemo(t,e)};Ze.useReducer=function(t,e,r){return en.current.useReducer(t,e,r)};Ze.useRef=function(t){return en.current.useRef(t)};Ze.useState=function(t){return en.current.useState(t)};Ze.useSyncExternalStore=function(t,e,r){return en.current.useSyncExternalStore(t,e,r)};Ze.useTransition=function(){return en.current.useTransition()};Ze.version="18.3.1";EE.exports=Ze;var U=EE.exports;const RE=_E(U),b4=f4({__proto__:null,default:RE},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N4=U,C4=Symbol.for("react.element"),R4=Symbol.for("react.fragment"),P4=Object.prototype.hasOwnProperty,D4=N4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O4={key:!0,ref:!0,__self:!0,__source:!0};function PE(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)P4.call(e,n)&&!O4.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:C4,type:t,key:i,ref:a,props:s,_owner:D4.current}}Nd.Fragment=R4;Nd.jsx=PE;Nd.jsxs=PE;wE.exports=Nd;var h=wE.exports,Lp={},DE={exports:{}},jn={},OE={exports:{}},FE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(he,Ie){var oe=he.length;he.push(Ie);e:for(;0<oe;){var Ne=oe-1>>>1,V=he[Ne];if(0<s(V,Ie))he[Ne]=Ie,he[oe]=V,oe=Ne;else break e}}function r(he){return he.length===0?null:he[0]}function n(he){if(he.length===0)return null;var Ie=he[0],oe=he.pop();if(oe!==Ie){he[0]=oe;e:for(var Ne=0,V=he.length,H=V>>>1;Ne<H;){var z=2*(Ne+1)-1,W=he[z],re=z+1,fe=he[re];if(0>s(W,oe))re<V&&0>s(fe,W)?(he[Ne]=fe,he[re]=oe,Ne=re):(he[Ne]=W,he[z]=oe,Ne=z);else if(re<V&&0>s(fe,oe))he[Ne]=fe,he[re]=oe,Ne=re;else break e}}return Ie}function s(he,Ie){var oe=he.sortIndex-Ie.sortIndex;return oe!==0?oe:he.id-Ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],f=1,d=null,p=3,m=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(he){for(var Ie=r(c);Ie!==null;){if(Ie.callback===null)n(c);else if(Ie.startTime<=he)n(c),Ie.sortIndex=Ie.expirationTime,e(l,Ie);else break;Ie=r(c)}}function b(he){if(g=!1,w(he),!x)if(r(l)!==null)x=!0,Ve(B);else{var Ie=r(c);Ie!==null&&Ue(b,Ie.startTime-he)}}function B(he,Ie){x=!1,g&&(g=!1,E(k),k=-1),m=!0;var oe=p;try{for(w(Ie),d=r(l);d!==null&&(!(d.expirationTime>Ie)||he&&!R());){var Ne=d.callback;if(typeof Ne=="function"){d.callback=null,p=d.priorityLevel;var V=Ne(d.expirationTime<=Ie);Ie=t.unstable_now(),typeof V=="function"?d.callback=V:d===r(l)&&n(l),w(Ie)}else n(l);d=r(l)}if(d!==null)var H=!0;else{var z=r(c);z!==null&&Ue(b,z.startTime-Ie),H=!1}return H}finally{d=null,p=oe,m=!1}}var G=!1,S=null,k=-1,A=5,N=-1;function R(){return!(t.unstable_now()-N<A)}function j(){if(S!==null){var he=t.unstable_now();N=he;var Ie=!0;try{Ie=S(!0,he)}finally{Ie?D():(G=!1,S=null)}}else G=!1}var D;if(typeof _=="function")D=function(){_(j)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,ie=Pe.port2;Pe.port1.onmessage=j,D=function(){ie.postMessage(null)}}else D=function(){y(j,0)};function Ve(he){S=he,G||(G=!0,D())}function Ue(he,Ie){k=y(function(){he(t.unstable_now())},Ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(he){he.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,Ve(B))},t.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<he?Math.floor(1e3/he):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(he){switch(p){case 1:case 2:case 3:var Ie=3;break;default:Ie=p}var oe=p;p=Ie;try{return he()}finally{p=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(he,Ie){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var oe=p;p=he;try{return Ie()}finally{p=oe}},t.unstable_scheduleCallback=function(he,Ie,oe){var Ne=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ne+oe:Ne):oe=Ne,he){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=oe+V,he={id:f++,callback:Ie,priorityLevel:he,startTime:oe,expirationTime:V,sortIndex:-1},oe>Ne?(he.sortIndex=oe,e(c,he),r(l)===null&&he===r(c)&&(g?(E(k),k=-1):g=!0,Ue(b,oe-Ne))):(he.sortIndex=V,e(l,he),x||m||(x=!0,Ve(B))),he},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(he){var Ie=p;return function(){var oe=p;p=Ie;try{return he.apply(this,arguments)}finally{p=oe}}}})(FE);OE.exports=FE;var F4=OE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j4=U,On=F4;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jE=new Set,Kc={};function Ya(t,e){al(t,e),al(t+"Capture",e)}function al(t,e){for(Kc[t]=e,t=0;t<e.length;t++)jE.add(e[t])}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mp=Object.prototype.hasOwnProperty,L4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b1={},N1={};function M4(t){return Mp.call(N1,t)?!0:Mp.call(b1,t)?!1:L4.test(t)?N1[t]=!0:(b1[t]=!0,!1)}function V4(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U4(t,e,r,n){if(e===null||typeof e>"u"||V4(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var yg=/[\-:]([a-z])/g;function _g(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yg,_g);br[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yg,_g);br[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yg,_g);br[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function wg(t,e,r,n){var s=br.hasOwnProperty(e)?br[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(U4(e,r,s,n)&&(r=null),n||s===null?M4(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var li=j4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xh=Symbol.for("react.element"),Ao=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),Vp=Symbol.for("react.profiler"),LE=Symbol.for("react.provider"),ME=Symbol.for("react.context"),Tg=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),kg=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),VE=Symbol.for("react.offscreen"),C1=Symbol.iterator;function rc(t){return t===null||typeof t!="object"?null:(t=C1&&t[C1]||t["@@iterator"],typeof t=="function"?t:null)}var Lt=Object.assign,$0;function dc(t){if($0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);$0=e&&e[1]||""}return`
`+$0+t}var z0=!1;function W0(t,e){if(!t||z0)return"";z0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{z0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?dc(t):""}function B4(t){switch(t.tag){case 5:return dc(t.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return t=W0(t.type,!1),t;case 11:return t=W0(t.type.render,!1),t;case 1:return t=W0(t.type,!0),t;default:return""}}function $p(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Io:return"Fragment";case Ao:return"Portal";case Vp:return"Profiler";case Eg:return"StrictMode";case Up:return"Suspense";case Bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ME:return(t.displayName||"Context")+".Consumer";case LE:return(t._context.displayName||"Context")+".Provider";case Tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kg:return e=t.displayName||null,e!==null?e:$p(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return $p(t(e))}catch{}}return null}function $4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $p(e);case 8:return e===Eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z4(t){var e=UE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yh(t){t._valueTracker||(t._valueTracker=z4(t))}function BE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=UE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Tf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zp(t,e){var r=e.checked;return Lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function R1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Yi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $E(t,e){e=e.checked,e!=null&&wg(t,"checked",e,!1)}function Wp(t,e){$E(t,e);var r=Yi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hp(t,e.type,r):e.hasOwnProperty("defaultValue")&&Hp(t,e.type,Yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Hp(t,e,r){(e!=="number"||Tf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var pc=Array.isArray;function zo(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Yi(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return Lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(de(92));if(pc(r)){if(1<r.length)throw Error(de(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Yi(r)}}function zE(t,e){var r=Yi(e.value),n=Yi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function O1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _h,HE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_h=_h||document.createElement("div"),_h.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_h.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W4=["Webkit","ms","Moz","O"];Object.keys(Ic).forEach(function(t){W4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ic[e]=Ic[t]})});function GE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ic.hasOwnProperty(t)&&Ic[t]?(""+e).trim():e+"px"}function qE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=GE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var H4=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kp(t,e){if(e){if(H4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function Zp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function Sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yp=null,Wo=null,Ho=null;function F1(t){if(t=ju(t)){if(typeof Yp!="function")throw Error(de(280));var e=t.stateNode;e&&(e=Od(e),Yp(t.stateNode,t.type,e))}}function KE(t){Wo?Ho?Ho.push(t):Ho=[t]:Wo=t}function ZE(){if(Wo){var t=Wo,e=Ho;if(Ho=Wo=null,F1(t),e)for(t=0;t<e.length;t++)F1(e[t])}}function XE(t,e){return t(e)}function YE(){}var H0=!1;function QE(t,e,r){if(H0)return t(e,r);H0=!0;try{return XE(t,e,r)}finally{H0=!1,(Wo!==null||Ho!==null)&&(YE(),ZE())}}function Xc(t,e){var r=t.stateNode;if(r===null)return null;var n=Od(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(de(231,e,typeof r));return r}var Qp=!1;if(Ys)try{var nc={};Object.defineProperty(nc,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{Qp=!1}function G4(t,e,r,n,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var bc=!1,kf=null,Sf=!1,Jp=null,q4={onError:function(t){bc=!0,kf=t}};function K4(t,e,r,n,s,i,a,o,l){bc=!1,kf=null,G4.apply(q4,arguments)}function Z4(t,e,r,n,s,i,a,o,l){if(K4.apply(this,arguments),bc){if(bc){var c=kf;bc=!1,kf=null}else throw Error(de(198));Sf||(Sf=!0,Jp=c)}}function Qa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function JE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j1(t){if(Qa(t)!==t)throw Error(de(188))}function X4(t){var e=t.alternate;if(!e){if(e=Qa(t),e===null)throw Error(de(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return j1(s),t;if(i===n)return j1(s),e;i=i.sibling}throw Error(de(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(de(189))}}if(r.alternate!==n)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?t:e}function e2(t){return t=X4(t),t!==null?t2(t):null}function t2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=t2(t);if(e!==null)return e;t=t.sibling}return null}var r2=On.unstable_scheduleCallback,L1=On.unstable_cancelCallback,Y4=On.unstable_shouldYield,Q4=On.unstable_requestPaint,Kt=On.unstable_now,J4=On.unstable_getCurrentPriorityLevel,Ag=On.unstable_ImmediatePriority,n2=On.unstable_UserBlockingPriority,Af=On.unstable_NormalPriority,eN=On.unstable_LowPriority,s2=On.unstable_IdlePriority,Cd=null,ks=null;function tN(t){if(ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot(Cd,t,void 0,(t.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:sN,rN=Math.log,nN=Math.LN2;function sN(t){return t>>>=0,t===0?32:31-(rN(t)/nN|0)|0}var wh=64,Eh=4194304;function mc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function If(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=mc(o):(i&=a,i!==0&&(n=mc(i)))}else a=r&~s,a!==0?n=mc(a):i!==0&&(n=mc(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ls(e),s=1<<r,n|=t[r],e&=~s;return n}function iN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aN(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ls(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=iN(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i2(){var t=wh;return wh<<=1,!(wh&4194240)&&(wh=64),t}function G0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ou(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ls(e),t[e]=r}function oN(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ls(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Ig(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ls(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var dt=0;function a2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var o2,bg,l2,c2,u2,tm=!1,Th=[],Mi=null,Vi=null,Ui=null,Yc=new Map,Qc=new Map,Si=[],lN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M1(t,e){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(e.pointerId)}}function sc(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ju(e),e!==null&&bg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function cN(t,e,r,n,s){switch(e){case"focusin":return Mi=sc(Mi,t,e,r,n,s),!0;case"dragenter":return Vi=sc(Vi,t,e,r,n,s),!0;case"mouseover":return Ui=sc(Ui,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Yc.set(i,sc(Yc.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Qc.set(i,sc(Qc.get(i)||null,t,e,r,n,s)),!0}return!1}function h2(t){var e=Sa(t.target);if(e!==null){var r=Qa(e);if(r!==null){if(e=r.tag,e===13){if(e=JE(r),e!==null){t.blockedOn=e,u2(t.priority,function(){l2(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ef(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=rm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Xp=n,r.target.dispatchEvent(n),Xp=null}else return e=ju(r),e!==null&&bg(e),t.blockedOn=r,!1;e.shift()}return!0}function V1(t,e,r){ef(t)&&r.delete(e)}function uN(){tm=!1,Mi!==null&&ef(Mi)&&(Mi=null),Vi!==null&&ef(Vi)&&(Vi=null),Ui!==null&&ef(Ui)&&(Ui=null),Yc.forEach(V1),Qc.forEach(V1)}function ic(t,e){t.blockedOn===e&&(t.blockedOn=null,tm||(tm=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,uN)))}function Jc(t){function e(s){return ic(s,t)}if(0<Th.length){ic(Th[0],t);for(var r=1;r<Th.length;r++){var n=Th[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Mi!==null&&ic(Mi,t),Vi!==null&&ic(Vi,t),Ui!==null&&ic(Ui,t),Yc.forEach(e),Qc.forEach(e),r=0;r<Si.length;r++)n=Si[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Si.length&&(r=Si[0],r.blockedOn===null);)h2(r),r.blockedOn===null&&Si.shift()}var Go=li.ReactCurrentBatchConfig,bf=!0;function hN(t,e,r,n){var s=dt,i=Go.transition;Go.transition=null;try{dt=1,Ng(t,e,r,n)}finally{dt=s,Go.transition=i}}function fN(t,e,r,n){var s=dt,i=Go.transition;Go.transition=null;try{dt=4,Ng(t,e,r,n)}finally{dt=s,Go.transition=i}}function Ng(t,e,r,n){if(bf){var s=rm(t,e,r,n);if(s===null)rp(t,e,n,Nf,r),M1(t,n);else if(cN(s,t,e,r,n))n.stopPropagation();else if(M1(t,n),e&4&&-1<lN.indexOf(t)){for(;s!==null;){var i=ju(s);if(i!==null&&o2(i),i=rm(t,e,r,n),i===null&&rp(t,e,n,Nf,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else rp(t,e,n,null,r)}}var Nf=null;function rm(t,e,r,n){if(Nf=null,t=Sg(n),t=Sa(t),t!==null)if(e=Qa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=JE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nf=t,null}function f2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J4()){case Ag:return 1;case n2:return 4;case Af:case eN:return 16;case s2:return 536870912;default:return 16}default:return 16}}var Pi=null,Cg=null,tf=null;function d2(){if(tf)return tf;var t,e=Cg,r=e.length,n,s="value"in Pi?Pi.value:Pi.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return tf=s.slice(t,1<n?1-n:void 0)}function rf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kh(){return!0}function U1(){return!1}function Ln(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kh:U1,this.isPropagationStopped=U1,this}return Lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kh)},persist:function(){},isPersistent:kh}),e}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rg=Ln(bl),Fu=Lt({},bl,{view:0,detail:0}),dN=Ln(Fu),q0,K0,ac,Rd=Lt({},Fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ac&&(ac&&t.type==="mousemove"?(q0=t.screenX-ac.screenX,K0=t.screenY-ac.screenY):K0=q0=0,ac=t),q0)},movementY:function(t){return"movementY"in t?t.movementY:K0}}),B1=Ln(Rd),pN=Lt({},Rd,{dataTransfer:0}),mN=Ln(pN),gN=Lt({},Fu,{relatedTarget:0}),Z0=Ln(gN),vN=Lt({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),xN=Ln(vN),yN=Lt({},bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_N=Ln(yN),wN=Lt({},bl,{data:0}),$1=Ln(wN),EN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kN[t])?!!e[t]:!1}function Pg(){return SN}var AN=Lt({},Fu,{key:function(t){if(t.key){var e=EN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(t){return t.type==="keypress"?rf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IN=Ln(AN),bN=Lt({},Rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z1=Ln(bN),NN=Lt({},Fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),CN=Ln(NN),RN=Lt({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),PN=Ln(RN),DN=Lt({},Rd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ON=Ln(DN),FN=[9,13,27,32],Dg=Ys&&"CompositionEvent"in window,Nc=null;Ys&&"documentMode"in document&&(Nc=document.documentMode);var jN=Ys&&"TextEvent"in window&&!Nc,p2=Ys&&(!Dg||Nc&&8<Nc&&11>=Nc),W1=" ",H1=!1;function m2(t,e){switch(t){case"keyup":return FN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bo=!1;function LN(t,e){switch(t){case"compositionend":return g2(e);case"keypress":return e.which!==32?null:(H1=!0,W1);case"textInput":return t=e.data,t===W1&&H1?null:t;default:return null}}function MN(t,e){if(bo)return t==="compositionend"||!Dg&&m2(t,e)?(t=d2(),tf=Cg=Pi=null,bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return p2&&e.locale!=="ko"?null:e.data;default:return null}}var VN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VN[t.type]:e==="textarea"}function v2(t,e,r,n){KE(n),e=Cf(e,"onChange"),0<e.length&&(r=new Rg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Cc=null,eu=null;function UN(t){b2(t,0)}function Pd(t){var e=Ro(t);if(BE(e))return t}function BN(t,e){if(t==="change")return e}var x2=!1;if(Ys){var X0;if(Ys){var Y0="oninput"in document;if(!Y0){var q1=document.createElement("div");q1.setAttribute("oninput","return;"),Y0=typeof q1.oninput=="function"}X0=Y0}else X0=!1;x2=X0&&(!document.documentMode||9<document.documentMode)}function K1(){Cc&&(Cc.detachEvent("onpropertychange",y2),eu=Cc=null)}function y2(t){if(t.propertyName==="value"&&Pd(eu)){var e=[];v2(e,eu,t,Sg(t)),QE(UN,e)}}function $N(t,e,r){t==="focusin"?(K1(),Cc=e,eu=r,Cc.attachEvent("onpropertychange",y2)):t==="focusout"&&K1()}function zN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pd(eu)}function WN(t,e){if(t==="click")return Pd(e)}function HN(t,e){if(t==="input"||t==="change")return Pd(e)}function GN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hs=typeof Object.is=="function"?Object.is:GN;function tu(t,e){if(hs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Mp.call(e,s)||!hs(t[s],e[s]))return!1}return!0}function Z1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X1(t,e){var r=Z1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Z1(r)}}function _2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w2(){for(var t=window,e=Tf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Tf(t.document)}return e}function Og(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qN(t){var e=w2(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&_2(r.ownerDocument.documentElement,r)){if(n!==null&&Og(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=X1(r,i);var a=X1(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KN=Ys&&"documentMode"in document&&11>=document.documentMode,No=null,nm=null,Rc=null,sm=!1;function Y1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sm||No==null||No!==Tf(n)||(n=No,"selectionStart"in n&&Og(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rc&&tu(Rc,n)||(Rc=n,n=Cf(nm,"onSelect"),0<n.length&&(e=new Rg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=No)))}function Sh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Co={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},Q0={},E2={};Ys&&(E2=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Dd(t){if(Q0[t])return Q0[t];if(!Co[t])return t;var e=Co[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in E2)return Q0[t]=e[r];return t}var T2=Dd("animationend"),k2=Dd("animationiteration"),S2=Dd("animationstart"),A2=Dd("transitionend"),I2=new Map,Q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oa(t,e){I2.set(t,e),Ya(e,[t])}for(var J0=0;J0<Q1.length;J0++){var ep=Q1[J0],ZN=ep.toLowerCase(),XN=ep[0].toUpperCase()+ep.slice(1);oa(ZN,"on"+XN)}oa(T2,"onAnimationEnd");oa(k2,"onAnimationIteration");oa(S2,"onAnimationStart");oa("dblclick","onDoubleClick");oa("focusin","onFocus");oa("focusout","onBlur");oa(A2,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YN=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function J1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Z4(n,e,void 0,t),t.currentTarget=null}function b2(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;J1(s,o,c),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;J1(s,o,c),i=l}}}if(Sf)throw t=Jp,Sf=!1,Jp=null,t}function St(t,e){var r=e[cm];r===void 0&&(r=e[cm]=new Set);var n=t+"__bubble";r.has(n)||(N2(e,t,2,!1),r.add(n))}function tp(t,e,r){var n=0;e&&(n|=4),N2(r,t,n,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function ru(t){if(!t[Ah]){t[Ah]=!0,jE.forEach(function(r){r!=="selectionchange"&&(YN.has(r)||tp(r,!1,t),tp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,tp("selectionchange",!1,e))}}function N2(t,e,r,n){switch(f2(e)){case 1:var s=hN;break;case 4:s=fN;break;default:s=Ng}r=s.bind(null,e,r,t),s=void 0,!Qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function rp(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Sa(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}QE(function(){var c=i,f=Sg(r),d=[];e:{var p=I2.get(t);if(p!==void 0){var m=Rg,x=t;switch(t){case"keypress":if(rf(r)===0)break e;case"keydown":case"keyup":m=IN;break;case"focusin":x="focus",m=Z0;break;case"focusout":x="blur",m=Z0;break;case"beforeblur":case"afterblur":m=Z0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=B1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CN;break;case T2:case k2:case S2:m=xN;break;case A2:m=PN;break;case"scroll":m=dN;break;case"wheel":m=ON;break;case"copy":case"cut":case"paste":m=_N;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=z1}var g=(e&4)!==0,y=!g&&t==="scroll",E=g?p!==null?p+"Capture":null:p;g=[];for(var _=c,w;_!==null;){w=_;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,E!==null&&(b=Xc(_,E),b!=null&&g.push(nu(_,b,w)))),y)break;_=_.return}0<g.length&&(p=new m(p,x,null,r,f),d.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&r!==Xp&&(x=r.relatedTarget||r.fromElement)&&(Sa(x)||x[Qs]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=c,x=x?Sa(x):null,x!==null&&(y=Qa(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(g=B1,b="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=z1,b="onPointerLeave",E="onPointerEnter",_="pointer"),y=m==null?p:Ro(m),w=x==null?p:Ro(x),p=new g(b,_+"leave",m,r,f),p.target=y,p.relatedTarget=w,b=null,Sa(f)===c&&(g=new g(E,_+"enter",x,r,f),g.target=w,g.relatedTarget=y,b=g),y=b,m&&x)t:{for(g=m,E=x,_=0,w=g;w;w=vo(w))_++;for(w=0,b=E;b;b=vo(b))w++;for(;0<_-w;)g=vo(g),_--;for(;0<w-_;)E=vo(E),w--;for(;_--;){if(g===E||E!==null&&g===E.alternate)break t;g=vo(g),E=vo(E)}g=null}else g=null;m!==null&&ey(d,p,m,g,!1),x!==null&&y!==null&&ey(d,y,x,g,!0)}}e:{if(p=c?Ro(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var B=BN;else if(G1(p))if(x2)B=HN;else{B=zN;var G=$N}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(B=WN);if(B&&(B=B(t,c))){v2(d,B,r,f);break e}G&&G(t,p,c),t==="focusout"&&(G=p._wrapperState)&&G.controlled&&p.type==="number"&&Hp(p,"number",p.value)}switch(G=c?Ro(c):window,t){case"focusin":(G1(G)||G.contentEditable==="true")&&(No=G,nm=c,Rc=null);break;case"focusout":Rc=nm=No=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,Y1(d,r,f);break;case"selectionchange":if(KN)break;case"keydown":case"keyup":Y1(d,r,f)}var S;if(Dg)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else bo?m2(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(p2&&r.locale!=="ko"&&(bo||k!=="onCompositionStart"?k==="onCompositionEnd"&&bo&&(S=d2()):(Pi=f,Cg="value"in Pi?Pi.value:Pi.textContent,bo=!0)),G=Cf(c,k),0<G.length&&(k=new $1(k,t,null,r,f),d.push({event:k,listeners:G}),S?k.data=S:(S=g2(r),S!==null&&(k.data=S)))),(S=jN?LN(t,r):MN(t,r))&&(c=Cf(c,"onBeforeInput"),0<c.length&&(f=new $1("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=S))}b2(d,e)})}function nu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Cf(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xc(t,r),i!=null&&n.unshift(nu(t,i,s)),i=Xc(t,e),i!=null&&n.push(nu(t,i,s))),t=t.return}return n}function vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ey(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=Xc(r,i),l!=null&&a.unshift(nu(r,l,o))):s||(l=Xc(r,i),l!=null&&a.push(nu(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var QN=/\r\n?/g,JN=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace(QN,`
`).replace(JN,"")}function Ih(t,e,r){if(e=ty(e),ty(t)!==e&&r)throw Error(de(425))}function Rf(){}var im=null,am=null;function om(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,eC=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,tC=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(t){return ry.resolve(null).then(t).catch(rC)}:lm;function rC(t){setTimeout(function(){throw t})}function np(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Jc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Jc(e)}function Bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ny(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),Es="__reactFiber$"+Nl,su="__reactProps$"+Nl,Qs="__reactContainer$"+Nl,cm="__reactEvents$"+Nl,nC="__reactListeners$"+Nl,sC="__reactHandles$"+Nl;function Sa(t){var e=t[Es];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Qs]||r[Es]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ny(t);t!==null;){if(r=t[Es])return r;t=ny(t)}return e}t=r,r=t.parentNode}return null}function ju(t){return t=t[Es]||t[Qs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function Od(t){return t[su]||null}var um=[],Po=-1;function la(t){return{current:t}}function It(t){0>Po||(t.current=um[Po],um[Po]=null,Po--)}function Et(t,e){Po++,um[Po]=t.current,t.current=e}var Qi={},zr=la(Qi),hn=la(!1),La=Qi;function ol(t,e){var r=t.type.contextTypes;if(!r)return Qi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function fn(t){return t=t.childContextTypes,t!=null}function Pf(){It(hn),It(zr)}function sy(t,e,r){if(zr.current!==Qi)throw Error(de(168));Et(zr,e),Et(hn,r)}function C2(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(de(108,$4(t)||"Unknown",s));return Lt({},r,n)}function Df(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qi,La=zr.current,Et(zr,t),Et(hn,hn.current),!0}function iy(t,e,r){var n=t.stateNode;if(!n)throw Error(de(169));r?(t=C2(t,e,La),n.__reactInternalMemoizedMergedChildContext=t,It(hn),It(zr),Et(zr,t)):It(hn),Et(hn,r)}var Ms=null,Fd=!1,sp=!1;function R2(t){Ms===null?Ms=[t]:Ms.push(t)}function iC(t){Fd=!0,R2(t)}function ca(){if(!sp&&Ms!==null){sp=!0;var t=0,e=dt;try{var r=Ms;for(dt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ms=null,Fd=!1}catch(s){throw Ms!==null&&(Ms=Ms.slice(t+1)),r2(Ag,ca),s}finally{dt=e,sp=!1}}return null}var Do=[],Oo=0,Of=null,Ff=0,Un=[],Bn=0,Ma=null,Vs=1,Us="";function wa(t,e){Do[Oo++]=Ff,Do[Oo++]=Of,Of=t,Ff=e}function P2(t,e,r){Un[Bn++]=Vs,Un[Bn++]=Us,Un[Bn++]=Ma,Ma=t;var n=Vs;t=Us;var s=32-ls(n)-1;n&=~(1<<s),r+=1;var i=32-ls(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Vs=1<<32-ls(e)+s|r<<s|n,Us=i+t}else Vs=1<<i|r<<s|n,Us=t}function Fg(t){t.return!==null&&(wa(t,1),P2(t,1,0))}function jg(t){for(;t===Of;)Of=Do[--Oo],Do[Oo]=null,Ff=Do[--Oo],Do[Oo]=null;for(;t===Ma;)Ma=Un[--Bn],Un[Bn]=null,Us=Un[--Bn],Un[Bn]=null,Vs=Un[--Bn],Un[Bn]=null}var Pn=null,Cn=null,Rt=!1,ns=null;function D2(t,e){var r=$n(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ay(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,Cn=Bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ma!==null?{id:Vs,overflow:Us}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=$n(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Pn=t,Cn=null,!0):!1;default:return!1}}function hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fm(t){if(Rt){var e=Cn;if(e){var r=e;if(!ay(t,e)){if(hm(t))throw Error(de(418));e=Bi(r.nextSibling);var n=Pn;e&&ay(t,e)?D2(n,r):(t.flags=t.flags&-4097|2,Rt=!1,Pn=t)}}else{if(hm(t))throw Error(de(418));t.flags=t.flags&-4097|2,Rt=!1,Pn=t}}}function oy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function bh(t){if(t!==Pn)return!1;if(!Rt)return oy(t),Rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!om(t.type,t.memoizedProps)),e&&(e=Cn)){if(hm(t))throw O2(),Error(de(418));for(;e;)D2(t,e),e=Bi(e.nextSibling)}if(oy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Cn=Bi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=Pn?Bi(t.stateNode.nextSibling):null;return!0}function O2(){for(var t=Cn;t;)t=Bi(t.nextSibling)}function ll(){Cn=Pn=null,Rt=!1}function Lg(t){ns===null?ns=[t]:ns.push(t)}var aC=li.ReactCurrentBatchConfig;function oc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var n=r.stateNode}if(!n)throw Error(de(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,t))}return t}function Nh(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ly(t){var e=t._init;return e(t._payload)}function F2(t){function e(E,_){if(t){var w=E.deletions;w===null?(E.deletions=[_],E.flags|=16):w.push(_)}}function r(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function n(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function s(E,_){return E=Hi(E,_),E.index=0,E.sibling=null,E}function i(E,_,w){return E.index=w,t?(w=E.alternate,w!==null?(w=w.index,w<_?(E.flags|=2,_):w):(E.flags|=2,_)):(E.flags|=1048576,_)}function a(E){return t&&E.alternate===null&&(E.flags|=2),E}function o(E,_,w,b){return _===null||_.tag!==6?(_=hp(w,E.mode,b),_.return=E,_):(_=s(_,w),_.return=E,_)}function l(E,_,w,b){var B=w.type;return B===Io?f(E,_,w.props.children,b,w.key):_!==null&&(_.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ti&&ly(B)===_.type)?(b=s(_,w.props),b.ref=oc(E,_,w),b.return=E,b):(b=uf(w.type,w.key,w.props,null,E.mode,b),b.ref=oc(E,_,w),b.return=E,b)}function c(E,_,w,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=fp(w,E.mode,b),_.return=E,_):(_=s(_,w.children||[]),_.return=E,_)}function f(E,_,w,b,B){return _===null||_.tag!==7?(_=Ra(w,E.mode,b,B),_.return=E,_):(_=s(_,w),_.return=E,_)}function d(E,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=hp(""+_,E.mode,w),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xh:return w=uf(_.type,_.key,_.props,null,E.mode,w),w.ref=oc(E,null,_),w.return=E,w;case Ao:return _=fp(_,E.mode,w),_.return=E,_;case Ti:var b=_._init;return d(E,b(_._payload),w)}if(pc(_)||rc(_))return _=Ra(_,E.mode,w,null),_.return=E,_;Nh(E,_)}return null}function p(E,_,w,b){var B=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return B!==null?null:o(E,_,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xh:return w.key===B?l(E,_,w,b):null;case Ao:return w.key===B?c(E,_,w,b):null;case Ti:return B=w._init,p(E,_,B(w._payload),b)}if(pc(w)||rc(w))return B!==null?null:f(E,_,w,b,null);Nh(E,w)}return null}function m(E,_,w,b,B){if(typeof b=="string"&&b!==""||typeof b=="number")return E=E.get(w)||null,o(_,E,""+b,B);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xh:return E=E.get(b.key===null?w:b.key)||null,l(_,E,b,B);case Ao:return E=E.get(b.key===null?w:b.key)||null,c(_,E,b,B);case Ti:var G=b._init;return m(E,_,w,G(b._payload),B)}if(pc(b)||rc(b))return E=E.get(w)||null,f(_,E,b,B,null);Nh(_,b)}return null}function x(E,_,w,b){for(var B=null,G=null,S=_,k=_=0,A=null;S!==null&&k<w.length;k++){S.index>k?(A=S,S=null):A=S.sibling;var N=p(E,S,w[k],b);if(N===null){S===null&&(S=A);break}t&&S&&N.alternate===null&&e(E,S),_=i(N,_,k),G===null?B=N:G.sibling=N,G=N,S=A}if(k===w.length)return r(E,S),Rt&&wa(E,k),B;if(S===null){for(;k<w.length;k++)S=d(E,w[k],b),S!==null&&(_=i(S,_,k),G===null?B=S:G.sibling=S,G=S);return Rt&&wa(E,k),B}for(S=n(E,S);k<w.length;k++)A=m(S,E,k,w[k],b),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?k:A.key),_=i(A,_,k),G===null?B=A:G.sibling=A,G=A);return t&&S.forEach(function(R){return e(E,R)}),Rt&&wa(E,k),B}function g(E,_,w,b){var B=rc(w);if(typeof B!="function")throw Error(de(150));if(w=B.call(w),w==null)throw Error(de(151));for(var G=B=null,S=_,k=_=0,A=null,N=w.next();S!==null&&!N.done;k++,N=w.next()){S.index>k?(A=S,S=null):A=S.sibling;var R=p(E,S,N.value,b);if(R===null){S===null&&(S=A);break}t&&S&&R.alternate===null&&e(E,S),_=i(R,_,k),G===null?B=R:G.sibling=R,G=R,S=A}if(N.done)return r(E,S),Rt&&wa(E,k),B;if(S===null){for(;!N.done;k++,N=w.next())N=d(E,N.value,b),N!==null&&(_=i(N,_,k),G===null?B=N:G.sibling=N,G=N);return Rt&&wa(E,k),B}for(S=n(E,S);!N.done;k++,N=w.next())N=m(S,E,k,N.value,b),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?k:N.key),_=i(N,_,k),G===null?B=N:G.sibling=N,G=N);return t&&S.forEach(function(j){return e(E,j)}),Rt&&wa(E,k),B}function y(E,_,w,b){if(typeof w=="object"&&w!==null&&w.type===Io&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case xh:e:{for(var B=w.key,G=_;G!==null;){if(G.key===B){if(B=w.type,B===Io){if(G.tag===7){r(E,G.sibling),_=s(G,w.props.children),_.return=E,E=_;break e}}else if(G.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ti&&ly(B)===G.type){r(E,G.sibling),_=s(G,w.props),_.ref=oc(E,G,w),_.return=E,E=_;break e}r(E,G);break}else e(E,G);G=G.sibling}w.type===Io?(_=Ra(w.props.children,E.mode,b,w.key),_.return=E,E=_):(b=uf(w.type,w.key,w.props,null,E.mode,b),b.ref=oc(E,_,w),b.return=E,E=b)}return a(E);case Ao:e:{for(G=w.key;_!==null;){if(_.key===G)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){r(E,_.sibling),_=s(_,w.children||[]),_.return=E,E=_;break e}else{r(E,_);break}else e(E,_);_=_.sibling}_=fp(w,E.mode,b),_.return=E,E=_}return a(E);case Ti:return G=w._init,y(E,_,G(w._payload),b)}if(pc(w))return x(E,_,w,b);if(rc(w))return g(E,_,w,b);Nh(E,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(r(E,_.sibling),_=s(_,w),_.return=E,E=_):(r(E,_),_=hp(w,E.mode,b),_.return=E,E=_),a(E)):r(E,_)}return y}var cl=F2(!0),j2=F2(!1),jf=la(null),Lf=null,Fo=null,Mg=null;function Vg(){Mg=Fo=Lf=null}function Ug(t){var e=jf.current;It(jf),t._currentValue=e}function dm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function qo(t,e){Lf=t,Mg=Fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(Mg!==t)if(t={context:t,memoizedValue:e,next:null},Fo===null){if(Lf===null)throw Error(de(308));Fo=t,Lf.dependencies={lanes:0,firstContext:t}}else Fo=Fo.next=t;return e}var Aa=null;function Bg(t){Aa===null?Aa=[t]:Aa.push(t)}function L2(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Bg(e)):(r.next=s.next,s.next=r),e.interleaved=r,Js(t,n)}function Js(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ki=!1;function $g(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $i(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,nt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Js(t,r)}return s=n.interleaved,s===null?(e.next=e,Bg(n)):(e.next=s.next,s.next=e),n.interleaved=e,Js(t,r)}function nf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ig(t,r)}}function cy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Mf(t,e,r,n){var s=t.updateQueue;ki=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,f=c=l=null,o=i;do{var p=o.lane,m=o.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,g=o;switch(p=e,m=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){d=x.call(m,d,p);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,p=typeof x=="function"?x.call(m,d,p):x,p==null)break e;d=Lt({},d,p);break e;case 2:ki=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=m,l=d):f=f.next=m,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ua|=a,t.lanes=a,t.memoizedState=d}}function uy(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(de(191,s));s.call(n)}}}var Lu={},Ss=la(Lu),iu=la(Lu),au=la(Lu);function Ia(t){if(t===Lu)throw Error(de(174));return t}function zg(t,e){switch(Et(au,e),Et(iu,t),Et(Ss,Lu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qp(e,t)}It(Ss),Et(Ss,e)}function ul(){It(Ss),It(iu),It(au)}function V2(t){Ia(au.current);var e=Ia(Ss.current),r=qp(e,t.type);e!==r&&(Et(iu,t),Et(Ss,r))}function Wg(t){iu.current===t&&(It(Ss),It(iu))}var Ft=la(0);function Vf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ip=[];function Hg(){for(var t=0;t<ip.length;t++)ip[t]._workInProgressVersionPrimary=null;ip.length=0}var sf=li.ReactCurrentDispatcher,ap=li.ReactCurrentBatchConfig,Va=0,jt=null,ar=null,hr=null,Uf=!1,Pc=!1,ou=0,oC=0;function Or(){throw Error(de(321))}function Gg(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!hs(t[r],e[r]))return!1;return!0}function qg(t,e,r,n,s,i){if(Va=i,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sf.current=t===null||t.memoizedState===null?hC:fC,t=r(n,s),Pc){i=0;do{if(Pc=!1,ou=0,25<=i)throw Error(de(301));i+=1,hr=ar=null,e.updateQueue=null,sf.current=dC,t=r(n,s)}while(Pc)}if(sf.current=Bf,e=ar!==null&&ar.next!==null,Va=0,hr=ar=jt=null,Uf=!1,e)throw Error(de(300));return t}function Kg(){var t=ou!==0;return ou=0,t}function ws(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?jt.memoizedState=hr=t:hr=hr.next=t,hr}function qn(){if(ar===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=ar.next;var e=hr===null?jt.memoizedState:hr.next;if(e!==null)hr=e,ar=t;else{if(t===null)throw Error(de(310));ar=t,t={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},hr===null?jt.memoizedState=hr=t:hr=hr.next=t}return hr}function lu(t,e){return typeof e=="function"?e(t):e}function op(t){var e=qn(),r=e.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=t;var n=ar,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,c=i;do{var f=c.lane;if((Va&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,jt.lanes|=f,Ua|=f}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,hs(n,e.memoizedState)||(un=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,jt.lanes|=i,Ua|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function lp(t){var e=qn(),r=e.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);hs(i,e.memoizedState)||(un=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function U2(){}function B2(t,e){var r=jt,n=qn(),s=e(),i=!hs(n.memoizedState,s);if(i&&(n.memoizedState=s,un=!0),n=n.queue,Zg(W2.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||hr!==null&&hr.memoizedState.tag&1){if(r.flags|=2048,cu(9,z2.bind(null,r,n,s,e),void 0,null),gr===null)throw Error(de(349));Va&30||$2(r,e,s)}return s}function $2(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function z2(t,e,r,n){e.value=r,e.getSnapshot=n,H2(e)&&G2(t)}function W2(t,e,r){return r(function(){H2(e)&&G2(t)})}function H2(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hs(t,r)}catch{return!0}}function G2(t){var e=Js(t,1);e!==null&&cs(e,t,1,-1)}function hy(t){var e=ws();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:t},e.queue=t,t=t.dispatch=uC.bind(null,jt,t),[e.memoizedState,t]}function cu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function q2(){return qn().memoizedState}function af(t,e,r,n){var s=ws();jt.flags|=t,s.memoizedState=cu(1|e,r,void 0,n===void 0?null:n)}function jd(t,e,r,n){var s=qn();n=n===void 0?null:n;var i=void 0;if(ar!==null){var a=ar.memoizedState;if(i=a.destroy,n!==null&&Gg(n,a.deps)){s.memoizedState=cu(e,r,i,n);return}}jt.flags|=t,s.memoizedState=cu(1|e,r,i,n)}function fy(t,e){return af(8390656,8,t,e)}function Zg(t,e){return jd(2048,8,t,e)}function K2(t,e){return jd(4,2,t,e)}function Z2(t,e){return jd(4,4,t,e)}function X2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y2(t,e,r){return r=r!=null?r.concat([t]):null,jd(4,4,X2.bind(null,e,t),r)}function Xg(){}function Q2(t,e){var r=qn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Gg(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function J2(t,e){var r=qn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Gg(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function eT(t,e,r){return Va&21?(hs(r,e)||(r=i2(),jt.lanes|=r,Ua|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=r)}function lC(t,e){var r=dt;dt=r!==0&&4>r?r:4,t(!0);var n=ap.transition;ap.transition={};try{t(!1),e()}finally{dt=r,ap.transition=n}}function tT(){return qn().memoizedState}function cC(t,e,r){var n=Wi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rT(t))nT(e,r);else if(r=L2(t,e,r,n),r!==null){var s=Yr();cs(r,t,n,s),sT(r,e,n)}}function uC(t,e,r){var n=Wi(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rT(t))nT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,hs(o,a)){var l=e.interleaved;l===null?(s.next=s,Bg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=L2(t,e,s,n),r!==null&&(s=Yr(),cs(r,t,n,s),sT(r,e,n))}}function rT(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function nT(t,e){Pc=Uf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function sT(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ig(t,r)}}var Bf={readContext:Gn,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},hC={readContext:Gn,useCallback:function(t,e){return ws().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:fy,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,af(4194308,4,X2.bind(null,e,t),r)},useLayoutEffect:function(t,e){return af(4194308,4,t,e)},useInsertionEffect:function(t,e){return af(4,2,t,e)},useMemo:function(t,e){var r=ws();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ws();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=cC.bind(null,jt,t),[n.memoizedState,t]},useRef:function(t){var e=ws();return t={current:t},e.memoizedState=t},useState:hy,useDebugValue:Xg,useDeferredValue:function(t){return ws().memoizedState=t},useTransition:function(){var t=hy(!1),e=t[0];return t=lC.bind(null,t[1]),ws().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=jt,s=ws();if(Rt){if(r===void 0)throw Error(de(407));r=r()}else{if(r=e(),gr===null)throw Error(de(349));Va&30||$2(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,fy(W2.bind(null,n,i,t),[t]),n.flags|=2048,cu(9,z2.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ws(),e=gr.identifierPrefix;if(Rt){var r=Us,n=Vs;r=(n&~(1<<32-ls(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ou++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=oC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fC={readContext:Gn,useCallback:Q2,useContext:Gn,useEffect:Zg,useImperativeHandle:Y2,useInsertionEffect:K2,useLayoutEffect:Z2,useMemo:J2,useReducer:op,useRef:q2,useState:function(){return op(lu)},useDebugValue:Xg,useDeferredValue:function(t){var e=qn();return eT(e,ar.memoizedState,t)},useTransition:function(){var t=op(lu)[0],e=qn().memoizedState;return[t,e]},useMutableSource:U2,useSyncExternalStore:B2,useId:tT,unstable_isNewReconciler:!1},dC={readContext:Gn,useCallback:Q2,useContext:Gn,useEffect:Zg,useImperativeHandle:Y2,useInsertionEffect:K2,useLayoutEffect:Z2,useMemo:J2,useReducer:lp,useRef:q2,useState:function(){return lp(lu)},useDebugValue:Xg,useDeferredValue:function(t){var e=qn();return ar===null?e.memoizedState=t:eT(e,ar.memoizedState,t)},useTransition:function(){var t=lp(lu)[0],e=qn().memoizedState;return[t,e]},useMutableSource:U2,useSyncExternalStore:B2,useId:tT,unstable_isNewReconciler:!1};function ts(t,e){if(t&&t.defaultProps){e=Lt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function pm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Lt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ld={isMounted:function(t){return(t=t._reactInternals)?Qa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Yr(),s=Wi(t),i=Gs(n,s);i.payload=e,r!=null&&(i.callback=r),e=$i(t,i,s),e!==null&&(cs(e,t,s,n),nf(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Yr(),s=Wi(t),i=Gs(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=$i(t,i,s),e!==null&&(cs(e,t,s,n),nf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Yr(),n=Wi(t),s=Gs(r,n);s.tag=2,e!=null&&(s.callback=e),e=$i(t,s,n),e!==null&&(cs(e,t,n,r),nf(e,t,n))}};function dy(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!tu(r,n)||!tu(s,i):!0}function iT(t,e,r){var n=!1,s=Qi,i=e.contextType;return typeof i=="object"&&i!==null?i=Gn(i):(s=fn(e)?La:zr.current,n=e.contextTypes,i=(n=n!=null)?ol(t,s):Qi),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ld,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function py(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ld.enqueueReplaceState(e,e.state,null)}function mm(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},$g(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Gn(i):(i=fn(e)?La:zr.current,s.context=ol(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pm(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ld.enqueueReplaceState(s,s.state,null),Mf(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function hl(t,e){try{var r="",n=e;do r+=B4(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function cp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function gm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var pC=typeof WeakMap=="function"?WeakMap:Map;function aT(t,e,r){r=Gs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){zf||(zf=!0,Am=n),gm(t,e)},r}function oT(t,e,r){r=Gs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){gm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){gm(t,e),typeof n!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function my(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new pC;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=bC.bind(null,t,e,r),e.then(t,t))}function gy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vy(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Gs(-1,1),e.tag=2,$i(r,e,1))),r.lanes|=1),t)}var mC=li.ReactCurrentOwner,un=!1;function Kr(t,e,r,n){e.child=t===null?j2(e,null,r,n):cl(e,t.child,r,n)}function xy(t,e,r,n,s){r=r.render;var i=e.ref;return qo(e,s),n=qg(t,e,r,n,i,s),r=Kg(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ei(t,e,s)):(Rt&&r&&Fg(e),e.flags|=1,Kr(t,e,n,s),e.child)}function yy(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!sv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,lT(t,e,i,n,s)):(t=uf(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:tu,r(a,n)&&t.ref===e.ref)return ei(t,e,s)}return e.flags|=1,t=Hi(i,n),t.ref=e.ref,t.return=e,e.child=t}function lT(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(tu(i,n)&&t.ref===e.ref)if(un=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,ei(t,e,s)}return vm(t,e,r,n,s)}function cT(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Lo,kn),kn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Et(Lo,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Et(Lo,kn),kn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Et(Lo,kn),kn|=n;return Kr(t,e,s,r),e.child}function uT(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function vm(t,e,r,n,s){var i=fn(r)?La:zr.current;return i=ol(e,i),qo(e,s),r=qg(t,e,r,n,i,s),n=Kg(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ei(t,e,s)):(Rt&&n&&Fg(e),e.flags|=1,Kr(t,e,r,s),e.child)}function _y(t,e,r,n,s){if(fn(r)){var i=!0;Df(e)}else i=!1;if(qo(e,s),e.stateNode===null)of(t,e),iT(e,r,n),mm(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Gn(c):(c=fn(r)?La:zr.current,c=ol(e,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&py(e,a,n,c),ki=!1;var p=e.memoizedState;a.state=p,Mf(e,n,a,s),l=e.memoizedState,o!==n||p!==l||hn.current||ki?(typeof f=="function"&&(pm(e,r,f,n),l=e.memoizedState),(o=ki||dy(e,r,o,n,p,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,M2(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ts(e.type,o),a.props=c,d=e.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Gn(l):(l=fn(r)?La:zr.current,l=ol(e,l));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||p!==l)&&py(e,a,n,l),ki=!1,p=e.memoizedState,a.state=p,Mf(e,n,a,s);var x=e.memoizedState;o!==d||p!==x||hn.current||ki?(typeof m=="function"&&(pm(e,r,m,n),x=e.memoizedState),(c=ki||dy(e,r,c,n,p,x,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),a.props=n,a.state=x,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return xm(t,e,r,n,i,s)}function xm(t,e,r,n,s,i){uT(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&iy(e,r,!1),ei(t,e,i);n=e.stateNode,mC.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=cl(e,t.child,null,i),e.child=cl(e,null,o,i)):Kr(t,e,o,i),e.memoizedState=n.state,s&&iy(e,r,!0),e.child}function hT(t){var e=t.stateNode;e.pendingContext?sy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sy(t,e.context,!1),zg(t,e.containerInfo)}function wy(t,e,r,n,s){return ll(),Lg(s),e.flags|=256,Kr(t,e,r,n),e.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function _m(t){return{baseLanes:t,cachePool:null,transitions:null}}function fT(t,e,r){var n=e.pendingProps,s=Ft.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Et(Ft,s&1),t===null)return fm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ud(a,n,0,null),t=Ra(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_m(r),e.memoizedState=ym,t):Yg(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return gC(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Hi(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Hi(o,i):(i=Ra(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?_m(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=ym,n}return i=t.child,t=i.sibling,n=Hi(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Yg(t,e){return e=Ud({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ch(t,e,r,n){return n!==null&&Lg(n),cl(e,t.child,null,r),t=Yg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gC(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=cp(Error(de(422))),Ch(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Ud({mode:"visible",children:n.children},s,0,null),i=Ra(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&cl(e,t.child,null,a),e.child.memoizedState=_m(a),e.memoizedState=ym,i);if(!(e.mode&1))return Ch(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(de(419)),n=cp(i,n,void 0),Ch(t,e,a,n)}if(o=(a&t.childLanes)!==0,un||o){if(n=gr,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Js(t,s),cs(n,t,s,-1))}return nv(),n=cp(Error(de(421))),Ch(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=NC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Cn=Bi(s.nextSibling),Pn=e,Rt=!0,ns=null,t!==null&&(Un[Bn++]=Vs,Un[Bn++]=Us,Un[Bn++]=Ma,Vs=t.id,Us=t.overflow,Ma=e),e=Yg(e,n.children),e.flags|=4096,e)}function Ey(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),dm(t.return,e,r)}function up(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function dT(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Kr(t,e,n.children,r),n=Ft.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ey(t,r,e);else if(t.tag===19)Ey(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Et(Ft,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Vf(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),up(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vf(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}up(e,!0,r,null,i);break;case"together":up(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function of(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ei(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ua|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,r=Hi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Hi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vC(t,e,r){switch(e.tag){case 3:hT(e),ll();break;case 5:V2(e);break;case 1:fn(e.type)&&Df(e);break;case 4:zg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Et(jf,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Et(Ft,Ft.current&1),e.flags|=128,null):r&e.child.childLanes?fT(t,e,r):(Et(Ft,Ft.current&1),t=ei(t,e,r),t!==null?t.sibling:null);Et(Ft,Ft.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return dT(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Et(Ft,Ft.current),n)break;return null;case 22:case 23:return e.lanes=0,cT(t,e,r)}return ei(t,e,r)}var pT,wm,mT,gT;pT=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wm=function(){};mT=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Ia(Ss.current);var i=null;switch(r){case"input":s=zp(t,s),n=zp(t,n),i=[];break;case"select":s=Lt({},s,{value:void 0}),n=Lt({},n,{value:void 0}),i=[];break;case"textarea":s=Gp(t,s),n=Gp(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rf)}Kp(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&St("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};gT=function(t,e,r,n){r!==n&&(e.flags|=4)};function lc(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function xC(t,e,r){var n=e.pendingProps;switch(jg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(e),null;case 1:return fn(e.type)&&Pf(),Fr(e),null;case 3:return n=e.stateNode,ul(),It(hn),It(zr),Hg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ns!==null&&(Nm(ns),ns=null))),wm(t,e),Fr(e),null;case 5:Wg(e);var s=Ia(au.current);if(r=e.type,t!==null&&e.stateNode!=null)mT(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(de(166));return Fr(e),null}if(t=Ia(Ss.current),bh(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Es]=e,n[su]=i,t=(e.mode&1)!==0,r){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(s=0;s<gc.length;s++)St(gc[s],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":R1(n,i),St("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},St("invalid",n);break;case"textarea":D1(n,i),St("invalid",n)}Kp(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ih(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ih(n.textContent,o,t),s=["children",""+o]):Kc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&St("scroll",n)}switch(r){case"input":yh(n),P1(n,i,!0);break;case"textarea":yh(n),O1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Rf)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Es]=e,t[su]=n,pT(t,e,!1,!1),e.stateNode=t;e:{switch(a=Zp(r,n),r){case"dialog":St("cancel",t),St("close",t),s=n;break;case"iframe":case"object":case"embed":St("load",t),s=n;break;case"video":case"audio":for(s=0;s<gc.length;s++)St(gc[s],t);s=n;break;case"source":St("error",t),s=n;break;case"img":case"image":case"link":St("error",t),St("load",t),s=n;break;case"details":St("toggle",t),s=n;break;case"input":R1(t,n),s=zp(t,n),St("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Lt({},n,{value:void 0}),St("invalid",t);break;case"textarea":D1(t,n),s=Gp(t,n),St("invalid",t);break;default:s=n}Kp(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?qE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HE(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zc(t,l):typeof l=="number"&&Zc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&St("scroll",t):l!=null&&wg(t,i,l,a))}switch(r){case"input":yh(t),P1(t,n,!1);break;case"textarea":yh(t),O1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Yi(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?zo(t,!!n.multiple,i,!1):n.defaultValue!=null&&zo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Rf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fr(e),null;case 6:if(t&&e.stateNode!=null)gT(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(de(166));if(r=Ia(au.current),Ia(Ss.current),bh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Es]=e,(i=n.nodeValue!==r)&&(t=Pn,t!==null))switch(t.tag){case 3:Ih(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ih(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Es]=e,e.stateNode=n}return Fr(e),null;case 13:if(It(Ft),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&Cn!==null&&e.mode&1&&!(e.flags&128))O2(),ll(),e.flags|=98560,i=!1;else if(i=bh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(de(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[Es]=e}else ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fr(e),i=!1}else ns!==null&&(Nm(ns),ns=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ft.current&1?lr===0&&(lr=3):nv())),e.updateQueue!==null&&(e.flags|=4),Fr(e),null);case 4:return ul(),wm(t,e),t===null&&ru(e.stateNode.containerInfo),Fr(e),null;case 10:return Ug(e.type._context),Fr(e),null;case 17:return fn(e.type)&&Pf(),Fr(e),null;case 19:if(It(Ft),i=e.memoizedState,i===null)return Fr(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)lc(i,!1);else{if(lr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Vf(t),a!==null){for(e.flags|=128,lc(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Et(Ft,Ft.current&1|2),e.child}t=t.sibling}i.tail!==null&&Kt()>fl&&(e.flags|=128,n=!0,lc(i,!1),e.lanes=4194304)}else{if(!n)if(t=Vf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),lc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Rt)return Fr(e),null}else 2*Kt()-i.renderingStartTime>fl&&r!==1073741824&&(e.flags|=128,n=!0,lc(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Kt(),e.sibling=null,r=Ft.current,Et(Ft,n?r&1|2:r&1),e):(Fr(e),null);case 22:case 23:return rv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?kn&1073741824&&(Fr(e),e.subtreeFlags&6&&(e.flags|=8192)):Fr(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function yC(t,e){switch(jg(e),e.tag){case 1:return fn(e.type)&&Pf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ul(),It(hn),It(zr),Hg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wg(e),null;case 13:if(It(Ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return It(Ft),null;case 4:return ul(),null;case 10:return Ug(e.type._context),null;case 22:case 23:return rv(),null;case 24:return null;default:return null}}var Rh=!1,Mr=!1,_C=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function jo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Wt(t,e,n)}else r.current=null}function Em(t,e,r){try{r()}catch(n){Wt(t,e,n)}}var Ty=!1;function wC(t,e){if(im=bf,t=w2(),Og(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,f=0,d=t,p=null;t:for(;;){for(var m;d!==r||s!==0&&d.nodeType!==3||(o=a+s),d!==i||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===r&&++c===s&&(o=a),p===i&&++f===n&&(l=a),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(am={focusedElem:t,selectionRange:r},bf=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,y=x.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?g:ts(e.type,g),y);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(b){Wt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return x=Ty,Ty=!1,x}function Dc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Em(e,r,i)}s=s.next}while(s!==n)}}function Md(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Tm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function vT(t){var e=t.alternate;e!==null&&(t.alternate=null,vT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Es],delete e[su],delete e[cm],delete e[nC],delete e[sC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xT(t){return t.tag===5||t.tag===3||t.tag===4}function ky(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function km(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rf));else if(n!==4&&(t=t.child,t!==null))for(km(t,e,r),t=t.sibling;t!==null;)km(t,e,r),t=t.sibling}function Sm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Sm(t,e,r),t=t.sibling;t!==null;)Sm(t,e,r),t=t.sibling}var yr=null,rs=!1;function _i(t,e,r){for(r=r.child;r!==null;)yT(t,e,r),r=r.sibling}function yT(t,e,r){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount(Cd,r)}catch{}switch(r.tag){case 5:Mr||jo(r,e);case 6:var n=yr,s=rs;yr=null,_i(t,e,r),yr=n,rs=s,yr!==null&&(rs?(t=yr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):yr.removeChild(r.stateNode));break;case 18:yr!==null&&(rs?(t=yr,r=r.stateNode,t.nodeType===8?np(t.parentNode,r):t.nodeType===1&&np(t,r),Jc(t)):np(yr,r.stateNode));break;case 4:n=yr,s=rs,yr=r.stateNode.containerInfo,rs=!0,_i(t,e,r),yr=n,rs=s;break;case 0:case 11:case 14:case 15:if(!Mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Em(r,e,a),s=s.next}while(s!==n)}_i(t,e,r);break;case 1:if(!Mr&&(jo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Wt(r,e,o)}_i(t,e,r);break;case 21:_i(t,e,r);break;case 22:r.mode&1?(Mr=(n=Mr)||r.memoizedState!==null,_i(t,e,r),Mr=n):_i(t,e,r);break;default:_i(t,e,r)}}function Sy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _C),e.forEach(function(n){var s=CC.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:yr=o.stateNode,rs=!1;break e;case 3:yr=o.stateNode.containerInfo,rs=!0;break e;case 4:yr=o.stateNode.containerInfo,rs=!0;break e}o=o.return}if(yr===null)throw Error(de(160));yT(i,a,s),yr=null,rs=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Wt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_T(e,t),e=e.sibling}function _T(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),xs(t),n&4){try{Dc(3,t,t.return),Md(3,t)}catch(g){Wt(t,t.return,g)}try{Dc(5,t,t.return)}catch(g){Wt(t,t.return,g)}}break;case 1:Qn(e,t),xs(t),n&512&&r!==null&&jo(r,r.return);break;case 5:if(Qn(e,t),xs(t),n&512&&r!==null&&jo(r,r.return),t.flags&32){var s=t.stateNode;try{Zc(s,"")}catch(g){Wt(t,t.return,g)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&$E(s,i),Zp(o,a);var c=Zp(o,i);for(a=0;a<l.length;a+=2){var f=l[a],d=l[a+1];f==="style"?qE(s,d):f==="dangerouslySetInnerHTML"?HE(s,d):f==="children"?Zc(s,d):wg(s,f,d,c)}switch(o){case"input":Wp(s,i);break;case"textarea":zE(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?zo(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?zo(s,!!i.multiple,i.defaultValue,!0):zo(s,!!i.multiple,i.multiple?[]:"",!1))}s[su]=i}catch(g){Wt(t,t.return,g)}}break;case 6:if(Qn(e,t),xs(t),n&4){if(t.stateNode===null)throw Error(de(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Wt(t,t.return,g)}}break;case 3:if(Qn(e,t),xs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Jc(e.containerInfo)}catch(g){Wt(t,t.return,g)}break;case 4:Qn(e,t),xs(t);break;case 13:Qn(e,t),xs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ev=Kt())),n&4&&Sy(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Mr=(c=Mr)||f,Qn(e,t),Mr=c):Qn(e,t),xs(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Ce=t,f=t.child;f!==null;){for(d=Ce=f;Ce!==null;){switch(p=Ce,m=p.child,p.tag){case 0:case 11:case 14:case 15:Dc(4,p,p.return);break;case 1:jo(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){Wt(n,r,g)}}break;case 5:jo(p,p.return);break;case 22:if(p.memoizedState!==null){Iy(d);continue}}m!==null?(m.return=p,Ce=m):Iy(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=GE("display",a))}catch(g){Wt(t,t.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Wt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qn(e,t),xs(t),n&4&&Sy(t);break;case 21:break;default:Qn(e,t),xs(t)}}function xs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(xT(r)){var n=r;break e}r=r.return}throw Error(de(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Zc(s,""),n.flags&=-33);var i=ky(t);Sm(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=ky(t);km(t,o,a);break;default:throw Error(de(161))}}catch(l){Wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EC(t,e,r){Ce=t,wT(t)}function wT(t,e,r){for(var n=(t.mode&1)!==0;Ce!==null;){var s=Ce,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Rh;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Mr;o=Rh;var c=Mr;if(Rh=a,(Mr=l)&&!c)for(Ce=s;Ce!==null;)a=Ce,l=a.child,a.tag===22&&a.memoizedState!==null?by(s):l!==null?(l.return=a,Ce=l):by(s);for(;i!==null;)Ce=i,wT(i),i=i.sibling;Ce=s,Rh=o,Mr=c}Ay(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ce=i):Ay(t)}}function Ay(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mr||Md(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Mr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ts(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&uy(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}uy(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Jc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Mr||e.flags&512&&Tm(e)}catch(p){Wt(e,e.return,p)}}if(e===t){Ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function Iy(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function by(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Md(4,e)}catch(l){Wt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Wt(e,s,l)}}var i=e.return;try{Tm(e)}catch(l){Wt(e,i,l)}break;case 5:var a=e.return;try{Tm(e)}catch(l){Wt(e,a,l)}}}catch(l){Wt(e,e.return,l)}if(e===t){Ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ce=o;break}Ce=e.return}}var TC=Math.ceil,$f=li.ReactCurrentDispatcher,Qg=li.ReactCurrentOwner,Wn=li.ReactCurrentBatchConfig,nt=0,gr=null,Qt=null,Sr=0,kn=0,Lo=la(0),lr=0,uu=null,Ua=0,Vd=0,Jg=0,Oc=null,on=null,ev=0,fl=1/0,Ls=null,zf=!1,Am=null,zi=null,Ph=!1,Di=null,Wf=0,Fc=0,Im=null,lf=-1,cf=0;function Yr(){return nt&6?Kt():lf!==-1?lf:lf=Kt()}function Wi(t){return t.mode&1?nt&2&&Sr!==0?Sr&-Sr:aC.transition!==null?(cf===0&&(cf=i2()),cf):(t=dt,t!==0||(t=window.event,t=t===void 0?16:f2(t.type)),t):1}function cs(t,e,r,n){if(50<Fc)throw Fc=0,Im=null,Error(de(185));Ou(t,r,n),(!(nt&2)||t!==gr)&&(t===gr&&(!(nt&2)&&(Vd|=r),lr===4&&Ai(t,Sr)),dn(t,n),r===1&&nt===0&&!(e.mode&1)&&(fl=Kt()+500,Fd&&ca()))}function dn(t,e){var r=t.callbackNode;aN(t,e);var n=If(t,t===gr?Sr:0);if(n===0)r!==null&&L1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&L1(r),e===1)t.tag===0?iC(Ny.bind(null,t)):R2(Ny.bind(null,t)),tC(function(){!(nt&6)&&ca()}),r=null;else{switch(a2(n)){case 1:r=Ag;break;case 4:r=n2;break;case 16:r=Af;break;case 536870912:r=s2;break;default:r=Af}r=NT(r,ET.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ET(t,e){if(lf=-1,cf=0,nt&6)throw Error(de(327));var r=t.callbackNode;if(Ko()&&t.callbackNode!==r)return null;var n=If(t,t===gr?Sr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Hf(t,n);else{e=n;var s=nt;nt|=2;var i=kT();(gr!==t||Sr!==e)&&(Ls=null,fl=Kt()+500,Ca(t,e));do try{AC();break}catch(o){TT(t,o)}while(!0);Vg(),$f.current=i,nt=s,Qt!==null?e=0:(gr=null,Sr=0,e=lr)}if(e!==0){if(e===2&&(s=em(t),s!==0&&(n=s,e=bm(t,s))),e===1)throw r=uu,Ca(t,0),Ai(t,n),dn(t,Kt()),r;if(e===6)Ai(t,n);else{if(s=t.current.alternate,!(n&30)&&!kC(s)&&(e=Hf(t,n),e===2&&(i=em(t),i!==0&&(n=i,e=bm(t,i))),e===1))throw r=uu,Ca(t,0),Ai(t,n),dn(t,Kt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(de(345));case 2:Ea(t,on,Ls);break;case 3:if(Ai(t,n),(n&130023424)===n&&(e=ev+500-Kt(),10<e)){if(If(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Yr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=lm(Ea.bind(null,t,on,Ls),e);break}Ea(t,on,Ls);break;case 4:if(Ai(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-ls(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*TC(n/1960))-n,10<n){t.timeoutHandle=lm(Ea.bind(null,t,on,Ls),n);break}Ea(t,on,Ls);break;case 5:Ea(t,on,Ls);break;default:throw Error(de(329))}}}return dn(t,Kt()),t.callbackNode===r?ET.bind(null,t):null}function bm(t,e){var r=Oc;return t.current.memoizedState.isDehydrated&&(Ca(t,e).flags|=256),t=Hf(t,e),t!==2&&(e=on,on=r,e!==null&&Nm(e)),t}function Nm(t){on===null?on=t:on.push.apply(on,t)}function kC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!hs(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ai(t,e){for(e&=~Jg,e&=~Vd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ls(e),n=1<<r;t[r]=-1,e&=~n}}function Ny(t){if(nt&6)throw Error(de(327));Ko();var e=If(t,0);if(!(e&1))return dn(t,Kt()),null;var r=Hf(t,e);if(t.tag!==0&&r===2){var n=em(t);n!==0&&(e=n,r=bm(t,n))}if(r===1)throw r=uu,Ca(t,0),Ai(t,e),dn(t,Kt()),r;if(r===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ea(t,on,Ls),dn(t,Kt()),null}function tv(t,e){var r=nt;nt|=1;try{return t(e)}finally{nt=r,nt===0&&(fl=Kt()+500,Fd&&ca())}}function Ba(t){Di!==null&&Di.tag===0&&!(nt&6)&&Ko();var e=nt;nt|=1;var r=Wn.transition,n=dt;try{if(Wn.transition=null,dt=1,t)return t()}finally{dt=n,Wn.transition=r,nt=e,!(nt&6)&&ca()}}function rv(){kn=Lo.current,It(Lo)}function Ca(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,eC(r)),Qt!==null)for(r=Qt.return;r!==null;){var n=r;switch(jg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pf();break;case 3:ul(),It(hn),It(zr),Hg();break;case 5:Wg(n);break;case 4:ul();break;case 13:It(Ft);break;case 19:It(Ft);break;case 10:Ug(n.type._context);break;case 22:case 23:rv()}r=r.return}if(gr=t,Qt=t=Hi(t.current,null),Sr=kn=e,lr=0,uu=null,Jg=Vd=Ua=0,on=Oc=null,Aa!==null){for(e=0;e<Aa.length;e++)if(r=Aa[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Aa=null}return t}function TT(t,e){do{var r=Qt;try{if(Vg(),sf.current=Bf,Uf){for(var n=jt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Uf=!1}if(Va=0,hr=ar=jt=null,Pc=!1,ou=0,Qg.current=null,r===null||r.return===null){lr=1,uu=e,Qt=null;break}e:{var i=t,a=r.return,o=r,l=e;if(e=Sr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=o,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=gy(a);if(m!==null){m.flags&=-257,vy(m,a,o,i,e),m.mode&1&&my(i,c,e),e=m,l=c;var x=e.updateQueue;if(x===null){var g=new Set;g.add(l),e.updateQueue=g}else x.add(l);break e}else{if(!(e&1)){my(i,c,e),nv();break e}l=Error(de(426))}}else if(Rt&&o.mode&1){var y=gy(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),vy(y,a,o,i,e),Lg(hl(l,o));break e}}i=l=hl(l,o),lr!==4&&(lr=2),Oc===null?Oc=[i]:Oc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=aT(i,l,e);cy(i,E);break e;case 1:o=l;var _=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zi===null||!zi.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=oT(i,o,e);cy(i,b);break e}}i=i.return}while(i!==null)}AT(r)}catch(B){e=B,Qt===r&&r!==null&&(Qt=r=r.return);continue}break}while(!0)}function kT(){var t=$f.current;return $f.current=Bf,t===null?Bf:t}function nv(){(lr===0||lr===3||lr===2)&&(lr=4),gr===null||!(Ua&268435455)&&!(Vd&268435455)||Ai(gr,Sr)}function Hf(t,e){var r=nt;nt|=2;var n=kT();(gr!==t||Sr!==e)&&(Ls=null,Ca(t,e));do try{SC();break}catch(s){TT(t,s)}while(!0);if(Vg(),nt=r,$f.current=n,Qt!==null)throw Error(de(261));return gr=null,Sr=0,lr}function SC(){for(;Qt!==null;)ST(Qt)}function AC(){for(;Qt!==null&&!Y4();)ST(Qt)}function ST(t){var e=bT(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?AT(t):Qt=e,Qg.current=null}function AT(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=yC(r,e),r!==null){r.flags&=32767,Qt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lr=6,Qt=null;return}}else if(r=xC(r,e,kn),r!==null){Qt=r;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=t}while(e!==null);lr===0&&(lr=5)}function Ea(t,e,r){var n=dt,s=Wn.transition;try{Wn.transition=null,dt=1,IC(t,e,r,n)}finally{Wn.transition=s,dt=n}return null}function IC(t,e,r,n){do Ko();while(Di!==null);if(nt&6)throw Error(de(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(oN(t,i),t===gr&&(Qt=gr=null,Sr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ph||(Ph=!0,NT(Af,function(){return Ko(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Wn.transition,Wn.transition=null;var a=dt;dt=1;var o=nt;nt|=4,Qg.current=null,wC(t,r),_T(r,t),qN(am),bf=!!im,am=im=null,t.current=r,EC(r),Q4(),nt=o,dt=a,Wn.transition=i}else t.current=r;if(Ph&&(Ph=!1,Di=t,Wf=s),i=t.pendingLanes,i===0&&(zi=null),tN(r.stateNode),dn(t,Kt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(zf)throw zf=!1,t=Am,Am=null,t;return Wf&1&&t.tag!==0&&Ko(),i=t.pendingLanes,i&1?t===Im?Fc++:(Fc=0,Im=t):Fc=0,ca(),null}function Ko(){if(Di!==null){var t=a2(Wf),e=Wn.transition,r=dt;try{if(Wn.transition=null,dt=16>t?16:t,Di===null)var n=!1;else{if(t=Di,Di=null,Wf=0,nt&6)throw Error(de(331));var s=nt;for(nt|=4,Ce=t.current;Ce!==null;){var i=Ce,a=i.child;if(Ce.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ce=c;Ce!==null;){var f=Ce;switch(f.tag){case 0:case 11:case 15:Dc(8,f,i)}var d=f.child;if(d!==null)d.return=f,Ce=d;else for(;Ce!==null;){f=Ce;var p=f.sibling,m=f.return;if(vT(f),f===c){Ce=null;break}if(p!==null){p.return=m,Ce=p;break}Ce=m}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ce=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Ce=a;else e:for(;Ce!==null;){if(i=Ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dc(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,Ce=E;break e}Ce=i.return}}var _=t.current;for(Ce=_;Ce!==null;){a=Ce;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Ce=w;else e:for(a=_;Ce!==null;){if(o=Ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Md(9,o)}}catch(B){Wt(o,o.return,B)}if(o===a){Ce=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,Ce=b;break e}Ce=o.return}}if(nt=s,ca(),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot(Cd,t)}catch{}n=!0}return n}finally{dt=r,Wn.transition=e}}return!1}function Cy(t,e,r){e=hl(r,e),e=aT(t,e,1),t=$i(t,e,1),e=Yr(),t!==null&&(Ou(t,1,e),dn(t,e))}function Wt(t,e,r){if(t.tag===3)Cy(t,t,r);else for(;e!==null;){if(e.tag===3){Cy(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zi===null||!zi.has(n))){t=hl(r,t),t=oT(e,t,1),e=$i(e,t,1),t=Yr(),e!==null&&(Ou(e,1,t),dn(e,t));break}}e=e.return}}function bC(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Yr(),t.pingedLanes|=t.suspendedLanes&r,gr===t&&(Sr&r)===r&&(lr===4||lr===3&&(Sr&130023424)===Sr&&500>Kt()-ev?Ca(t,0):Jg|=r),dn(t,e)}function IT(t,e){e===0&&(t.mode&1?(e=Eh,Eh<<=1,!(Eh&130023424)&&(Eh=4194304)):e=1);var r=Yr();t=Js(t,e),t!==null&&(Ou(t,e,r),dn(t,r))}function NC(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),IT(t,r)}function CC(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(de(314))}n!==null&&n.delete(e),IT(t,r)}var bT;bT=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||hn.current)un=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return un=!1,vC(t,e,r);un=!!(t.flags&131072)}else un=!1,Rt&&e.flags&1048576&&P2(e,Ff,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;of(t,e),t=e.pendingProps;var s=ol(e,zr.current);qo(e,r),s=qg(null,e,n,t,s,r);var i=Kg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(n)?(i=!0,Df(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$g(e),s.updater=Ld,e.stateNode=s,s._reactInternals=e,mm(e,n,t,r),e=xm(null,e,n,!0,i,r)):(e.tag=0,Rt&&i&&Fg(e),Kr(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(of(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=PC(n),t=ts(n,t),s){case 0:e=vm(null,e,n,t,r);break e;case 1:e=_y(null,e,n,t,r);break e;case 11:e=xy(null,e,n,t,r);break e;case 14:e=yy(null,e,n,ts(n.type,t),r);break e}throw Error(de(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ts(n,s),vm(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ts(n,s),_y(t,e,n,s,r);case 3:e:{if(hT(e),t===null)throw Error(de(387));n=e.pendingProps,i=e.memoizedState,s=i.element,M2(t,e),Mf(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=hl(Error(de(423)),e),e=wy(t,e,n,r,s);break e}else if(n!==s){s=hl(Error(de(424)),e),e=wy(t,e,n,r,s);break e}else for(Cn=Bi(e.stateNode.containerInfo.firstChild),Pn=e,Rt=!0,ns=null,r=j2(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ll(),n===s){e=ei(t,e,r);break e}Kr(t,e,n,r)}e=e.child}return e;case 5:return V2(e),t===null&&fm(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,om(n,s)?a=null:i!==null&&om(n,i)&&(e.flags|=32),uT(t,e),Kr(t,e,a,r),e.child;case 6:return t===null&&fm(e),null;case 13:return fT(t,e,r);case 4:return zg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=cl(e,null,n,r):Kr(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ts(n,s),xy(t,e,n,s,r);case 7:return Kr(t,e,e.pendingProps,r),e.child;case 8:return Kr(t,e,e.pendingProps.children,r),e.child;case 12:return Kr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Et(jf,n._currentValue),n._currentValue=a,i!==null)if(hs(i.value,a)){if(i.children===s.children&&!hn.current){e=ei(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Gs(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),dm(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(de(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),dm(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Kr(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,qo(e,r),s=Gn(s),n=n(s),e.flags|=1,Kr(t,e,n,r),e.child;case 14:return n=e.type,s=ts(n,e.pendingProps),s=ts(n.type,s),yy(t,e,n,s,r);case 15:return lT(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ts(n,s),of(t,e),e.tag=1,fn(n)?(t=!0,Df(e)):t=!1,qo(e,r),iT(e,n,s),mm(e,n,s,r),xm(null,e,n,!0,t,r);case 19:return dT(t,e,r);case 22:return cT(t,e,r)}throw Error(de(156,e.tag))};function NT(t,e){return r2(t,e)}function RC(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,r,n){return new RC(t,e,r,n)}function sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PC(t){if(typeof t=="function")return sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tg)return 11;if(t===kg)return 14}return 2}function Hi(t,e){var r=t.alternate;return r===null?(r=$n(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function uf(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")sv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Io:return Ra(r.children,s,i,e);case Eg:a=8,s|=8;break;case Vp:return t=$n(12,r,e,s|2),t.elementType=Vp,t.lanes=i,t;case Up:return t=$n(13,r,e,s),t.elementType=Up,t.lanes=i,t;case Bp:return t=$n(19,r,e,s),t.elementType=Bp,t.lanes=i,t;case VE:return Ud(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LE:a=10;break e;case ME:a=9;break e;case Tg:a=11;break e;case kg:a=14;break e;case Ti:a=16,n=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=$n(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ra(t,e,r,n){return t=$n(7,t,n,e),t.lanes=r,t}function Ud(t,e,r,n){return t=$n(22,t,n,e),t.elementType=VE,t.lanes=r,t.stateNode={isHidden:!1},t}function hp(t,e,r){return t=$n(6,t,null,e),t.lanes=r,t}function fp(t,e,r){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DC(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=G0(0),this.expirationTimes=G0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function iv(t,e,r,n,s,i,a,o,l){return t=new DC(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$n(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$g(i),t}function OC(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ao,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function CT(t){if(!t)return Qi;t=t._reactInternals;e:{if(Qa(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var r=t.type;if(fn(r))return C2(t,r,e)}return e}function RT(t,e,r,n,s,i,a,o,l){return t=iv(r,n,!0,t,s,i,a,o,l),t.context=CT(null),r=t.current,n=Yr(),s=Wi(r),i=Gs(n,s),i.callback=e??null,$i(r,i,s),t.current.lanes=s,Ou(t,s,n),dn(t,n),t}function Bd(t,e,r,n){var s=e.current,i=Yr(),a=Wi(s);return r=CT(r),e.context===null?e.context=r:e.pendingContext=r,e=Gs(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$i(s,e,a),t!==null&&(cs(t,s,a,i),nf(t,s,a)),a}function Gf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ry(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function av(t,e){Ry(t,e),(t=t.alternate)&&Ry(t,e)}function FC(){return null}var PT=typeof reportError=="function"?reportError:function(t){console.error(t)};function ov(t){this._internalRoot=t}$d.prototype.render=ov.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));Bd(t,e,null,null)};$d.prototype.unmount=ov.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ba(function(){Bd(null,t,null,null)}),e[Qs]=null}};function $d(t){this._internalRoot=t}$d.prototype.unstable_scheduleHydration=function(t){if(t){var e=c2();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Si.length&&e!==0&&e<Si[r].priority;r++);Si.splice(r,0,t),r===0&&h2(t)}};function lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Py(){}function jC(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Gf(a);i.call(c)}}var a=RT(e,n,t,0,null,!1,!1,"",Py);return t._reactRootContainer=a,t[Qs]=a.current,ru(t.nodeType===8?t.parentNode:t),Ba(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Gf(l);o.call(c)}}var l=iv(t,0,!1,null,null,!1,!1,"",Py);return t._reactRootContainer=l,t[Qs]=l.current,ru(t.nodeType===8?t.parentNode:t),Ba(function(){Bd(e,l,r,n)}),l}function Wd(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Gf(a);o.call(l)}}Bd(e,a,t,s)}else a=jC(r,e,t,s,n);return Gf(a)}o2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=mc(e.pendingLanes);r!==0&&(Ig(e,r|1),dn(e,Kt()),!(nt&6)&&(fl=Kt()+500,ca()))}break;case 13:Ba(function(){var n=Js(t,1);if(n!==null){var s=Yr();cs(n,t,1,s)}}),av(t,1)}};bg=function(t){if(t.tag===13){var e=Js(t,134217728);if(e!==null){var r=Yr();cs(e,t,134217728,r)}av(t,134217728)}};l2=function(t){if(t.tag===13){var e=Wi(t),r=Js(t,e);if(r!==null){var n=Yr();cs(r,t,e,n)}av(t,e)}};c2=function(){return dt};u2=function(t,e){var r=dt;try{return dt=t,e()}finally{dt=r}};Yp=function(t,e,r){switch(e){case"input":if(Wp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Od(n);if(!s)throw Error(de(90));BE(n),Wp(n,s)}}}break;case"textarea":zE(t,r);break;case"select":e=r.value,e!=null&&zo(t,!!r.multiple,e,!1)}};XE=tv;YE=Ba;var LC={usingClientEntryPoint:!1,Events:[ju,Ro,Od,KE,ZE,tv]},cc={findFiberByHostInstance:Sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MC={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=e2(t),t===null?null:t.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||FC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{Cd=Dh.inject(MC),ks=Dh}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LC;jn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lv(e))throw Error(de(200));return OC(t,e,null,r)};jn.createRoot=function(t,e){if(!lv(t))throw Error(de(299));var r=!1,n="",s=PT;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=iv(t,1,!1,null,null,r,!1,n,s),t[Qs]=e.current,ru(t.nodeType===8?t.parentNode:t),new ov(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=e2(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return Ba(t)};jn.hydrate=function(t,e,r){if(!zd(e))throw Error(de(200));return Wd(null,t,e,!0,r)};jn.hydrateRoot=function(t,e,r){if(!lv(t))throw Error(de(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=PT;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=RT(e,null,t,1,r??null,s,!1,i,a),t[Qs]=e.current,ru(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new $d(e)};jn.render=function(t,e,r){if(!zd(e))throw Error(de(200));return Wd(null,t,e,!1,r)};jn.unmountComponentAtNode=function(t){if(!zd(t))throw Error(de(40));return t._reactRootContainer?(Ba(function(){Wd(null,null,t,!1,function(){t._reactRootContainer=null,t[Qs]=null})}),!0):!1};jn.unstable_batchedUpdates=tv;jn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!zd(r))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return Wd(t,e,r,!1,n)};jn.version="18.3.1-next-f1338f8080-20240426";function DT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DT)}catch(t){console.error(t)}}DT(),DE.exports=jn;var OT=DE.exports,Dy=OT;Lp.createRoot=Dy.createRoot,Lp.hydrateRoot=Dy.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hu.apply(this,arguments)}var Oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oi||(Oi={}));const Oy="popstate";function VC(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return Cm("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:FT(s)}return BC(e,r,null,t)}function er(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UC(){return Math.random().toString(36).substr(2,8)}function Fy(t,e){return{usr:t.state,key:t.key,idx:e}}function Cm(t,e,r,n){return r===void 0&&(r=null),hu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Cl(e):e,{state:r,key:e&&e.key||n||UC()})}function FT(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Cl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function BC(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Oi.Pop,l=null,c=f();c==null&&(c=0,a.replaceState(hu({},a.state,{idx:c}),""));function f(){return(a.state||{idx:null}).idx}function d(){o=Oi.Pop;let y=f(),E=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:E})}function p(y,E){o=Oi.Push;let _=Cm(g.location,y,E);c=f()+1;let w=Fy(_,c),b=g.createHref(_);try{a.pushState(w,"",b)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(b)}i&&l&&l({action:o,location:g.location,delta:1})}function m(y,E){o=Oi.Replace;let _=Cm(g.location,y,E);c=f();let w=Fy(_,c),b=g.createHref(_);a.replaceState(w,"",b),i&&l&&l({action:o,location:g.location,delta:0})}function x(y){let E=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof y=="string"?y:FT(y);return _=_.replace(/ $/,"%20"),er(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let g={get action(){return o},get location(){return t(s,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Oy,d),l=y,()=>{s.removeEventListener(Oy,d),l=null}},createHref(y){return e(s,y)},createURL:x,encodeLocation(y){let E=x(y);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:m,go(y){return a.go(y)}};return g}var jy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jy||(jy={}));function $C(t,e,r){return r===void 0&&(r="/"),zC(t,e,r)}function zC(t,e,r,n){let s=typeof e=="string"?Cl(e):e,i=MT(s.pathname||"/",r);if(i==null)return null;let a=jT(t);WC(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=rR(i);o=JC(a[l],c)}return o}function jT(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(er(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Pa([n,l.relativePath]),f=r.concat(l);i.children&&i.children.length>0&&(er(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jT(i.children,e,f,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:YC(c,i.index),routesMeta:f})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of LT(i.path))s(i,a,l)}),e}function LT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=LT(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function WC(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:QC(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const HC=/^:[\w-]+$/,GC=3,qC=2,KC=1,ZC=10,XC=-2,Ly=t=>t==="*";function YC(t,e){let r=t.split("/"),n=r.length;return r.some(Ly)&&(n+=XC),e&&(n+=qC),r.filter(s=>!Ly(s)).reduce((s,i)=>s+(HC.test(i)?GC:i===""?KC:ZC),n)}function QC(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function JC(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",d=eR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),p=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Pa([i,d.pathname]),pathnameBase:oR(Pa([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Pa([i,d.pathnameBase]))}return a}function eR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=tR(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,f,d)=>{let{paramName:p,isOptional:m}=f;if(p==="*"){let g=o[d]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=o[d];return m&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function tR(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),cv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function rR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function MT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const nR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sR=t=>nR.test(t);function iR(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Cl(t):t,i;if(r)if(sR(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),cv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=My(r.substring(1),"/"):i=My(r,e)}else i=e;return{pathname:i,search:lR(n),hash:cR(s)}}function My(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function dp(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aR(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function VT(t,e){let r=aR(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function UT(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Cl(t):(s=hu({},t),er(!s.pathname||!s.pathname.includes("?"),dp("?","pathname","search",s)),er(!s.pathname||!s.pathname.includes("#"),dp("#","pathname","hash",s)),er(!s.search||!s.search.includes("#"),dp("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}o=d>=0?e[d]:"/"}let l=iR(s,o),c=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const Pa=t=>t.join("/").replace(/\/\/+/g,"/"),oR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BT=["post","put","patch","delete"];new Set(BT);const hR=["get",...BT];new Set(hR);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fu.apply(this,arguments)}const uv=U.createContext(null),fR=U.createContext(null),Mu=U.createContext(null),Hd=U.createContext(null),Ja=U.createContext({outlet:null,matches:[],isDataRoute:!1}),$T=U.createContext(null);function Vu(){return U.useContext(Hd)!=null}function hv(){return Vu()||er(!1),U.useContext(Hd).location}function zT(t){U.useContext(Mu).static||U.useLayoutEffect(t)}function Gd(){let{isDataRoute:t}=U.useContext(Ja);return t?SR():dR()}function dR(){Vu()||er(!1);let t=U.useContext(uv),{basename:e,future:r,navigator:n}=U.useContext(Mu),{matches:s}=U.useContext(Ja),{pathname:i}=hv(),a=JSON.stringify(VT(s,r.v7_relativeSplatPath)),o=U.useRef(!1);return zT(()=>{o.current=!0}),U.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=UT(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Pa([e,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[e,n,a,i,t])}function pR(t,e){return mR(t,e)}function mR(t,e,r,n){Vu()||er(!1);let{navigator:s}=U.useContext(Mu),{matches:i}=U.useContext(Ja),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=hv(),f;if(e){var d;let y=typeof e=="string"?Cl(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||er(!1),f=y}else f=c;let p=f.pathname||"/",m=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=$C(t,{pathname:m}),g=_R(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Pa([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Pa([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return e&&g?U.createElement(Hd.Provider,{value:{location:fu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Oi.Pop}},g):g}function gR(){let t=kR(),e=uR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),r?U.createElement("pre",{style:s},r):null,null)}const vR=U.createElement(gR,null);class xR extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?U.createElement(Ja.Provider,{value:this.props.routeContext},U.createElement($T.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yR(t){let{routeContext:e,match:r,children:n}=t,s=U.useContext(uv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),U.createElement(Ja.Provider,{value:e},n)}function _R(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let f=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);f>=0||er(!1),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:p,errors:m}=r,x=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,d,p)=>{let m,x=!1,g=null,y=null;r&&(m=o&&d.route.id?o[d.route.id]:void 0,g=d.route.errorElement||vR,l&&(c<0&&p===0?(AR("route-fallback"),x=!0,y=null):c===p&&(x=!0,y=d.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,p+1)),_=()=>{let w;return m?w=g:x?w=y:d.route.Component?w=U.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=f,U.createElement(yR,{match:d,routeContext:{outlet:f,matches:E,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?U.createElement(xR,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var WT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WT||{}),HT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(HT||{});function wR(t){let e=U.useContext(uv);return e||er(!1),e}function ER(t){let e=U.useContext(fR);return e||er(!1),e}function TR(t){let e=U.useContext(Ja);return e||er(!1),e}function GT(t){let e=TR(),r=e.matches[e.matches.length-1];return r.route.id||er(!1),r.route.id}function kR(){var t;let e=U.useContext($T),r=ER(),n=GT();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function SR(){let{router:t}=wR(WT.UseNavigateStable),e=GT(HT.UseNavigateStable),r=U.useRef(!1);return zT(()=>{r.current=!0}),U.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,fu({fromRouteId:e},i)))},[t,e])}const Vy={};function AR(t,e,r){Vy[t]||(Vy[t]=!0)}function IR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Rm(t){let{to:e,replace:r,state:n,relative:s}=t;Vu()||er(!1);let{future:i,static:a}=U.useContext(Mu),{matches:o}=U.useContext(Ja),{pathname:l}=hv(),c=Gd(),f=UT(e,VT(o,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(f);return U.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:s}),[c,d,s,r,n]),null}function vc(t){er(!1)}function bR(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Oi.Pop,navigator:i,static:a=!1,future:o}=t;Vu()&&er(!1);let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:i,static:a,future:fu({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=Cl(n));let{pathname:f="/",search:d="",hash:p="",state:m=null,key:x="default"}=n,g=U.useMemo(()=>{let y=MT(f,l);return y==null?null:{location:{pathname:y,search:d,hash:p,state:m,key:x},navigationType:s}},[l,f,d,p,m,x,s]);return g==null?null:U.createElement(Mu.Provider,{value:c},U.createElement(Hd.Provider,{children:r,value:g}))}function NR(t){let{children:e,location:r}=t;return pR(Pm(e),r)}new Promise(()=>{});function Pm(t,e){e===void 0&&(e=[]);let r=[];return U.Children.forEach(t,(n,s)=>{if(!U.isValidElement(n))return;let i=[...e,s];if(n.type===U.Fragment){r.push.apply(r,Pm(n.props.children,i));return}n.type!==vc&&er(!1),!n.props.index||!n.props.children||er(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Pm(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const CR="6";try{window.__reactRouterVersion=CR}catch{}const RR="startTransition",Uy=b4[RR];function PR(t){let{basename:e,children:r,future:n,window:s}=t,i=U.useRef();i.current==null&&(i.current=VC({window:s,v5Compat:!0}));let a=i.current,[o,l]=U.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},f=U.useCallback(d=>{c&&Uy?Uy(()=>l(d)):l(d)},[l,c]);return U.useLayoutEffect(()=>a.listen(f),[a,f]),U.useEffect(()=>IR(n),[n]),U.createElement(bR,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var By;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(By||(By={}));var $y;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($y||($y={}));var zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},DR=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],a=t[r++],o=t[r++],l=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],a=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,o=a?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,f=i>>2,d=(i&3)<<4|o>>4;let p=(o&15)<<2|c>>6,m=c&63;l||(m=64,a||(p=64)),n.push(r[f],r[d],r[p],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],o=s<t.length?r[t.charAt(s)]:0;++s;const c=s<t.length?r[t.charAt(s)]:64;++s;const d=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||o==null||c==null||d==null)throw new OR;const p=i<<2|o>>4;if(n.push(p),c!==64){const m=o<<4&240|c>>2;if(n.push(m),d!==64){const x=c<<6&192|d;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FR=function(t){const e=qT(t);return KT.encodeByteArray(e,!0)},qf=function(t){return FR(t).replace(/\./g,"")},ZT=function(t){try{return KT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>jR().__FIREBASE_DEFAULTS__,MR=()=>{if(typeof process>"u"||typeof zy>"u")return;const t=zy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZT(t[1]);return e&&JSON.parse(e)},qd=()=>{try{return LR()||MR()||VR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XT=t=>{var e,r;return(r=(e=qd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},UR=t=>{const e=XT(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},YT=()=>{var t;return(t=qd())===null||t===void 0?void 0:t.config},QT=t=>{var e;return(e=qd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qf(JSON.stringify(r)),qf(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wr())}function WR(){var t;const e=(t=qd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KR(){const t=Wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZR(){return!WR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XR(){try{return typeof indexedDB=="object"}catch{return!1}}function YR(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="FirebaseError";class ci extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=QR,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?JR(i,n):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new ci(s,o,n)}}function JR(t,e){return t.replace(eP,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const eP=/\{\$([^}]+)}/g;function tP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kf(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],a=e[s];if(Wy(i)&&Wy(a)){if(!Kf(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Wy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function yc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function rP(t,e){const r=new nP(t,e);return r.subscribe.bind(r)}class nP{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");sP(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=pp),s.error===void 0&&(s.error=pp),s.complete===void 0&&(s.complete=pp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sP(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t){return t&&t._delegate?t._delegate:t}class $a{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new BR;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oP(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&a.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:aP(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aP(t){return t===Ta?void 0:t}function oP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new iP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const cP={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},uP=Je.INFO,hP={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},fP=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=hP[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let fv=class{constructor(e){this.name=e,this._logLevel=uP,this._logHandler=fP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}};const dP=(t,e)=>e.some(r=>t instanceof r);let Hy,Gy;function pP(){return Hy||(Hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mP(){return Gy||(Gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JT=new WeakMap,Dm=new WeakMap,ek=new WeakMap,mp=new WeakMap,dv=new WeakMap;function gP(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{r(Gi(t.result)),s()},a=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&JT.set(r,t)}).catch(()=>{}),dv.set(e,t),e}function vP(t){if(Dm.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Dm.set(t,e)}let Om={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Dm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ek.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Gi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xP(t){Om=t(Om)}function yP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(gp(this),e,...r);return ek.set(n,e.sort?e.sort():[e]),Gi(n)}:mP().includes(t)?function(...e){return t.apply(gp(this),e),Gi(JT.get(this))}:function(...e){return Gi(t.apply(gp(this),e))}}function _P(t){return typeof t=="function"?yP(t):(t instanceof IDBTransaction&&vP(t),dP(t,pP())?new Proxy(t,Om):t)}function Gi(t){if(t instanceof IDBRequest)return gP(t);if(mp.has(t))return mp.get(t);const e=_P(t);return e!==t&&(mp.set(t,e),dv.set(e,t)),e}const gp=t=>dv.get(t);function wP(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=Gi(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Gi(a.result),l.oldVersion,l.newVersion,Gi(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const EP=["get","getKey","getAll","getAllKeys","count"],TP=["put","add","delete","clear"],vp=new Map;function qy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vp.get(e))return vp.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=TP.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||EP.includes(r)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),s&&l.done]))[0]};return vp.set(e,i),i}xP(t=>({...t,get:(e,r,n)=>qy(e,r)||t.get(e,r,n),has:(e,r)=>!!qy(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(SP(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function SP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fm="@firebase/app",Ky="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new fv("@firebase/app"),AP="@firebase/app-compat",IP="@firebase/analytics-compat",bP="@firebase/analytics",NP="@firebase/app-check-compat",CP="@firebase/app-check",RP="@firebase/auth",PP="@firebase/auth-compat",DP="@firebase/database",OP="@firebase/data-connect",FP="@firebase/database-compat",jP="@firebase/functions",LP="@firebase/functions-compat",MP="@firebase/installations",VP="@firebase/installations-compat",UP="@firebase/messaging",BP="@firebase/messaging-compat",$P="@firebase/performance",zP="@firebase/performance-compat",WP="@firebase/remote-config",HP="@firebase/remote-config-compat",GP="@firebase/storage",qP="@firebase/storage-compat",KP="@firebase/firestore",ZP="@firebase/vertexai-preview",XP="@firebase/firestore-compat",YP="firebase",QP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",JP={[Fm]:"fire-core",[AP]:"fire-core-compat",[bP]:"fire-analytics",[IP]:"fire-analytics-compat",[CP]:"fire-app-check",[NP]:"fire-app-check-compat",[RP]:"fire-auth",[PP]:"fire-auth-compat",[DP]:"fire-rtdb",[OP]:"fire-data-connect",[FP]:"fire-rtdb-compat",[jP]:"fire-fn",[LP]:"fire-fn-compat",[MP]:"fire-iid",[VP]:"fire-iid-compat",[UP]:"fire-fcm",[BP]:"fire-fcm-compat",[$P]:"fire-perf",[zP]:"fire-perf-compat",[WP]:"fire-rc",[HP]:"fire-rc-compat",[GP]:"fire-gcs",[qP]:"fire-gcs-compat",[KP]:"fire-fst",[XP]:"fire-fst-compat",[ZP]:"fire-vertex","fire-js":"fire-js",[YP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,e3=new Map,Lm=new Map;function Zy(t,e){try{t.container.addComponent(e)}catch(r){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function dl(t){const e=t.name;if(Lm.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,t);for(const r of Zf.values())Zy(r,t);for(const r of e3.values())Zy(r,t);return!0}function pv(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Bs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new Uu("app","Firebase",t3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=QP;function tk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw qi.create("bad-app-name",{appName:String(s)});if(r||(r=YT()),!r)throw qi.create("no-options");const i=Zf.get(s);if(i){if(Kf(r,i.options)&&Kf(n,i.config))return i;throw qi.create("duplicate-app",{appName:s})}const a=new lP(s);for(const l of Lm.values())a.addComponent(l);const o=new r3(r,n,a);return Zf.set(s,o),o}function rk(t=jm){const e=Zf.get(t);if(!e&&t===jm&&YT())return tk();if(!e)throw qi.create("no-app",{appName:t});return e}function Ki(t,e,r){var n;let s=(n=JP[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(o.join(" "));return}dl(new $a(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="firebase-heartbeat-database",s3=1,du="firebase-heartbeat-store";let xp=null;function nk(){return xp||(xp=wP(n3,s3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(du)}catch(r){console.warn(r)}}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),xp}async function i3(t){try{const r=(await nk()).transaction(du),n=await r.objectStore(du).get(sk(t));return await r.done,n}catch(e){if(e instanceof ci)ti.warn(e.message);else{const r=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(r.message)}}}async function Xy(t,e){try{const n=(await nk()).transaction(du,"readwrite");await n.objectStore(du).put(e,sk(t)),await n.done}catch(r){if(r instanceof ci)ti.warn(r.message);else{const n=qi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ti.warn(n.message)}}}function sk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=1024,o3=30*24*60*60*1e3;class l3{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new u3(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Yy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=o3}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ti.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Yy(),{heartbeatsToSend:n,unsentEntries:s}=c3(this._heartbeatsCache.heartbeats),i=qf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return ti.warn(r),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function c3(t,e=a3){const r=[];let n=t.slice();for(const s of t){const i=r.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Qy(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),Qy(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class u3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XR()?YR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await i3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qy(t){return qf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){dl(new $a("platform-logger",e=>new kP(e),"PRIVATE")),dl(new $a("heartbeat",e=>new l3(e),"PRIVATE")),Ki(Fm,Ky,t),Ki(Fm,Ky,"esm2017"),Ki("fire-js","")}h3("");var f3="firebase",d3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(f3,d3,"app");function mv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function ik(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p3=ik,ak=new Uu("auth","Firebase",ik());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=new fv("@firebase/auth");function m3(t,...e){Xf.logLevel<=Je.WARN&&Xf.warn(`Auth (${Rl}): ${t}`,...e)}function hf(t,...e){Xf.logLevel<=Je.ERROR&&Xf.error(`Auth (${Rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,...e){throw gv(t,...e)}function As(t,...e){return gv(t,...e)}function ok(t,e,r){const n=Object.assign(Object.assign({},p3()),{[e]:r});return new Uu("auth","Firebase",n).create(e,{appName:t.name})}function Zi(t){return ok(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gv(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return ak.create(t,...e)}function je(t,e,...r){if(!t)throw gv(e,...r)}function $s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hf(e),new Error(e)}function ri(t,e){t||$s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function g3(){return Jy()==="http:"||Jy()==="https:"}function Jy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g3()||GR()||"connection"in navigator)?navigator.onLine:!0}function x3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,r){this.shortDelay=e,this.longDelay=r,ri(r>e,"Short delay should be less than long delay!"),this.isMobile=zR()||qR()}get(){return v3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e){ri(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new $u(3e4,6e4);function eo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ua(t,e,r,n,s={}){return ck(t,s,async()=>{let i={},a={};n&&(e==="GET"?a=n:i={body:JSON.stringify(n)});const o=Bu(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return HR()||(c.referrerPolicy="no-referrer"),lk.fetch()(uk(t,t.config.apiHost,r,o),c)})}async function ck(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},y3),e);try{const s=new E3(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Oh(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Oh(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Oh(t,"user-disabled",a);const f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ok(t,f,c);fs(t,f)}}catch(s){if(s instanceof ci)throw s;fs(t,"network-request-failed",{message:String(s)})}}async function Kd(t,e,r,n,s={}){const i=await ua(t,e,r,n,s);return"mfaPendingCredential"in i&&fs(t,"multi-factor-auth-required",{_serverResponse:i}),i}function uk(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?vv(t.config,s):`${t.config.apiScheme}://${s}`}function w3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(As(this.auth,"network-request-failed")),_3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=As(t,e,n);return s.customData._tokenResponse=r,s}function e_(t){return t!==void 0&&t.enterprise!==void 0}class T3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return w3(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function k3(t,e){return ua(t,"GET","/v2/recaptchaConfig",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(t,e){return ua(t,"POST","/v1/accounts:delete",e)}async function hk(t,e){return ua(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A3(t,e=!1){const r=cr(t),n=await r.getIdToken(e),s=xv(n);je(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:jc(yp(s.auth_time)),issuedAtTime:jc(yp(s.iat)),expirationTime:jc(yp(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function yp(t){return Number(t)*1e3}function xv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const s=ZT(r);return s?JSON.parse(s):(hf("Failed to decode base64 JWT payload"),null)}catch(s){return hf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function t_(t){const e=xv(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ci&&I3(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function I3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){var e;const r=t.auth,n=await t.getIdToken(),s=await pu(t,hk(r,{idToken:n}));je(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?fk(i.providerUserInfo):[],o=C3(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),f=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Vm(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function N3(t){const e=cr(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C3(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function fk(t){return t.map(e=>{var{providerId:r}=e,n=mv(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(t,e){const r=await ck(t,{},async()=>{const n=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=uk(t,s,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",lk.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function P3(t,e){return ua(t,"POST","/v2/accounts:revokeToken",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){je(e.length!==0,"internal-error");const r=t_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await R3(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,a=new Zo;return n&&(je(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),s&&(je(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(je(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return $s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zs{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=mv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await pu(this,this.stsTokenManager.getToken(this.auth,e));return je(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return A3(this,e)}reload(){return N3(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Yf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bs(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await pu(this,S3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,a,o,l,c,f;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(s=r.email)!==null&&s!==void 0?s:void 0,m=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,x=(a=r.photoURL)!==null&&a!==void 0?a:void 0,g=(o=r.tenantId)!==null&&o!==void 0?o:void 0,y=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=r.createdAt)!==null&&c!==void 0?c:void 0,_=(f=r.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:w,emailVerified:b,isAnonymous:B,providerData:G,stsTokenManager:S}=r;je(w&&S,e,"internal-error");const k=Zo.fromJSON(this.name,S);je(typeof w=="string",e,"internal-error"),wi(d,e.name),wi(p,e.name),je(typeof b=="boolean",e,"internal-error"),je(typeof B=="boolean",e,"internal-error"),wi(m,e.name),wi(x,e.name),wi(g,e.name),wi(y,e.name),wi(E,e.name),wi(_,e.name);const A=new zs({uid:w,auth:e,email:p,emailVerified:b,displayName:d,isAnonymous:B,photoURL:x,phoneNumber:m,tenantId:g,stsTokenManager:k,createdAt:E,lastLoginAt:_});return G&&Array.isArray(G)&&(A.providerData=G.map(N=>Object.assign({},N))),y&&(A._redirectEventId=y),A}static async _fromIdTokenResponse(e,r,n=!1){const s=new Zo;s.updateFromServerResponse(r);const i=new zs({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Yf(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];je(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?fk(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),o=new Zo;o.updateFromIdToken(n);const l=new zs({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Vm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;function Ws(t){ri(t instanceof Function,"Expected a class definition");let e=r_.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,r_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}dk.type="NONE";const n_=dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t,e,r){return`firebase:${t}:${e}:${r}`}class Xo{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=ff(this.userKey,s.apiKey,i),this.fullPersistenceKey=ff("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Xo(Ws(n_),e,n);const s=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ws(n_);const a=ff(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const f=await c._get(a);if(f){const d=zs._fromJSON(e,f);c!==i&&(o=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Xo(i,e,n):(i=l[0],o&&await i._set(a,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(a)}catch{}})),new Xo(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yk(e))return"Blackberry";if(_k(e))return"Webos";if(mk(e))return"Safari";if((e.includes("chrome/")||gk(e))&&!e.includes("edge/"))return"Chrome";if(xk(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function pk(t=Wr()){return/firefox\//i.test(t)}function mk(t=Wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gk(t=Wr()){return/crios\//i.test(t)}function vk(t=Wr()){return/iemobile/i.test(t)}function xk(t=Wr()){return/android/i.test(t)}function yk(t=Wr()){return/blackberry/i.test(t)}function _k(t=Wr()){return/webos/i.test(t)}function yv(t=Wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D3(t=Wr()){var e;return yv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O3(){return KR()&&document.documentMode===10}function wk(t=Wr()){return yv(t)||xk(t)||_k(t)||yk(t)||/windows phone/i.test(t)||vk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t,e=[]){let r;switch(t){case"Browser":r=s_(Wr());break;case"Worker":r=`${s_(Wr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Rl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((a,o)=>{try{const l=e(i);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e={}){return ua(t,"GET","/v2/passwordPolicy",eo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=6;class M3{constructor(e){var r,n,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:L3,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i_(this),this.idTokenSubscription=new i_(this),this.beforeStateQueue=new F3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ak,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ws(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await hk(this,{idToken:e}),n=await zs._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Bs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bs(this.app))return Promise.reject(Zi(this));const r=e?cr(e):null;return r&&je(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bs(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bs(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j3(this),r=new M3(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uu("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await P3(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ws(e)||this._popupRedirectResolver;je(r,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Ws(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,s);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ek(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&m3(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Pl(t){return cr(t)}class i_{constructor(e){this.auth=e,this.observer=null,this.addObserver=rP(r=>this.observer=r)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U3(t){Zd=t}function Tk(t){return Zd.loadJS(t)}function B3(){return Zd.recaptchaEnterpriseScript}function $3(){return Zd.gapiScript}function z3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const W3="recaptcha-enterprise",H3="NO_RECAPTCHA";class G3{constructor(e){this.type=W3,this.auth=Pl(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,o)=>{k3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new T3(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function s(i,a,o){const l=window.grecaptcha;e_(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{a(c)}).catch(()=>{a(H3)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{n(this.auth).then(o=>{if(!r&&e_(window.grecaptcha))s(o,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=B3();l.length!==0&&(l+=o),Tk(l).then(()=>{s(o,i,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function a_(t,e,r,n=!1){const s=new G3(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function o_(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await a_(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await a_(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t,e){const r=pv(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Kf(i,e??{}))return s;fs(s,"already-initialized")}return r.initialize({options:e})}function K3(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Z3(t,e,r){const n=Pl(t);je(n._canInitEmulator,n,"emulator-config-failed"),je(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=kk(e),{host:a,port:o}=X3(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${i}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Y3()}function kk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X3(t){const e=kk(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:l_(n.substr(i.length+1))}}else{const[i,a]=n.split(":");return{host:i,port:l_(a)}}}function l_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y3(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return $s("not implemented")}_getIdTokenResponse(e){return $s("not implemented")}_linkToIdToken(e,r){return $s("not implemented")}_getReauthenticationResolver(e){return $s("not implemented")}}async function Q3(t,e){return ua(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(t,e){return Kd(t,"POST","/v1/accounts:signInWithPassword",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",eo(t,e))}async function tD(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends _v{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new mu(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new mu(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o_(e,r,"signInWithPassword",J3);case"emailLink":return eD(e,{email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o_(e,n,"signUpPassword",Q3);case"emailLink":return tD(e,{idToken:r,email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return Kd(t,"POST","/v1/accounts:signInWithIdp",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="http://localhost";class za extends _v{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):fs("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=mv(r,["providerId","signInMethod"]);if(!n||!s)return null;const a=new za(n,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Yo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Yo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Yo(e,r)}buildRequest(){const e={requestUri:rD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Bu(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sD(t){const e=xc(yc(t)).link,r=e?xc(yc(e)).deep_link_id:null,n=xc(yc(t)).deep_link_id;return(n?xc(yc(n)).link:null)||n||r||e||t}class wv{constructor(e){var r,n,s,i,a,o;const l=xc(yc(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,f=(n=l.oobCode)!==null&&n!==void 0?n:null,d=nD((s=l.mode)!==null&&s!==void 0?s:null);je(c&&f&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=f,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=sD(e);try{return new wv(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.providerId=Dl.PROVIDER_ID}static credential(e,r){return mu._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=wv.parseLink(r);return je(n,"argument-error"),mu._fromEmailAndCode(e,n.code,n.tenantId)}}Dl.PROVIDER_ID="password";Dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Sk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends zu{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return za._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return bi.credential(r,n)}catch{return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com";bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends zu{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends zu{constructor(){super("twitter.com")}static credential(e,r){return za._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ci.credential(r,n)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await zs._fromIdTokenResponse(e,n,s),a=c_(n);return new pl({user:i,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=c_(n);return new pl({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function c_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends ci{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Qf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Qf(e,r,n,s)}}function Ak(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qf._fromErrorAndOperation(t,i,e,n):i})}async function iD(t,e,r=!1){const n=await pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return pl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e,r=!1){const{auth:n}=t;if(Bs(n.app))return Promise.reject(Zi(n));const s="reauthenticate";try{const i=await pu(t,Ak(n,s,e,t),r);je(i.idToken,n,"internal-error");const a=xv(i.idToken);je(a,n,"internal-error");const{sub:o}=a;return je(t.uid===o,n,"user-mismatch"),pl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&fs(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t,e,r=!1){if(Bs(t.app))return Promise.reject(Zi(t));const n="signIn",s=await Ak(t,n,e),i=await pl._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function oD(t,e){return Ik(Pl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t){const e=Pl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function cD(t,e,r){return Bs(t.app)?Promise.reject(Zi(t)):oD(cr(t),Dl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&lD(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t,e){return cr(t).setPersistence(e)}function hD(t,e,r,n){return cr(t).onIdTokenChanged(e,r,n)}function fD(t,e,r){return cr(t).beforeAuthStateChanged(e,r)}function dD(t,e,r,n){return cr(t).onAuthStateChanged(e,r,n)}function pD(t){return cr(t).signOut()}const Jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=1e3,gD=10;class Nk extends bk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},i=this.storage.getItem(n);O3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,gD):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},mD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nk.type="LOCAL";const vD=Nk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck extends bk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Ck.type="SESSION";const Ev=Ck;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Xd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const o=Array.from(a).map(async c=>c(r.origin,i)),l=await xD(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,l)=>{const c=Tv("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(p.data.response);break;default:clearTimeout(f),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return window}function _D(t){Is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){return typeof Is().WorkerGlobalScope<"u"&&typeof Is().importScripts=="function"}async function wD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ED(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TD(){return Rk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="firebaseLocalStorageDb",kD=1,ed="firebaseLocalStorage",Dk="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Yd(t,e){return t.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function SD(){const t=indexedDB.deleteDatabase(Pk);return new Wu(t).toPromise()}function Um(){const t=indexedDB.open(Pk,kD);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(ed,{keyPath:Dk})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ed)?e(n):(n.close(),await SD(),e(await Um()))})})}async function u_(t,e,r){const n=Yd(t,!0).put({[Dk]:e,value:r});return new Wu(n).toPromise()}async function AD(t,e){const r=Yd(t,!1).get(e),n=await new Wu(r).toPromise();return n===void 0?null:n.value}function h_(t,e){const r=Yd(t,!0).delete(e);return new Wu(r).toPromise()}const ID=800,bD=3;class Ok{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>bD)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(TD()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await wD(),!this.activeServiceWorker)return;this.sender=new yD(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ED()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await u_(e,Jf,"1"),await h_(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>u_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>AD(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>h_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Yd(s,!1).getAll();return new Wu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ID)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ok.type="LOCAL";const ND=Ok;new $u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t,e){return e?Ws(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends _v{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Yo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function RD(t){return Ik(t.auth,new kv(t),t.bypassAuthState)}function PD(t){const{auth:e,user:r}=t;return je(r,e,"internal-error"),aD(r,new kv(t),t.bypassAuthState)}async function DD(t){const{auth:e,user:r}=t;return je(r,e,"internal-error"),iD(r,new kv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RD;case"linkViaPopup":case"linkViaRedirect":return DD;case"reauthViaPopup":case"reauthViaRedirect":return PD;default:fs(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new $u(2e3,1e4);class Mo extends Fk{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=Tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(As(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OD.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="pendingRedirect",df=new Map;class jD extends Fk{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=df.get(this.auth._key());if(!e){try{const n=await LD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}df.set(this.auth._key(),e)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LD(t,e){const r=UD(e),n=VD(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function MD(t,e){df.set(t._key(),e)}function VD(t){return Ws(t._redirectPersistence)}function UD(t){return ff(FD,t.config.apiKey,t.name)}async function BD(t,e,r=!1){if(Bs(t.app))return Promise.reject(Zi(t));const n=Pl(t),s=CD(n,e),a=await new jD(n,s,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=10*60*1e3;class zD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WD(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!jk(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(As(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$D&&this.cachedEventUids.clear(),this.cachedEventUids.has(f_(e))}saveEventToCache(e){this.cachedEventUids.add(f_(e)),this.lastProcessedEventTime=Date.now()}}function f_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e={}){return ua(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qD=/^https?/;async function KD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HD(t);for(const r of e)try{if(ZD(r))return}catch{}fs(t,"unauthorized-domain")}function ZD(t){const e=Mm(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!qD.test(r))return!1;if(GD.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new $u(3e4,6e4);function d_(){const t=Is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function YD(t){return new Promise((e,r)=>{var n,s,i;function a(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),r(As(t,"network-request-failed"))},timeout:XD.get()})}if(!((s=(n=Is().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Is().gapi)===null||i===void 0)&&i.load)a();else{const o=z3("iframefcb");return Is()[o]=()=>{gapi.load?a():r(As(t,"network-request-failed"))},Tk(`${$3()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw pf=null,e})}let pf=null;function QD(t){return pf=pf||YD(t),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new $u(5e3,15e3),eO="__/auth/iframe",tO="emulator/auth/iframe",rO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sO(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?vv(e,tO):`https://${t.config.authDomain}/${eO}`,n={apiKey:e.apiKey,appName:t.name,v:Rl},s=nO.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Bu(n).slice(1)}`}async function iO(t){const e=await QD(t),r=Is().gapi;return je(r,t,"internal-error"),e.open({where:document.body,url:sO(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rO,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const a=As(t,"network-request-failed"),o=Is().setTimeout(()=>{i(a)},JD.get());function l(){Is().clearTimeout(o),s(n)}n.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oO=500,lO=600,cO="_blank",uO="http://localhost";class p_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hO(t,e,r,n=oO,s=lO){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},aO),{width:n.toString(),height:s.toString(),top:i,left:a}),c=Wr().toLowerCase();r&&(o=gk(c)?cO:r),pk(c)&&(e=e||uO,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[m,x])=>`${p}${m}=${x},`,"");if(D3(c)&&o!=="_self")return fO(e||"",o),new p_(null);const d=window.open(e||"",o,f);je(d,t,"popup-blocked");try{d.focus()}catch{}return new p_(d)}function fO(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="__/auth/handler",pO="emulator/auth/handler",mO=encodeURIComponent("fac");async function m_(t,e,r,n,s,i){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Rl,eventId:s};if(e instanceof Sk){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",tP(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,d]of Object.entries({}))a[f]=d}if(e instanceof zu){const f=e.getScopes().filter(d=>d!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const l=await t._getAppCheckToken(),c=l?`#${mO}=${encodeURIComponent(l)}`:"";return`${gO(t)}?${Bu(o).slice(1)}${c}`}function gO({config:t}){return t.emulator?vv(t,pO):`https://${t.authDomain}/${dO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class vO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ev,this._completeRedirectFn=BD,this._overrideRedirectResult=MD}async _openPopup(e,r,n,s){var i;ri((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await m_(e,r,n,Mm(),s);return hO(e,a,Tv())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await m_(e,r,n,Mm(),s);return _D(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(ri(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await iO(e),n=new zD(e);return r.register("authEvent",s=>(je(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(_p,{type:_p},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[_p];a!==void 0&&r(!!a),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=KD(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return wk()||mk()||yv()}}const xO=vO;var g_="@firebase/auth",v_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wO(t){dl(new $a("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;je(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ek(t)},c=new V3(n,s,i,l);return K3(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),dl(new $a("auth-internal",e=>{const r=Pl(e.getProvider("auth").getImmediate());return(n=>new yO(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(g_,v_,_O(t)),Ki(g_,v_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=5*60,TO=QT("authIdTokenMaxAge")||EO;let x_=null;const kO=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>TO)return;const s=r==null?void 0:r.token;x_!==s&&(x_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function SO(t=rk()){const e=pv(t,"auth");if(e.isInitialized())return e.getImmediate();const r=q3(t,{popupRedirectResolver:xO,persistence:[ND,vD,Ev]}),n=QT("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const a=kO(i.toString());fD(r,a,()=>a(r.currentUser)),hD(r,o=>a(o))}}const s=XT("auth");return s&&Z3(r,`http://${s}`),r}function AO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}U3({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=As("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",AO().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wO("Browser");var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,Lk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,k){function A(){}A.prototype=k.prototype,S.D=k.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(N,R,j){for(var D=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)D[Pe-2]=arguments[Pe];return k.prototype[R].apply(N,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,k,A){A||(A=0);var N=Array(16);if(typeof k=="string")for(var R=0;16>R;++R)N[R]=k.charCodeAt(A++)|k.charCodeAt(A++)<<8|k.charCodeAt(A++)<<16|k.charCodeAt(A++)<<24;else for(R=0;16>R;++R)N[R]=k[A++]|k[A++]<<8|k[A++]<<16|k[A++]<<24;k=S.g[0],A=S.g[1],R=S.g[2];var j=S.g[3],D=k+(j^A&(R^j))+N[0]+3614090360&4294967295;k=A+(D<<7&4294967295|D>>>25),D=j+(R^k&(A^R))+N[1]+3905402710&4294967295,j=k+(D<<12&4294967295|D>>>20),D=R+(A^j&(k^A))+N[2]+606105819&4294967295,R=j+(D<<17&4294967295|D>>>15),D=A+(k^R&(j^k))+N[3]+3250441966&4294967295,A=R+(D<<22&4294967295|D>>>10),D=k+(j^A&(R^j))+N[4]+4118548399&4294967295,k=A+(D<<7&4294967295|D>>>25),D=j+(R^k&(A^R))+N[5]+1200080426&4294967295,j=k+(D<<12&4294967295|D>>>20),D=R+(A^j&(k^A))+N[6]+2821735955&4294967295,R=j+(D<<17&4294967295|D>>>15),D=A+(k^R&(j^k))+N[7]+4249261313&4294967295,A=R+(D<<22&4294967295|D>>>10),D=k+(j^A&(R^j))+N[8]+1770035416&4294967295,k=A+(D<<7&4294967295|D>>>25),D=j+(R^k&(A^R))+N[9]+2336552879&4294967295,j=k+(D<<12&4294967295|D>>>20),D=R+(A^j&(k^A))+N[10]+4294925233&4294967295,R=j+(D<<17&4294967295|D>>>15),D=A+(k^R&(j^k))+N[11]+2304563134&4294967295,A=R+(D<<22&4294967295|D>>>10),D=k+(j^A&(R^j))+N[12]+1804603682&4294967295,k=A+(D<<7&4294967295|D>>>25),D=j+(R^k&(A^R))+N[13]+4254626195&4294967295,j=k+(D<<12&4294967295|D>>>20),D=R+(A^j&(k^A))+N[14]+2792965006&4294967295,R=j+(D<<17&4294967295|D>>>15),D=A+(k^R&(j^k))+N[15]+1236535329&4294967295,A=R+(D<<22&4294967295|D>>>10),D=k+(R^j&(A^R))+N[1]+4129170786&4294967295,k=A+(D<<5&4294967295|D>>>27),D=j+(A^R&(k^A))+N[6]+3225465664&4294967295,j=k+(D<<9&4294967295|D>>>23),D=R+(k^A&(j^k))+N[11]+643717713&4294967295,R=j+(D<<14&4294967295|D>>>18),D=A+(j^k&(R^j))+N[0]+3921069994&4294967295,A=R+(D<<20&4294967295|D>>>12),D=k+(R^j&(A^R))+N[5]+3593408605&4294967295,k=A+(D<<5&4294967295|D>>>27),D=j+(A^R&(k^A))+N[10]+38016083&4294967295,j=k+(D<<9&4294967295|D>>>23),D=R+(k^A&(j^k))+N[15]+3634488961&4294967295,R=j+(D<<14&4294967295|D>>>18),D=A+(j^k&(R^j))+N[4]+3889429448&4294967295,A=R+(D<<20&4294967295|D>>>12),D=k+(R^j&(A^R))+N[9]+568446438&4294967295,k=A+(D<<5&4294967295|D>>>27),D=j+(A^R&(k^A))+N[14]+3275163606&4294967295,j=k+(D<<9&4294967295|D>>>23),D=R+(k^A&(j^k))+N[3]+4107603335&4294967295,R=j+(D<<14&4294967295|D>>>18),D=A+(j^k&(R^j))+N[8]+1163531501&4294967295,A=R+(D<<20&4294967295|D>>>12),D=k+(R^j&(A^R))+N[13]+2850285829&4294967295,k=A+(D<<5&4294967295|D>>>27),D=j+(A^R&(k^A))+N[2]+4243563512&4294967295,j=k+(D<<9&4294967295|D>>>23),D=R+(k^A&(j^k))+N[7]+1735328473&4294967295,R=j+(D<<14&4294967295|D>>>18),D=A+(j^k&(R^j))+N[12]+2368359562&4294967295,A=R+(D<<20&4294967295|D>>>12),D=k+(A^R^j)+N[5]+4294588738&4294967295,k=A+(D<<4&4294967295|D>>>28),D=j+(k^A^R)+N[8]+2272392833&4294967295,j=k+(D<<11&4294967295|D>>>21),D=R+(j^k^A)+N[11]+1839030562&4294967295,R=j+(D<<16&4294967295|D>>>16),D=A+(R^j^k)+N[14]+4259657740&4294967295,A=R+(D<<23&4294967295|D>>>9),D=k+(A^R^j)+N[1]+2763975236&4294967295,k=A+(D<<4&4294967295|D>>>28),D=j+(k^A^R)+N[4]+1272893353&4294967295,j=k+(D<<11&4294967295|D>>>21),D=R+(j^k^A)+N[7]+4139469664&4294967295,R=j+(D<<16&4294967295|D>>>16),D=A+(R^j^k)+N[10]+3200236656&4294967295,A=R+(D<<23&4294967295|D>>>9),D=k+(A^R^j)+N[13]+681279174&4294967295,k=A+(D<<4&4294967295|D>>>28),D=j+(k^A^R)+N[0]+3936430074&4294967295,j=k+(D<<11&4294967295|D>>>21),D=R+(j^k^A)+N[3]+3572445317&4294967295,R=j+(D<<16&4294967295|D>>>16),D=A+(R^j^k)+N[6]+76029189&4294967295,A=R+(D<<23&4294967295|D>>>9),D=k+(A^R^j)+N[9]+3654602809&4294967295,k=A+(D<<4&4294967295|D>>>28),D=j+(k^A^R)+N[12]+3873151461&4294967295,j=k+(D<<11&4294967295|D>>>21),D=R+(j^k^A)+N[15]+530742520&4294967295,R=j+(D<<16&4294967295|D>>>16),D=A+(R^j^k)+N[2]+3299628645&4294967295,A=R+(D<<23&4294967295|D>>>9),D=k+(R^(A|~j))+N[0]+4096336452&4294967295,k=A+(D<<6&4294967295|D>>>26),D=j+(A^(k|~R))+N[7]+1126891415&4294967295,j=k+(D<<10&4294967295|D>>>22),D=R+(k^(j|~A))+N[14]+2878612391&4294967295,R=j+(D<<15&4294967295|D>>>17),D=A+(j^(R|~k))+N[5]+4237533241&4294967295,A=R+(D<<21&4294967295|D>>>11),D=k+(R^(A|~j))+N[12]+1700485571&4294967295,k=A+(D<<6&4294967295|D>>>26),D=j+(A^(k|~R))+N[3]+2399980690&4294967295,j=k+(D<<10&4294967295|D>>>22),D=R+(k^(j|~A))+N[10]+4293915773&4294967295,R=j+(D<<15&4294967295|D>>>17),D=A+(j^(R|~k))+N[1]+2240044497&4294967295,A=R+(D<<21&4294967295|D>>>11),D=k+(R^(A|~j))+N[8]+1873313359&4294967295,k=A+(D<<6&4294967295|D>>>26),D=j+(A^(k|~R))+N[15]+4264355552&4294967295,j=k+(D<<10&4294967295|D>>>22),D=R+(k^(j|~A))+N[6]+2734768916&4294967295,R=j+(D<<15&4294967295|D>>>17),D=A+(j^(R|~k))+N[13]+1309151649&4294967295,A=R+(D<<21&4294967295|D>>>11),D=k+(R^(A|~j))+N[4]+4149444226&4294967295,k=A+(D<<6&4294967295|D>>>26),D=j+(A^(k|~R))+N[11]+3174756917&4294967295,j=k+(D<<10&4294967295|D>>>22),D=R+(k^(j|~A))+N[2]+718787259&4294967295,R=j+(D<<15&4294967295|D>>>17),D=A+(j^(R|~k))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+k&4294967295,S.g[1]=S.g[1]+(R+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+j&4294967295}n.prototype.u=function(S,k){k===void 0&&(k=S.length);for(var A=k-this.blockSize,N=this.B,R=this.h,j=0;j<k;){if(R==0)for(;j<=A;)s(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<k;)if(N[R++]=S.charCodeAt(j++),R==this.blockSize){s(this,N),R=0;break}}else for(;j<k;)if(N[R++]=S[j++],R==this.blockSize){s(this,N),R=0;break}}this.h=R,this.o+=k},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var k=1;k<S.length-8;++k)S[k]=0;var A=8*this.o;for(k=S.length-8;k<S.length;++k)S[k]=A&255,A/=256;for(this.u(S),S=Array(16),k=A=0;4>k;++k)for(var N=0;32>N;N+=8)S[A++]=this.g[k]>>>N&255;return S};function i(S,k){var A=o;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=k(S)}function a(S,k){this.h=k;for(var A=[],N=!0,R=S.length-1;0<=R;R--){var j=S[R]|0;N&&j==k||(A[R]=j,N=!1)}this.g=A}var o={};function l(S){return-128<=S&&128>S?i(S,function(k){return new a([k|0],0>k?-1:0)}):new a([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return y(c(-S));for(var k=[],A=1,N=0;S>=A;N++)k[N]=S/A|0,A*=4294967296;return new a(k,0)}function f(S,k){if(S.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(S.charAt(0)=="-")return y(f(S.substring(1),k));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(k,8)),N=d,R=0;R<S.length;R+=8){var j=Math.min(8,S.length-R),D=parseInt(S.substring(R,R+j),k);8>j?(j=c(Math.pow(k,j)),N=N.j(j).add(c(D))):(N=N.j(A),N=N.add(c(D)))}return N}var d=l(0),p=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var S=0,k=1,A=0;A<this.g.length;A++){var N=this.i(A);S+=(0<=N?N:4294967296+N)*k,k*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(g(this))return"-"+y(this).toString(S);for(var k=c(Math.pow(S,6)),A=this,N="";;){var R=b(A,k).g;A=E(A,R.j(k));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=R,x(A))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(var k=0;k<S.g.length;k++)if(S.g[k]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=E(this,S),g(S)?-1:x(S)?0:1};function y(S){for(var k=S.g.length,A=[],N=0;N<k;N++)A[N]=~S.g[N];return new a(A,~S.h).add(p)}t.abs=function(){return g(this)?y(this):this},t.add=function(S){for(var k=Math.max(this.g.length,S.g.length),A=[],N=0,R=0;R<=k;R++){var j=N+(this.i(R)&65535)+(S.i(R)&65535),D=(j>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);N=D>>>16,j&=65535,D&=65535,A[R]=D<<16|j}return new a(A,A[A.length-1]&-2147483648?-1:0)};function E(S,k){return S.add(y(k))}t.j=function(S){if(x(this)||x(S))return d;if(g(this))return g(S)?y(this).j(y(S)):y(y(this).j(S));if(g(S))return y(this.j(y(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var k=this.g.length+S.g.length,A=[],N=0;N<2*k;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var R=0;R<S.g.length;R++){var j=this.i(N)>>>16,D=this.i(N)&65535,Pe=S.i(R)>>>16,ie=S.i(R)&65535;A[2*N+2*R]+=D*ie,_(A,2*N+2*R),A[2*N+2*R+1]+=j*ie,_(A,2*N+2*R+1),A[2*N+2*R+1]+=D*Pe,_(A,2*N+2*R+1),A[2*N+2*R+2]+=j*Pe,_(A,2*N+2*R+2)}for(N=0;N<k;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=k;N<2*k;N++)A[N]=0;return new a(A,0)};function _(S,k){for(;(S[k]&65535)!=S[k];)S[k+1]+=S[k]>>>16,S[k]&=65535,k++}function w(S,k){this.g=S,this.h=k}function b(S,k){if(x(k))throw Error("division by zero");if(x(S))return new w(d,d);if(g(S))return k=b(y(S),k),new w(y(k.g),y(k.h));if(g(k))return k=b(S,y(k)),new w(y(k.g),k.h);if(30<S.g.length){if(g(S)||g(k))throw Error("slowDivide_ only works with positive integers.");for(var A=p,N=k;0>=N.l(S);)A=B(A),N=B(N);var R=G(A,1),j=G(N,1);for(N=G(N,2),A=G(A,2);!x(N);){var D=j.add(N);0>=D.l(S)&&(R=R.add(A),j=D),N=G(N,1),A=G(A,1)}return k=E(S,R.j(k)),new w(R,k)}for(R=d;0<=S.l(k);){for(A=Math.max(1,Math.floor(S.m()/k.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=c(A),D=j.j(k);g(D)||0<D.l(S);)A-=N,j=c(A),D=j.j(k);x(j)&&(j=p),R=R.add(j),S=E(S,D)}return new w(R,S)}t.A=function(S){return b(this,S).h},t.and=function(S){for(var k=Math.max(this.g.length,S.g.length),A=[],N=0;N<k;N++)A[N]=this.i(N)&S.i(N);return new a(A,this.h&S.h)},t.or=function(S){for(var k=Math.max(this.g.length,S.g.length),A=[],N=0;N<k;N++)A[N]=this.i(N)|S.i(N);return new a(A,this.h|S.h)},t.xor=function(S){for(var k=Math.max(this.g.length,S.g.length),A=[],N=0;N<k;N++)A[N]=this.i(N)^S.i(N);return new a(A,this.h^S.h)};function B(S){for(var k=S.g.length+1,A=[],N=0;N<k;N++)A[N]=S.i(N)<<1|S.i(N-1)>>>31;return new a(A,S.h)}function G(S,k){var A=k>>5;k%=32;for(var N=S.g.length-A,R=[],j=0;j<N;j++)R[j]=0<k?S.i(j+A)>>>k|S.i(j+A+1)<<32-k:S.i(j+A);return new a(R,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Lk=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,Da=a}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mk,_c,Vk,mf,Bm,Uk,Bk,$k;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,T){return u==Array.prototype||u==Object.prototype||(u[v]=T.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var v=0;v<u.length;++v){var T=u[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=r(this);function s(u,v){if(v)e:{var T=n;u=u.split(".");for(var C=0;C<u.length-1;C++){var K=u[C];if(!(K in T))break e;T=T[K]}u=u[u.length-1],C=T[u],v=v(C),v!=C&&v!=null&&e(T,u,{configurable:!0,writable:!0,value:v})}}function i(u,v){u instanceof String&&(u+="");var T=0,C=!1,K={next:function(){if(!C&&T<u.length){var J=T++;return{value:v(J,u[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(u){return u||function(){return i(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function c(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function f(u,v,T){return u.call.apply(u.bind,arguments)}function d(u,v,T){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,C),u.apply(v,K)}}return function(){return u.apply(v,arguments)}}function p(u,v,T){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:d,p.apply(null,arguments)}function m(u,v){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function x(u,v){function T(){}T.prototype=v.prototype,u.aa=v.prototype,u.prototype=new T,u.prototype.constructor=u,u.Qb=function(C,K,J){for(var _e=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)_e[_t-2]=arguments[_t];return v.prototype[K].apply(C,_e)}}function g(u){const v=u.length;if(0<v){const T=Array(v);for(let C=0;C<v;C++)T[C]=u[C];return T}return[]}function y(u,v){for(let T=1;T<arguments.length;T++){const C=arguments[T];if(l(C)){const K=u.length||0,J=C.length||0;u.length=K+J;for(let _e=0;_e<J;_e++)u[K+_e]=C[_e]}else u.push(C)}}class E{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function _(u){return/^[\s\xa0]*$/.test(u)}function w(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function b(u){return b[" "](u),u}b[" "]=function(){};var B=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function G(u,v,T){for(const C in u)v.call(T,u[C],C,u)}function S(u,v){for(const T in u)v.call(void 0,u[T],T,u)}function k(u){const v={};for(const T in u)v[T]=u[T];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,v){let T,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(T in C)u[T]=C[T];for(let J=0;J<A.length;J++)T=A[J],Object.prototype.hasOwnProperty.call(C,T)&&(u[T]=C[T])}}function R(u){var v=1;u=u.split(":");const T=[];for(;0<v&&u.length;)T.push(u.shift()),v--;return u.length&&T.push(u.join(":")),T}function j(u){o.setTimeout(()=>{throw u},0)}function D(){var u=Ie;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class Pe{constructor(){this.h=this.g=null}add(v,T){const C=ie.get();C.set(v,T),this.h?this.h.next=C:this.g=C,this.h=C}}var ie=new E(()=>new Ve,u=>u.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,he=!1,Ie=new Pe,oe=()=>{const u=o.Promise.resolve(void 0);Ue=()=>{u.then(Ne)}};var Ne=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(T){j(T)}var v=ie;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}he=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};o.addEventListener("test",T,v),o.removeEventListener("test",T,v)}catch{}return u}();function W(u,v){if(H.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var T=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(B){e:{try{b(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else T=="mouseover"?v=u.fromElement:T=="mouseout"&&(v=u.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:re[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&W.aa.h.call(this)}}x(W,H);var re={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Te=0;function ke(u,v,T,C,K){this.listener=u,this.proxy=null,this.src=v,this.type=T,this.capture=!!C,this.ha=K,this.key=++Te,this.da=this.fa=!1}function xe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function et(u){this.src=u,this.g={},this.h=0}et.prototype.add=function(u,v,T,C,K){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var _e=Nt(u,v,C,K);return-1<_e?(v=u[_e],T||(v.fa=!1)):(v=new ke(v,this.src,J,!!C,K),v.fa=T,u.push(v)),v};function He(u,v){var T=v.type;if(T in u.g){var C=u.g[T],K=Array.prototype.indexOf.call(C,v,void 0),J;(J=0<=K)&&Array.prototype.splice.call(C,K,1),J&&(xe(v),u.g[T].length==0&&(delete u.g[T],u.h--))}}function Nt(u,v,T,C){for(var K=0;K<u.length;++K){var J=u[K];if(!J.da&&J.listener==v&&J.capture==!!T&&J.ha==C)return K}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),Hr={};function xt(u,v,T,C,K){if(Array.isArray(v)){for(var J=0;J<v.length;J++)xt(u,v[J],T,C,K);return null}return T=ms(T),u&&u[fe]?u.K(v,T,c(C)?!!C.capture:!1,K):be(u,v,T,!1,C,K)}function be(u,v,T,C,K,J){if(!v)throw Error("Invalid event type");var _e=c(K)?!!K.capture:!!K,_t=nn(u);if(_t||(u[Xe]=_t=new et(u)),T=_t.add(v,T,C,_e,J),T.proxy)return T;if(C=Rr(),T.proxy=C,C.src=u,C.listener=T,u.addEventListener)z||(K=_e),K===void 0&&(K=!1),u.addEventListener(v.toString(),C,K);else if(u.attachEvent)u.attachEvent(Xn(v.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Rr(){function u(T){return v.call(u.src,u.listener,T)}const v=hi;return u}function rn(u,v,T,C,K){if(Array.isArray(v))for(var J=0;J<v.length;J++)rn(u,v[J],T,C,K);else C=c(C)?!!C.capture:!!C,T=ms(T),u&&u[fe]?(u=u.i,v=String(v).toString(),v in u.g&&(J=u.g[v],T=Nt(J,T,C,K),-1<T&&(xe(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete u.g[v],u.h--)))):u&&(u=nn(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Nt(v,T,C,K)),(T=-1<u?v[u]:null)&&xn(T))}function xn(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[fe])He(v.i,u);else{var T=u.type,C=u.proxy;v.removeEventListener?v.removeEventListener(T,C,u.capture):v.detachEvent?v.detachEvent(Xn(T),C):v.addListener&&v.removeListener&&v.removeListener(C),(T=nn(v))?(He(T,u),T.h==0&&(T.src=null,v[Xe]=null)):xe(u)}}}function Xn(u){return u in Hr?Hr[u]:Hr[u]="on"+u}function hi(u,v){if(u.da)u=!0;else{v=new W(v,this);var T=u.listener,C=u.ha||u.src;u.fa&&xn(u),u=T.call(C,v)}return u}function nn(u){return u=u[Xe],u instanceof et?u:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function ms(u){return typeof u=="function"?u:(u[Ot]||(u[Ot]=function(v){return u.handleEvent(v)}),u[Ot])}function Bt(){V.call(this),this.i=new et(this),this.M=this,this.F=null}x(Bt,V),Bt.prototype[fe]=!0,Bt.prototype.removeEventListener=function(u,v,T,C){rn(this,u,v,T,C)};function $t(u,v){var T,C=u.F;if(C)for(T=[];C;C=C.F)T.push(C);if(u=u.M,C=v.type||v,typeof v=="string")v=new H(v,u);else if(v instanceof H)v.target=v.target||u;else{var K=v;v=new H(C,u),N(v,K)}if(K=!0,T)for(var J=T.length-1;0<=J;J--){var _e=v.g=T[J];K=Gr(_e,C,!0,v)&&K}if(_e=v.g=u,K=Gr(_e,C,!0,v)&&K,K=Gr(_e,C,!1,v)&&K,T)for(J=0;J<T.length;J++)_e=v.g=T[J],K=Gr(_e,C,!1,v)&&K}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var T=u.g[v],C=0;C<T.length;C++)xe(T[C]);delete u.g[v],u.h--}}this.F=null},Bt.prototype.K=function(u,v,T,C){return this.i.add(String(u),v,!1,T,C)},Bt.prototype.L=function(u,v,T,C){return this.i.add(String(u),v,!0,T,C)};function Gr(u,v,T,C){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,J=0;J<v.length;++J){var _e=v[J];if(_e&&!_e.da&&_e.capture==T){var _t=_e.listener,vr=_e.ha||_e.src;_e.fa&&He(u.i,_e),K=_t.call(vr,C)!==!1&&K}}return K&&!C.defaultPrevented}function ho(u,v,T){if(typeof u=="function")T&&(u=p(u,T));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:o.setTimeout(u,v||0)}function fi(u){u.g=ho(()=>{u.g=null,u.i&&(u.i=!1,fi(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class di extends V{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(u){V.call(this),this.h=u,this.g={}}x(gs,V);var ga=[];function va(u){G(u.g,function(v,T){this.g.hasOwnProperty(T)&&xn(v)},u),u.g={}}gs.prototype.N=function(){gs.aa.N.call(this),va(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=o.JSON.stringify,Gl=o.JSON.parse,ql=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function mi(){}mi.prototype.h=null;function gi(u){return u.h||(u.h=u.i())}function le(){}var De={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ee(){H.call(this,"d")}x(Ee,H);function qe(){H.call(this,"c")}x(qe,H);var Qe={},gt=null;function Zt(){return gt=gt||new Bt}Qe.La="serverreachability";function sn(u){H.call(this,Qe.La,u)}x(sn,H);function pe(u){const v=Zt();$t(v,new sn(v))}Qe.STAT_EVENT="statevent";function We(u,v){H.call(this,Qe.STAT_EVENT,u),this.stat=v}x(We,H);function Ke(u){const v=Zt();$t(v,new We(v,u))}Qe.Ma="timingevent";function an(u,v){H.call(this,Qe.Ma,u),this.size=v}x(an,H);function wt(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},v)}function qr(){this.g=!0}qr.prototype.xa=function(){this.g=!1};function D0(u,v,T,C,K,J){u.info(function(){if(u.g)if(J)for(var _e="",_t=J.split("&"),vr=0;vr<_t.length;vr++){var st=_t[vr].split("=");if(1<st.length){var Pr=st[0];st=st[1];var Dr=Pr.split("_");_e=2<=Dr.length&&Dr[1]=="type"?_e+(Pr+"="+st+"&"):_e+(Pr+"=redacted&")}}else _e=null;else _e=J;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+v+`
`+T+`
`+_e})}function O0(u,v,T,C,K,J,_e){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+v+`
`+T+`
`+J+" "+_e})}function I(u,v,T,C){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+P(u,T)+(C?" "+C:"")})}function F(u,v){u.info(function(){return"TIMEOUT: "+v})}qr.prototype.info=function(){};function P(u,v){if(!u.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(u=0;u<T.length;u++)if(Array.isArray(T[u])){var C=T[u];if(!(2>C.length)){var K=C[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var _e=1;_e<K.length;_e++)K[_e]=""}}}}return pi(T)}catch{return v}}var O={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},L={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},M;function Z(){}x(Z,mi),Z.prototype.g=function(){return new XMLHttpRequest},Z.prototype.i=function(){return{}},M=new Z;function ee(u,v,T,C){this.j=u,this.i=v,this.l=T,this.R=C||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new X}function X(){this.i=null,this.g="",this.h=!1}var Y={},Q={};function ue(u,v,T){u.L=1,u.v=lh(Os(v)),u.m=T,u.P=!0,ye(u,null)}function ye(u,v){u.F=Date.now(),we(u),u.A=Os(u.v);var T=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),n1(T.i,"t",C),u.C=0,T=u.j.J,u.h=new X,u.g=w1(u.j,T?v:null,!u.m),0<u.O&&(u.M=new di(p(u.Y,u,u.g),u.O)),v=u.U,T=u.g,C=u.ca;var K="readystatechange";Array.isArray(K)||(K&&(ga[0]=K.toString()),K=ga);for(var J=0;J<K.length;J++){var _e=xt(T,K[J],C||v.handleEvent,!1,v.h||v);if(!_e)break;v.g[_e.key]=_e}v=u.H?k(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),pe(),D0(u.i,u.u,u.A,u.l,u.R,u.m)}ee.prototype.ca=function(u){u=u.target;const v=this.M;v&&Fs(u)==3?v.j():this.Y(u)},ee.prototype.Y=function(u){try{if(u==this.g)e:{const Dr=Fs(this.g);var v=this.g.Ba();const go=this.g.Z();if(!(3>Dr)&&(Dr!=3||this.g&&(this.h.h||this.g.oa()||u1(this.g)))){this.J||Dr!=4||v==7||(v==8||0>=go?pe(3):pe(2)),yt(this);var T=this.g.Z();this.X=T;t:if(Se(this)){var C=u1(this.g);u="";var K=C.length,J=Fs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ct(this),lt(this);var _e="";break t}this.h.i=new o.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,u+=this.h.i.decode(C[v],{stream:!(J&&v==K-1)});C.length=0,this.h.g+=u,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=T==200,O0(this.i,this.u,this.A,this.l,this.R,Dr,T),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,vr=this.g;if((_t=vr.g?vr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(_t)){var st=_t;break t}}st=null}if(T=st)I(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ds(this,T);else{this.o=!1,this.s=3,Ke(12),Ct(this),lt(this);break e}}if(this.P){T=!0;let Yn;for(;!this.J&&this.C<_e.length;)if(Yn=me(this,_e),Yn==Q){Dr==4&&(this.s=4,Ke(14),T=!1),I(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==Y){this.s=4,Ke(15),I(this.i,this.l,_e,"[Invalid Chunk]"),T=!1;break}else I(this.i,this.l,Yn,null),Ds(this,Yn);if(Se(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dr!=4||_e.length!=0||this.h.h||(this.s=1,Ke(16),T=!1),this.o=this.o&&T,!T)I(this.i,this.l,_e,"[Invalid Chunked Response]"),Ct(this),lt(this);else if(0<_e.length&&!this.W){this.W=!0;var Pr=this.j;Pr.g==this&&Pr.ba&&!Pr.M&&(Pr.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),V0(Pr),Pr.M=!0,Ke(11))}}else I(this.i,this.l,_e,null),Ds(this,_e);Dr==4&&Ct(this),this.o&&!this.J&&(Dr==4?v1(this.j,this):(this.o=!1,we(this)))}else l4(this.g),T==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),Ct(this),lt(this)}}}catch{}finally{}};function Se(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function me(u,v){var T=u.C,C=v.indexOf(`
`,T);return C==-1?Q:(T=Number(v.substring(T,C)),isNaN(T)?Y:(C+=1,C+T>v.length?Q:(v=v.slice(C,C+T),u.C=C+T,v)))}ee.prototype.cancel=function(){this.J=!0,Ct(this)};function we(u){u.S=Date.now()+u.I,Le(u,u.I)}function Le(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=wt(p(u.ba,u),v)}function yt(u){u.B&&(o.clearTimeout(u.B),u.B=null)}ee.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(F(this.i,this.A),this.L!=2&&(pe(),Ke(17)),Ct(this),this.s=2,lt(this)):Le(this,this.S-u)};function lt(u){u.j.G==0||u.J||v1(u.j,u)}function Ct(u){yt(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,va(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Ds(u,v){try{var T=u.j;if(T.G!=0&&(T.g==u||yn(T.h,u))){if(!u.K&&yn(T.h,u)&&T.G==3){try{var C=T.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<u.F)ph(T),fh(T);else break e;M0(T),Ke(18)}}else T.za=K[1],0<T.za-T.T&&37500>K[2]&&T.F&&T.v==0&&!T.C&&(T.C=wt(p(T.Za,T),6e3));if(1>=fo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else _a(T,11)}else if((u.K||T.g==u)&&ph(T),!_(v))for(K=T.Da.g.parse(v),v=0;v<K.length;v++){let st=K[v];if(T.T=st[0],st=st[1],T.G==2)if(st[0]=="c"){T.K=st[1],T.ia=st[2];const Pr=st[3];Pr!=null&&(T.la=Pr,T.j.info("VER="+T.la));const Dr=st[4];Dr!=null&&(T.Aa=Dr,T.j.info("SVER="+T.Aa));const go=st[5];go!=null&&typeof go=="number"&&0<go&&(C=1.5*go,T.L=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const Yn=u.g;if(Yn){const gh=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gh){var J=C.h;J.g||gh.indexOf("spdy")==-1&&gh.indexOf("quic")==-1&&gh.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(F0(J,J.h),J.h=null))}if(C.D){const U0=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;U0&&(C.ya=U0,kt(C.I,C.D,U0))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-u.F,T.j.info("Handshake RTT: "+T.R+"ms")),C=T;var _e=u;if(C.qa=_1(C,C.J?C.ia:null,C.W),_e.K){Zx(C.h,_e);var _t=_e,vr=C.L;vr&&(_t.I=vr),_t.B&&(yt(_t),we(_t)),C.g=_e}else m1(C);0<T.i.length&&dh(T)}else st[0]!="stop"&&st[0]!="close"||_a(T,7);else T.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?_a(T,7):L0(T):st[0]!="noop"&&T.l&&T.l.ta(st),T.v=0)}}pe(4)}catch{}}var xa=class{constructor(u,v){this.g=u,this.map=v}};function vi(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fo(u){return u.h?1:u.g?u.g.size:0}function yn(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function F0(u,v){u.g?u.g.add(v):u.h=v}function Zx(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}vi.prototype.cancel=function(){if(this.i=Xx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xx(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const T of u.g.values())v=v.concat(T.D);return v}return g(u.i)}function qb(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var v=[],T=u.length,C=0;C<T;C++)v.push(u[C]);return v}v=[],T=0;for(C in u)v[T++]=u[C];return v}function Kb(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var v=[];u=u.length;for(var T=0;T<u;T++)v.push(T);return v}v=[],T=0;for(const C in u)v[T++]=C;return v}}}function Yx(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var T=Kb(u),C=qb(u),K=C.length,J=0;J<K;J++)v.call(void 0,C[J],T&&T[J],u)}var Qx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zb(u,v){if(u){u=u.split("&");for(var T=0;T<u.length;T++){var C=u[T].indexOf("="),K=null;if(0<=C){var J=u[T].substring(0,C);K=u[T].substring(C+1)}else J=u[T];v(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function ya(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ya){this.h=u.h,ah(this,u.j),this.o=u.o,this.g=u.g,oh(this,u.s),this.l=u.l;var v=u.i,T=new Xl;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Jx(this,T),this.m=u.m}else u&&(v=String(u).match(Qx))?(this.h=!1,ah(this,v[1]||"",!0),this.o=Kl(v[2]||""),this.g=Kl(v[3]||"",!0),oh(this,v[4]),this.l=Kl(v[5]||"",!0),Jx(this,v[6]||"",!0),this.m=Kl(v[7]||"")):(this.h=!1,this.i=new Xl(null,this.h))}ya.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Zl(v,e1,!0),":");var T=this.g;return(T||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Zl(v,e1,!0),"@"),u.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&u.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(Zl(T,T.charAt(0)=="/"?Qb:Yb,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",Zl(T,e4)),u.join("")};function Os(u){return new ya(u)}function ah(u,v,T){u.j=T?Kl(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function oh(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function Jx(u,v,T){v instanceof Xl?(u.i=v,t4(u.i,u.h)):(T||(v=Zl(v,Jb)),u.i=new Xl(v,u.h))}function kt(u,v,T){u.i.set(v,T)}function lh(u){return kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Kl(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zl(u,v,T){return typeof u=="string"?(u=encodeURI(u).replace(v,Xb),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xb(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var e1=/[#\/\?@]/g,Yb=/[#\?:]/g,Qb=/[#\?]/g,Jb=/[#\?@]/g,e4=/#/g;function Xl(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function xi(u){u.g||(u.g=new Map,u.h=0,u.i&&Zb(u.i,function(v,T){u.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Xl.prototype,t.add=function(u,v){xi(this),this.i=null,u=po(this,u);var T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(v),this.h+=1,this};function t1(u,v){xi(u),v=po(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function r1(u,v){return xi(u),v=po(u,v),u.g.has(v)}t.forEach=function(u,v){xi(this),this.g.forEach(function(T,C){T.forEach(function(K){u.call(v,K,C,this)},this)},this)},t.na=function(){xi(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let C=0;C<v.length;C++){const K=u[C];for(let J=0;J<K.length;J++)T.push(v[C])}return T},t.V=function(u){xi(this);let v=[];if(typeof u=="string")r1(this,u)&&(v=v.concat(this.g.get(po(this,u))));else{u=Array.from(this.g.values());for(let T=0;T<u.length;T++)v=v.concat(u[T])}return v},t.set=function(u,v){return xi(this),this.i=null,u=po(this,u),r1(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},t.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function n1(u,v,T){t1(u,v),0<T.length&&(u.i=null,u.g.set(po(u,v),g(T)),u.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var C=v[T];const J=encodeURIComponent(String(C)),_e=this.V(C);for(C=0;C<_e.length;C++){var K=J;_e[C]!==""&&(K+="="+encodeURIComponent(String(_e[C]))),u.push(K)}}return this.i=u.join("&")};function po(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function t4(u,v){v&&!u.j&&(xi(u),u.i=null,u.g.forEach(function(T,C){var K=C.toLowerCase();C!=K&&(t1(this,C),n1(this,K,T))},u)),u.j=v}function r4(u,v){const T=new qr;if(o.Image){const C=new Image;C.onload=m(yi,T,"TestLoadImage: loaded",!0,v,C),C.onerror=m(yi,T,"TestLoadImage: error",!1,v,C),C.onabort=m(yi,T,"TestLoadImage: abort",!1,v,C),C.ontimeout=m(yi,T,"TestLoadImage: timeout",!1,v,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else v(!1)}function n4(u,v){const T=new qr,C=new AbortController,K=setTimeout(()=>{C.abort(),yi(T,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:C.signal}).then(J=>{clearTimeout(K),J.ok?yi(T,"TestPingServer: ok",!0,v):yi(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),yi(T,"TestPingServer: error",!1,v)})}function yi(u,v,T,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(T)}catch{}}function s4(){this.g=new ql}function i4(u,v,T){const C=T||"";try{Yx(u,function(K,J){let _e=K;c(K)&&(_e=pi(K)),v.push(C+J+"="+encodeURIComponent(_e))})}catch(K){throw v.push(C+"type="+encodeURIComponent("_badmap")),K}}function ch(u){this.l=u.Ub||null,this.j=u.eb||!1}x(ch,mi),ch.prototype.g=function(){return new uh(this.l,this.j)},ch.prototype.i=function(u){return function(){return u}}({});function uh(u,v){Bt.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(uh,Bt),t=uh.prototype,t.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,Ql(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||o).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ql(this)),this.g&&(this.readyState=3,Ql(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;s1(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function s1(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Yl(this):Ql(this),this.readyState==3&&s1(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Yl(this))},t.Qa=function(u){this.g&&(this.response=u,Yl(this))},t.ga=function(){this.g&&Yl(this)};function Yl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ql(u)}t.setRequestHeader=function(u,v){this.u.append(u,v)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=v.next();return u.join(`\r
`)};function Ql(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function i1(u){let v="";return G(u,function(T,C){v+=C,v+=":",v+=T,v+=`\r
`}),v}function j0(u,v,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=i1(T),typeof u=="string"?T!=null&&encodeURIComponent(String(T)):kt(u,v,T))}function zt(u){Bt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(zt,Bt);var a4=/^https?$/i,o4=["POST","PUT"];t=zt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,v,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():M.g(),this.v=this.o?gi(this.o):gi(M),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(J){a1(this,J);return}if(u=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)T.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())T.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),K=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(o4,v,void 0))||C||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,_e]of T)this.g.setRequestHeader(J,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{c1(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){a1(this,J)}};function a1(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,o1(u),hh(u)}function o1(u){u.A||(u.A=!0,$t(u,"complete"),$t(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,$t(this,"complete"),$t(this,"abort"),hh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hh(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?l1(this):this.bb())},t.bb=function(){l1(this)};function l1(u){if(u.h&&typeof a<"u"&&(!u.v[1]||Fs(u)!=4||u.Z()!=2)){if(u.u&&Fs(u)==4)ho(u.Ea,0,u);else if($t(u,"readystatechange"),Fs(u)==4){u.h=!1;try{const _e=u.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var C;if(C=_e===0){var K=String(u.D).match(Qx)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),C=!a4.test(K?K.toLowerCase():"")}T=C}if(T)$t(u,"complete"),$t(u,"success");else{u.m=6;try{var J=2<Fs(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",o1(u)}}finally{hh(u)}}}}function hh(u,v){if(u.g){c1(u);const T=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||$t(u,"ready");try{T.onreadystatechange=C}catch{}}}function c1(u){u.I&&(o.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Fs(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Fs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Gl(v)}};function u1(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function l4(u){const v={};u=(u.g&&2<=Fs(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(_(u[C]))continue;var T=R(u[C]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=v[K]||[];v[K]=J,J.push(T)}S(v,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jl(u,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||v}function h1(u){this.Aa=0,this.i=[],this.j=new qr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jl("baseRetryDelayMs",5e3,u),this.cb=Jl("retryDelaySeedMs",1e4,u),this.Wa=Jl("forwardChannelMaxRetries",2,u),this.wa=Jl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(u&&u.concurrentRequestLimit),this.Da=new s4,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=h1.prototype,t.la=8,t.G=1,t.connect=function(u,v,T,C){Ke(0),this.W=u,this.H=v||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.I=_1(this,null,this.W),dh(this)};function L0(u){if(f1(u),u.G==3){var v=u.U++,T=Os(u.I);if(kt(T,"SID",u.K),kt(T,"RID",v),kt(T,"TYPE","terminate"),ec(u,T),v=new ee(u,u.j,v),v.L=2,v.v=lh(Os(T)),T=!1,o.navigator&&o.navigator.sendBeacon)try{T=o.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&o.Image&&(new Image().src=v.v,T=!0),T||(v.g=w1(v.j,null),v.g.ea(v.v)),v.F=Date.now(),we(v)}y1(u)}function fh(u){u.g&&(V0(u),u.g.cancel(),u.g=null)}function f1(u){fh(u),u.u&&(o.clearTimeout(u.u),u.u=null),ph(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function dh(u){if(!vs(u.h)&&!u.s){u.s=!0;var v=u.Ga;Ue||oe(),he||(Ue(),he=!0),Ie.add(v,u),u.B=0}}function c4(u,v){return fo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=wt(p(u.Ga,u,v),x1(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const K=new ee(this,this.j,u);let J=this.o;if(this.S&&(J?(J=k(J),N(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=p1(this,K,v),T=Os(this.I),kt(T,"RID",u),kt(T,"CVER",22),this.D&&kt(T,"X-HTTP-Session-Id",this.D),ec(this,T),J&&(this.O?v="headers="+encodeURIComponent(String(i1(J)))+"&"+v:this.m&&j0(T,this.m,J)),F0(this.h,K),this.Ua&&kt(T,"TYPE","init"),this.P?(kt(T,"$req",v),kt(T,"SID","null"),K.T=!0,ue(K,T,null)):ue(K,T,v),this.G=2}}else this.G==3&&(u?d1(this,u):this.i.length==0||vs(this.h)||d1(this))};function d1(u,v){var T;v?T=v.l:T=u.U++;const C=Os(u.I);kt(C,"SID",u.K),kt(C,"RID",T),kt(C,"AID",u.T),ec(u,C),u.m&&u.o&&j0(C,u.m,u.o),T=new ee(u,u.j,T,u.B+1),u.m===null&&(T.H=u.o),v&&(u.i=v.D.concat(u.i)),v=p1(u,T,1e3),T.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),F0(u.h,T),ue(T,C,v)}function ec(u,v){u.H&&G(u.H,function(T,C){kt(v,C,T)}),u.l&&Yx({},function(T,C){kt(v,C,T)})}function p1(u,v,T){T=Math.min(u.i.length,T);var C=u.l?p(u.l.Na,u.l,u):null;e:{var K=u.i;let J=-1;for(;;){const _e=["count="+T];J==-1?0<T?(J=K[0].g,_e.push("ofs="+J)):J=0:_e.push("ofs="+J);let _t=!0;for(let vr=0;vr<T;vr++){let st=K[vr].g;const Pr=K[vr].map;if(st-=J,0>st)J=Math.max(0,K[vr].g-100),_t=!1;else try{i4(Pr,_e,"req"+st+"_")}catch{C&&C(Pr)}}if(_t){C=_e.join("&");break e}}}return u=u.i.splice(0,T),v.D=u,C}function m1(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;Ue||oe(),he||(Ue(),he=!0),Ie.add(v,u),u.v=0}}function M0(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=wt(p(u.Fa,u),x1(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,g1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=wt(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),fh(this),g1(this))};function V0(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function g1(u){u.g=new ee(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=Os(u.qa);kt(v,"RID","rpc"),kt(v,"SID",u.K),kt(v,"AID",u.T),kt(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&kt(v,"TO",u.ja),kt(v,"TYPE","xmlhttp"),ec(u,v),u.m&&u.o&&j0(v,u.m,u.o),u.L&&(u.g.I=u.L);var T=u.g;u=u.ia,T.L=1,T.v=lh(Os(v)),T.m=null,T.P=!0,ye(T,u)}t.Za=function(){this.C!=null&&(this.C=null,fh(this),M0(this),Ke(19))};function ph(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function v1(u,v){var T=null;if(u.g==v){ph(u),V0(u),u.g=null;var C=2}else if(yn(u.h,v))T=v.D,Zx(u.h,v),C=1;else return;if(u.G!=0){if(v.o)if(C==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var K=u.B;C=Zt(),$t(C,new an(C,T)),dh(u)}else m1(u);else if(K=v.s,K==3||K==0&&0<v.X||!(C==1&&c4(u,v)||C==2&&M0(u)))switch(T&&0<T.length&&(v=u.h,v.i=v.i.concat(T)),K){case 1:_a(u,5);break;case 4:_a(u,10);break;case 3:_a(u,6);break;default:_a(u,2)}}}function x1(u,v){let T=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(T*=2),T*v}function _a(u,v){if(u.j.info("Error code "+v),v==2){var T=p(u.fb,u),C=u.Xa;const K=!C;C=new ya(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ah(C,"https"),lh(C),K?r4(C.toString(),T):n4(C.toString(),T)}else Ke(2);u.G=0,u.l&&u.l.sa(v),y1(u),f1(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function y1(u){if(u.G=0,u.ka=[],u.l){const v=Xx(u.h);(v.length!=0||u.i.length!=0)&&(y(u.ka,v),y(u.ka,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.ra()}}function _1(u,v,T){var C=T instanceof ya?Os(T):new ya(T);if(C.g!="")v&&(C.g=v+"."+C.g),oh(C,C.s);else{var K=o.location;C=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var J=new ya(null);C&&ah(J,C),v&&(J.g=v),K&&oh(J,K),T&&(J.l=T),C=J}return T=u.D,v=u.ya,T&&v&&kt(C,T,v),kt(C,"VER",u.la),ec(u,C),C}function w1(u,v,T){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new zt(new ch({eb:T})):new zt(u.pa),v.Ha(u.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function E1(){}t=E1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mh(){}mh.prototype.g=function(u,v){return new _n(u,v)};function _n(u,v){Bt.call(this),this.g=new h1(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!_(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!_(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new mo(this)}x(_n,Bt),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){L0(this.g)},_n.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.u&&(T={},T.__data__=pi(u),u=T);v.i.push(new xa(v.Ya++,u)),v.G==3&&dh(v)},_n.prototype.N=function(){this.g.l=null,delete this.j,L0(this.g),delete this.g,_n.aa.N.call(this)};function T1(u){Ee.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const T in v){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}x(T1,Ee);function k1(){qe.call(this),this.status=1}x(k1,qe);function mo(u){this.g=u}x(mo,E1),mo.prototype.ua=function(){$t(this.g,"a")},mo.prototype.ta=function(u){$t(this.g,new T1(u))},mo.prototype.sa=function(u){$t(this.g,new k1)},mo.prototype.ra=function(){$t(this.g,"b")},mh.prototype.createWebChannel=mh.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,$k=function(){return new mh},Bk=function(){return Zt()},Uk=Qe,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},O.NO_ERROR=0,O.TIMEOUT=8,O.HTTP_ERROR=6,mf=O,L.COMPLETE="complete",Vk=L,le.EventType=De,De.OPEN="a",De.CLOSE="b",De.ERROR="c",De.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,_c=le,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,Mk=zt}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new fv("@firebase/firestore");function uc(){return Wa.logLevel}function Re(t,...e){if(Wa.logLevel<=Je.DEBUG){const r=e.map(Sv);Wa.debug(`Firestore (${Ol}): ${t}`,...r)}}function ni(t,...e){if(Wa.logLevel<=Je.ERROR){const r=e.map(Sv);Wa.error(`Firestore (${Ol}): ${t}`,...r)}}function ml(t,...e){if(Wa.logLevel<=Je.WARN){const r=e.map(Sv);Wa.warn(`Firestore (${Ol}): ${t}`,...r)}}function Sv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t="Unexpected state"){const e=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: `+t;throw ni(e),new Error(e)}function pt(t,e){t||Me()}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ci{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Lr.UNAUTHENTICATED))}shutdown(){}}class bO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class NO{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){pt(this.o===void 0);let n=this.i;const s=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qs,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qs)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(pt(typeof n.accessToken=="string"),new zk(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string"),new Lr(e)}}class CO{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class RO{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new CO(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){pt(this.o===void 0);const n=i=>{i.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,Re("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(pt(typeof r.token=="string"),this.R=r.token,new PO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=OO(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function at(t,e){return t<e?-1:t>e?1:0}function gl(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ae(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ae(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ae(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new tr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new tr(0,0))}static max(){return new Be(new tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,r,n){r===void 0?r=0:r>e.length&&Me(),n===void 0?n=e.length-r:n>e.length-r&&Me(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return gu.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof gu?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),a=r.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class At extends gu{construct(e,r,n){return new At(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ae(se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new At(r)}static emptyPath(){return new At([])}}const FO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends gu{construct(e,r,n){return new Er(e,r,n)}static isValidIdentifier(e){return FO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Er(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new Ae(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new Ae(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ae(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(n+=o,s++):(i(),s++)}if(i(),a)throw new Ae(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(r)}static emptyPath(){return new Er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(At.fromString(e))}static fromName(e){return new Fe(At.fromString(e).popFirst(5))}static empty(){return new Fe(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return At.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new At(e.slice()))}}function jO(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(n===1e9?new tr(r+1,0):new tr(r,n));return new Ji(s,Fe.empty(),e)}function LO(t){return new Ji(t.readTime,t.key,-1)}class Ji{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ji(Be.min(),Fe.empty(),-1)}static max(){return new Ji(Be.max(),Fe.empty(),-1)}}function MO(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Fe.comparator(t.documentKey,e.documentKey),r!==0?r:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==VO)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ce((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ce?r:ce.resolve(r)}catch(r){return ce.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ce.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ce.reject(r)}static resolve(e){return new ce((r,n)=>{r(e)})}static reject(e){return new ce((r,n)=>{n(e)})}static waitFor(e){return new ce((r,n)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&r()},l=>n(l))}),a=!0,i===s&&r()})}static or(e){let r=ce.resolve(!1);for(const n of e)r=r.next(s=>s?ce.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new ce((n,s)=>{const i=e.length,a=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(e[c]).next(f=>{a[c]=f,++o,o===i&&n(a)},f=>s(f))}})}static doWhile(e,r){return new ce((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function BO(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Gu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Av.oe=-1;function Qd(t){return t==null}function td(t){return t===0&&1/t==-1/0}function $O(t){return typeof t=="number"&&Number.isInteger(t)&&!td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function to(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Hk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,r){this.comparator=e,this.root=r||wr.EMPTY}insert(e,r){return new Mt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jh(this.root,e,this.comparator,!0)}}class jh{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wr{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??wr.RED,this.left=s??wr.EMPTY,this.right=i??wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new wr(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return wr.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1;wr.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,r,n,s,i){return this}insert(e,r,n){return new wr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ar(this.comparator);return r.data=e,r}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new Rn([])}unionWith(e){let r=new Ar(Er.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Rn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Gk("Invalid base64 string: "+i):i}}(e);return new Nr(r)}static fromUint8Array(e){const r=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Nr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const zO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(pt(!!t),typeof t=="string"){let e=0;const r=zO.exec(t);if(pt(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ha(t){return typeof t=="string"?Nr.fromBase64String(t):Nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function bv(t){const e=t.mapValue.fields.__previous_value__;return Iv(e)?bv(e):e}function vu(t){const e=ea(t.mapValue.fields.__local_write_time__.timestampValue);return new tr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,r,n,s,i,a,o,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class xu{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh={mapValue:{}};function Ga(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iv(t)?4:GO(t)?9007199254740991:HO(t)?10:11:Me()}function Rs(t,e){if(t===e)return!0;const r=Ga(t);if(r!==Ga(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vu(t).isEqual(vu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=ea(s.timestampValue),o=ea(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ha(s.bytesValue).isEqual(Ha(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return qt(s.geoPointValue.latitude)===qt(i.geoPointValue.latitude)&&qt(s.geoPointValue.longitude)===qt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return qt(s.integerValue)===qt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=qt(s.doubleValue),o=qt(i.doubleValue);return a===o?td(a)===td(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(w_(a)!==w_(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Rs(a[l],o[l])))return!1;return!0}(t,e);default:return Me()}}function yu(t,e){return(t.values||[]).find(r=>Rs(r,e))!==void 0}function vl(t,e){if(t===e)return 0;const r=Ga(t),n=Ga(e);if(r!==n)return at(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return function(i,a){const o=qt(i.integerValue||i.doubleValue),l=qt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return T_(t.timestampValue,e.timestampValue);case 4:return T_(vu(t),vu(e));case 5:return at(t.stringValue,e.stringValue);case 6:return function(i,a){const o=Ha(i),l=Ha(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const o=i.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const f=at(o[c],l[c]);if(f!==0)return f}return at(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const o=at(qt(i.latitude),qt(a.latitude));return o!==0?o:at(qt(i.longitude),qt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k_(t.arrayValue,e.arrayValue);case 10:return function(i,a){var o,l,c,f;const d=i.fields||{},p=a.fields||{},m=(o=d.value)===null||o===void 0?void 0:o.arrayValue,x=(l=p.value)===null||l===void 0?void 0:l.arrayValue,g=at(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0);return g!==0?g:k_(m,x)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Lh.mapValue&&a===Lh.mapValue)return 0;if(i===Lh.mapValue)return 1;if(a===Lh.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=a.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let d=0;d<l.length&&d<f.length;++d){const p=at(l[d],f[d]);if(p!==0)return p;const m=vl(o[l[d]],c[f[d]]);if(m!==0)return m}return at(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Me()}}function T_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const r=ea(t),n=ea(e),s=at(r.seconds,n.seconds);return s!==0?s:at(r.nanos,n.nanos)}function k_(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=vl(r[s],n[s]);if(i)return i}return at(r.length,n.length)}function xl(t){return $m(t)}function $m(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ea(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ha(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Fe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=$m(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const a of n)i?i=!1:s+=",",s+=`${a}:${$m(r.fields[a])}`;return s+"}"}(t.mapValue):Me()}function S_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zm(t){return!!t&&"integerValue"in t}function Nv(t){return!!t&&"arrayValue"in t}function A_(t){return!!t&&"nullValue"in t}function I_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gf(t){return!!t&&"mapValue"in t}function HO(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Lc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Lc(t.arrayValue.values[r]);return e}return Object.assign({},t)}function GO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!gf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(r)}setAll(e){let r=Er.emptyPath(),n={},s=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,s),n={},s=[],r=o.popLast()}a?n[o.lastSegment()]=Lc(a):s.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());gf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Rs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];gf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){to(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new ln(Lc(this.value))}}function qk(t){const e=[];return to(t.fields,(r,n)=>{const s=new Er([r]);if(gf(n)){const i=qk(n.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,r,n,s,i,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Vr(e,0,Be.min(),Be.min(),Be.min(),ln.empty(),0)}static newFoundDocument(e,r,n,s){return new Vr(e,1,r,Be.min(),n,s,0)}static newNoDocument(e,r){return new Vr(e,2,r,Be.min(),Be.min(),ln.empty(),0)}static newUnknownDocument(e,r){return new Vr(e,3,r,Be.min(),Be.min(),ln.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,r){this.position=e,this.inclusive=r}}function b_(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?n=Fe.comparator(Fe.fromName(a.referenceValue),r.key):n=vl(a,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function N_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Rs(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,r="asc"){this.field=e,this.dir=r}}function qO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{}class Jt extends Kk{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new ZO(e,r,n):r==="array-contains"?new QO(e,n):r==="in"?new JO(e,n):r==="not-in"?new eF(e,n):r==="array-contains-any"?new tF(e,n):new Jt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new XO(e,n):new YO(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(vl(r,this.value)):r!==null&&Ga(this.value)===Ga(r)&&this.matchesComparison(vl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends Kk{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ds(e,r)}matches(e){return Zk(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zk(t){return t.op==="and"}function Xk(t){return KO(t)&&Zk(t)}function KO(t){for(const e of t.filters)if(e instanceof ds)return!1;return!0}function Wm(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+xl(t.value);if(Xk(t))return t.filters.map(e=>Wm(e)).join(",");{const e=t.filters.map(r=>Wm(r)).join(",");return`${t.op}(${e})`}}function Yk(t,e){return t instanceof Jt?function(n,s){return s instanceof Jt&&n.op===s.op&&n.field.isEqual(s.field)&&Rs(n.value,s.value)}(t,e):t instanceof ds?function(n,s){return s instanceof ds&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,a,o)=>i&&Yk(a,s.filters[o]),!0):!1}(t,e):void Me()}function Qk(t){return t instanceof Jt?function(r){return`${r.field.canonicalString()} ${r.op} ${xl(r.value)}`}(t):t instanceof ds?function(r){return r.op.toString()+" {"+r.getFilters().map(Qk).join(" ,")+"}"}(t):"Filter"}class ZO extends Jt{constructor(e,r,n){super(e,r,n),this.key=Fe.fromName(n.referenceValue)}matches(e){const r=Fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class XO extends Jt{constructor(e,r){super(e,"in",r),this.keys=Jk("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class YO extends Jt{constructor(e,r){super(e,"not-in",r),this.keys=Jk("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Jk(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Fe.fromName(n.referenceValue))}class QO extends Jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Nv(r)&&yu(r.arrayValue,this.value)}}class JO extends Jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&yu(this.value.arrayValue,r)}}class eF extends Jt{constructor(e,r){super(e,"not-in",r)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!yu(this.value.arrayValue,r)}}class tF extends Jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Nv(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>yu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,r=null,n=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.ue=null}}function C_(t,e=null,r=[],n=[],s=null,i=null,a=null){return new rF(t,e,r,n,s,i,a)}function Cv(t){const e=$e(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Wm(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Qd(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>xl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>xl(n)).join(",")),e.ue=r}return e.ue}function Rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!qO(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Yk(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N_(t.startAt,e.startAt)&&N_(t.endAt,e.endAt)}function Hm(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,r=null,n=[],s=[],i=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nF(t,e,r,n,s,i,a,o){return new Fl(t,e,r,n,s,i,a,o)}function Pv(t){return new Fl(t)}function R_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eS(t){return t.collectionGroup!==null}function Mc(t){const e=$e(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Ar(Er.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new _u(i,n))}),r.has(Er.keyField().canonicalString())||e.ce.push(new _u(Er.keyField(),n))}return e.ce}function bs(t){const e=$e(t);return e.le||(e.le=sF(e,Mc(t))),e.le}function sF(t,e){if(t.limitType==="F")return C_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new _u(s.field,i)});const r=t.endAt?new rd(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new rd(t.startAt.position,t.startAt.inclusive):null;return C_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Gm(t,e){const r=t.filters.concat([e]);return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function nd(t,e,r){return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Jd(t,e){return Rv(bs(t),bs(e))&&t.limitType===e.limitType}function tS(t){return`${Cv(bs(t))}|lt:${t.limitType}`}function wo(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>Qk(s)).join(", ")}]`),Qd(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>xl(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>xl(s)).join(",")),`Target(${n})`}(bs(t))}; limitType=${t.limitType})`}function e0(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Fe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of Mc(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(a,o,l){const c=b_(a,o,l);return a.inclusive?c<=0:c<0}(n.startAt,Mc(n),s)||n.endAt&&!function(a,o,l){const c=b_(a,o,l);return a.inclusive?c>=0:c>0}(n.endAt,Mc(n),s))}(t,e)}function iF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rS(t){return(e,r)=>{let n=!1;for(const s of Mc(t)){const i=aF(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function aF(t,e,r){const n=t.field.isKeyField()?Fe.comparator(e.key,r.key):function(i,a,o){const l=a.data.field(i),c=o.data.field(i);return l!==null&&c!==null?vl(l,c):Me()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return Hk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=new Mt(Fe.comparator);function si(){return oF}const nS=new Mt(Fe.comparator);function wc(...t){let e=nS;for(const r of t)e=e.insert(r.key,r);return e}function sS(t){let e=nS;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ba(){return Vc()}function iS(){return Vc()}function Vc(){return new jl(t=>t.toString(),(t,e)=>t.isEqual(e))}const lF=new Mt(Fe.comparator),cF=new Ar(Fe.comparator);function Ye(...t){let e=cF;for(const r of t)e=e.add(r);return e}const uF=new Ar(at);function hF(){return uF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(e)?"-0":e}}function aS(t){return{integerValue:""+t}}function fF(t,e){return $O(e)?aS(e):Dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this._=void 0}}function dF(t,e,r){return t instanceof wu?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Iv(i)&&(i=bv(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(r,e):t instanceof Eu?lS(t,e):t instanceof Tu?cS(t,e):function(s,i){const a=oS(s,i),o=P_(a)+P_(s.Pe);return zm(a)&&zm(s.Pe)?aS(o):Dv(s.serializer,o)}(t,e)}function pF(t,e,r){return t instanceof Eu?lS(t,e):t instanceof Tu?cS(t,e):r}function oS(t,e){return t instanceof sd?function(n){return zm(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class wu extends t0{}class Eu extends t0{constructor(e){super(),this.elements=e}}function lS(t,e){const r=uS(e);for(const n of t.elements)r.some(s=>Rs(s,n))||r.push(n);return{arrayValue:{values:r}}}class Tu extends t0{constructor(e){super(),this.elements=e}}function cS(t,e){let r=uS(e);for(const n of t.elements)r=r.filter(s=>!Rs(s,n));return{arrayValue:{values:r}}}class sd extends t0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function P_(t){return qt(t.integerValue||t.doubleValue)}function uS(t){return Nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,r){this.field=e,this.transform=r}}function gF(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Eu&&s instanceof Eu||n instanceof Tu&&s instanceof Tu?gl(n.elements,s.elements,Rs):n instanceof sd&&s instanceof sd?Rs(n.Pe,s.Pe):n instanceof wu&&s instanceof wu}(t.transform,e.transform)}class vF{constructor(e,r){this.version=e,this.transformResults=r}}class Hn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class r0{}function hS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ov(t.key,Hn.none()):new qu(t.key,t.data,Hn.none());{const r=t.data,n=ln.empty();let s=new Ar(Er.comparator);for(let i of e.fields)if(!s.has(i)){let a=r.field(i);a===null&&i.length>1&&(i=i.popLast(),a=r.field(i)),a===null?n.delete(i):n.set(i,a),s=s.add(i)}return new ha(t.key,n,new Rn(s.toArray()),Hn.none())}}function xF(t,e,r){t instanceof qu?function(s,i,a){const o=s.value.clone(),l=O_(s.fieldTransforms,i,a.transformResults);o.setAll(l),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof ha?function(s,i,a){if(!vf(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=O_(s.fieldTransforms,i,a.transformResults),l=i.data;l.setAll(fS(s)),l.setAll(o),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function Uc(t,e,r,n){return t instanceof qu?function(i,a,o,l){if(!vf(i.precondition,a))return o;const c=i.value.clone(),f=F_(i.fieldTransforms,l,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof ha?function(i,a,o,l){if(!vf(i.precondition,a))return o;const c=F_(i.fieldTransforms,l,a),f=a.data;return f.setAll(fS(i)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(i,a,o){return vf(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function yF(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=oS(n.transform,s||null);i!=null&&(r===null&&(r=ln.empty()),r.set(n.field,i))}return r||null}function D_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&gl(n,s,(i,a)=>gF(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qu extends r0{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ha extends r0{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fS(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function O_(t,e,r){const n=new Map;pt(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],a=i.transform,o=e.data.field(i.field);n.set(i.field,pF(a,o,r[s]))}return n}function F_(t,e,r){const n=new Map;for(const s of t){const i=s.transform,a=r.data.field(s.field);n.set(s.field,dF(i,a,e))}return n}class Ov extends r0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _F extends r0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&xF(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Uc(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Uc(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=iS();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=r.has(s.key)?null:o;const l=hS(a,o);l!==null&&n.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(Be.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ye())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(r,n)=>D_(r,n))&&gl(this.baseMutations,e.baseMutations,(r,n)=>D_(r,n))}}class Fv{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){pt(e.mutations.length===n.length);let s=function(){return lF}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,n[a].version);return new Fv(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,tt;function kF(t){switch(t){default:return Me();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function dS(t){if(t===void 0)return ni("GRPC error has no .code"),se.UNKNOWN;switch(t){case Yt.OK:return se.OK;case Yt.CANCELLED:return se.CANCELLED;case Yt.UNKNOWN:return se.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return se.INTERNAL;case Yt.UNAVAILABLE:return se.UNAVAILABLE;case Yt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Yt.NOT_FOUND:return se.NOT_FOUND;case Yt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Yt.ABORTED:return se.ABORTED;case Yt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Yt.DATA_LOSS:return se.DATA_LOSS;default:return Me()}}(tt=Yt||(Yt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new Da([4294967295,4294967295],0);function j_(t){const e=SF().encode(t),r=new Lk;return r.update(e),new Uint8Array(r.digest())}function L_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Da([r,n],0),new Da([s,i],0)]}class jv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ec(`Invalid padding: ${r}`);if(n<0)throw new Ec(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Da.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(Da.fromNumber(n)));return s.compare(AF)===1&&(s=new Da([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=j_(e),[n,s]=L_(r);for(let i=0;i<this.hashCount;i++){const a=this.Ee(n,s,i);if(!this.de(a))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new jv(i,s,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=j_(e),[n,s]=L_(r);for(let i=0;i<this.hashCount;i++){const a=this.Ee(n,s,i);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new n0(Be.min(),s,new Mt(at),si(),Ye())}}class Ku{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ku(n,r,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class pS{constructor(e,r){this.targetId=e,this.me=r}}class mS{constructor(e,r,n=Nr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class M_{constructor(){this.fe=0,this.ge=U_(),this.pe=Nr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ye(),r=Ye(),n=Ye();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:Me()}}),new Ku(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=U_()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IF{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=V_(),this.Qe=new Mt(at)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Me()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(Hm(i))if(n===0){const a=new Fe(i.path);this.Ue(r,a,Vr.newNoDocument(a,Be.min()))}else pt(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let a,o;try{a=Ha(n).toUint8Array()}catch(l){if(l instanceof Gk)return ml("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new jv(a,s,i)}catch(l){return ml(l instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,a)=>{const o=this.Je(a);if(o){if(i.current&&Hm(o.target)){const l=new Fe(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Vr.newNoDocument(l,e))}i.be&&(r.set(a,i.ve()),i.Ce())}});let n=Ye();this.qe.forEach((i,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new n0(e,r,this.Qe,this.ke,n);return this.ke=si(),this.qe=V_(),this.Qe=new Mt(at),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new M_,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ar(at),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Re("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new M_),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function V_(){return new Mt(Fe.comparator)}function U_(){return new Mt(Fe.comparator)}const bF={asc:"ASCENDING",desc:"DESCENDING"},NF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CF={and:"AND",or:"OR"};class RF{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function qm(t,e){return t.useProto3Json||Qd(e)?e:{value:e}}function id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PF(t,e){return id(t,e.toTimestamp())}function Ns(t){return pt(!!t),Be.fromTimestamp(function(r){const n=ea(r);return new tr(n.seconds,n.nanos)}(t))}function Lv(t,e){return Km(t,e).canonicalString()}function Km(t,e){const r=function(s){return new At(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function vS(t){const e=At.fromString(t);return pt(ES(e)),e}function Zm(t,e){return Lv(t.databaseId,e.path)}function wp(t,e){const r=vS(e);if(r.get(1)!==t.databaseId.projectId)throw new Ae(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ae(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Fe(yS(r))}function xS(t,e){return Lv(t.databaseId,e)}function DF(t){const e=vS(t);return e.length===4?At.emptyPath():yS(e)}function Xm(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yS(t){return pt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B_(t,e,r){return{name:Zm(t,e),fields:r.value.mapValue.fields}}function OF(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,f){return c.useProto3Json?(pt(f===void 0||typeof f=="string"),Nr.fromBase64String(f||"")):(pt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Nr.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const f=c.code===void 0?se.UNKNOWN:dS(c.code);return new Ae(f,c.message||"")}(a);r=new mS(n,s,i,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=wp(t,n.document.name),i=Ns(n.document.updateTime),a=n.document.createTime?Ns(n.document.createTime):Be.min(),o=new ln({mapValue:{fields:n.document.fields}}),l=Vr.newFoundDocument(s,i,a,o),c=n.targetIds||[],f=n.removedTargetIds||[];r=new xf(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=wp(t,n.document),i=n.readTime?Ns(n.readTime):Be.min(),a=Vr.newNoDocument(s,i),o=n.removedTargetIds||[];r=new xf([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=wp(t,n.document),i=n.removedTargetIds||[];r=new xf([],i,s,null)}else{if(!("filter"in e))return Me();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,a=new TF(s,i),o=n.targetId;r=new pS(o,a)}}return r}function FF(t,e){let r;if(e instanceof qu)r={update:B_(t,e.key,e.value)};else if(e instanceof Ov)r={delete:Zm(t,e.key)};else if(e instanceof ha)r={update:B_(t,e.key,e.data),updateMask:WF(e.fieldMask)};else{if(!(e instanceof _F))return Me();r={verify:Zm(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,a){const o=a.transform;if(o instanceof wu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Eu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Tu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof sd)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw Me()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:PF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Me()}(t,e.precondition)),r}function jF(t,e){return t&&t.length>0?(pt(e!==void 0),t.map(r=>function(s,i){let a=s.updateTime?Ns(s.updateTime):Ns(i);return a.isEqual(Be.min())&&(a=Ns(i)),new vF(a,s.transformResults||[])}(r,e))):[]}function LF(t,e){return{documents:[xS(t,e.path)]}}function MF(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=xS(t,s);const i=function(c){if(c.length!==0)return wS(ds.create(c,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const a=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:Eo(p.field),direction:BF(p.dir)}}(f))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=qm(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:s}}function VF(t){let e=DF(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){pt(n===1);const f=r.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];r.where&&(i=function(d){const p=_S(d);return p instanceof ds&&Xk(p)?p.getFilters():[p]}(r.where));let a=[];r.orderBy&&(a=function(d){return d.map(p=>function(x){return new _u(To(x.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(d){let p;return p=typeof d=="object"?d.value:d,Qd(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new rd(m,p)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const p=!d.before,m=d.values||[];return new rd(m,p)}(r.endAt)),nF(e,s,a,i,o,"F",l,c)}function UF(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function _S(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=To(r.unaryFilter.field);return Jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=To(r.unaryFilter.field);return Jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=To(r.unaryFilter.field);return Jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=To(r.unaryFilter.field);return Jt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(t):t.fieldFilter!==void 0?function(r){return Jt.create(To(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ds.create(r.compositeFilter.filters.map(n=>_S(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me()}}(r.compositeFilter.op))}(t):Me()}function BF(t){return bF[t]}function $F(t){return NF[t]}function zF(t){return CF[t]}function Eo(t){return{fieldPath:t.canonicalString()}}function To(t){return Er.fromServerFormat(t.fieldPath)}function wS(t){return t instanceof Jt?function(r){if(r.op==="=="){if(I_(r.value))return{unaryFilter:{field:Eo(r.field),op:"IS_NAN"}};if(A_(r.value))return{unaryFilter:{field:Eo(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(I_(r.value))return{unaryFilter:{field:Eo(r.field),op:"IS_NOT_NAN"}};if(A_(r.value))return{unaryFilter:{field:Eo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(r.field),op:$F(r.op),value:r.value}}}(t):t instanceof ds?function(r){const n=r.getFilters().map(s=>wS(s));return n.length===1?n[0]:{compositeFilter:{op:zF(r.op),filters:n}}}(t):Me()}function WF(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ES(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,r,n,s,i=Be.min(),a=Be.min(),o=Nr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.ct=e}}function GF(t){const e=VF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.un=new KF}addToCollectionParentIndex(e,r){return this.un.add(r),ce.resolve()}getCollectionParents(e,r){return ce.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ce.resolve()}deleteFieldIndex(e,r){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,r){return ce.resolve()}getDocumentsMatchingTarget(e,r){return ce.resolve(null)}getIndexType(e,r){return ce.resolve(0)}getFieldIndexes(e,r){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,r){return ce.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,r){return ce.resolve(Ji.min())}updateCollectionGroup(e,r,n){return ce.resolve()}updateIndexEntries(e,r){return ce.resolve()}}class KF{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new Ar(At.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Ar(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new yl(0)}static kn(){return new yl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this.changes=new jl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ce.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&Uc(n.mutation,s,Rn.empty(),tr.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ye()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ye()){const s=ba();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let a=wc();return i.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=ba();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ye()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,s){let i=si();const a=Vc(),o=function(){return Vc()}();return r.forEach((l,c)=>{const f=n.get(c.key);s.has(c.key)&&(f===void 0||f.mutation instanceof ha)?i=i.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),Uc(f.mutation,c,f.mutation.getFieldMask(),tr.now())):a.set(c.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,f)=>a.set(c,f)),r.forEach((c,f)=>{var d;return o.set(c,new XF(f,(d=a.get(c))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,r){const n=Vc();let s=new Mt((a,o)=>a-o),i=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let f=n.get(l)||Rn.empty();f=o.applyToLocalView(c,f),n.set(l,f);const d=(s.get(o.batchId)||Ye()).add(l);s=s.insert(o.batchId,d)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,f=l.value,d=iS();f.forEach(p=>{if(!i.has(p)){const m=hS(r.get(p),n.get(p));m!==null&&d.set(p,m),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,d))}return ce.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(a){return Fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):eS(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):ce.resolve(ba());let o=-1,l=i;return a.next(c=>ce.forEach(c,(f,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),i.get(f)?ce.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{l=l.insert(f,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ye())).next(f=>({batchId:o,changes:sS(f)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Fe(r)).next(n=>{let s=wc();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let a=wc();return this.indexManager.getCollectionParents(e,i).next(o=>ce.forEach(o,l=>{const c=function(d,p){return new Fl(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n,s).next(f=>{f.forEach((d,p)=>{a=a.insert(d,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(a=>{i.forEach((l,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,Vr.newInvalidDocument(f)))});let o=wc();return a.forEach((l,c)=>{const f=i.get(l);f!==void 0&&Uc(f.mutation,c,Rn.empty(),tr.now()),e0(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ce.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:Ns(s.createTime)}}(r)),ce.resolve()}getNamedQuery(e,r){return ce.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:GF(s.bundledQuery),readTime:Ns(s.readTime)}}(r)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.overlays=new Mt(Fe.comparator),this.Ir=new Map}getOverlay(e,r){return ce.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ba();return ce.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),ce.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),ce.resolve()}getOverlaysForCollection(e,r,n){const s=ba(),i=r.length+1,a=new Fe(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&s.set(l.getKey(),l)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Mt((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let f=i.get(c.largestBatchId);f===null&&(f=ba(),i=i.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const o=ba(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>o.set(c,f)),!(o.size()>=s)););return ce.resolve(o)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new EF(r,n));let i=this.Ir.get(r);i===void 0&&(i=Ye(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.sessionToken=Nr.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.Tr=new Ar(ur.Er),this.dr=new Ar(ur.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new ur(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new ur(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Fe(new At([])),n=new ur(r,e),s=new ur(r,e+1),i=[];return this.dr.forEachInRange([n,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Fe(new At([])),n=new ur(r,e),s=new ur(r,e+1);let i=Ye();return this.dr.forEachInRange([n,s],a=>{i=i.add(a.key)}),i}containsKey(e){const r=new ur(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ur{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Fe.comparator(e.key,r.key)||at(e.wr,r.wr)}static Ar(e,r){return at(e.wr,r.wr)||Fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ar(ur.Er)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new wF(i,r,n,s);this.mutationQueue.push(a);for(const o of s)this.br=this.br.add(new ur(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ce.resolve(a)}lookupMutationBatch(e,r){return ce.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return ce.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ur(r,0),s=new ur(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],a=>{const o=this.Dr(a.wr);i.push(o)}),ce.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ar(at);return r.forEach(s=>{const i=new ur(s,0),a=new ur(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],o=>{n=n.add(o.wr)})}),ce.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;Fe.isDocumentKey(i)||(i=i.child(""));const a=new ur(new Fe(i),0);let o=new Ar(at);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===s&&(o=o.add(l.wr)),!0)},a),ce.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){pt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ce.forEach(r.mutations,s=>{const i=new ur(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new ur(r,0),s=this.br.firstAfterOrEqual(n);return ce.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.Mr=e,this.docs=function(){return new Mt(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ce.resolve(n?n.document.mutableCopy():Vr.newInvalidDocument(r))}getEntries(e,r){let n=si();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Vr.newInvalidDocument(s))}),ce.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=si();const a=r.path,o=new Fe(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||MO(LO(f),n)<=0||(s.has(f.key)||e0(r,f))&&(i=i.insert(f.key,f.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,r,n,s){Me()}Or(e,r){return ce.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new n6(this)}getSize(e){return ce.resolve(this.size)}}class n6 extends ZF{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),ce.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.persistence=e,this.Nr=new jl(r=>Cv(r),Rv),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Mv,this.targetCount=0,this.kr=yl.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ce.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new yl(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ce.resolve()}updateTargetData(e,r){return this.Kn(r),ce.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),ce.waitFor(i).next(()=>s)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ce.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ce.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),ce.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ce.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ce.resolve(n)}containsKey(e,r){return ce.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Av(0),this.Kr=!1,this.Kr=!0,this.$r=new e6,this.referenceDelegate=e(this),this.Ur=new s6(this),this.indexManager=new qF,this.remoteDocumentCache=function(s){return new r6(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new HF(r),this.Gr=new QF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new JF,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new t6(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Re("MemoryPersistence","Starting transaction:",e);const s=new a6(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return ce.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class a6 extends UO{constructor(e){super(),this.currentSequenceNumber=e}}class Vv{constructor(e){this.persistence=e,this.Jr=new Mv,this.Yr=null}static Zr(e){return new Vv(e)}get Xr(){if(this.Yr)return this.Yr;throw Me()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ce.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ce.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ce.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Xr,n=>{const s=Fe.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,Be.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ce.or([()=>ce.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=Ye(),s=Ye();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Uv(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ZR()?8:BO(Wr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new o6;return this.Xi(e,r,a).next(o=>{if(i.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(uc()<=Je.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",wo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ce.resolve()):(uc()<=Je.DEBUG&&Re("QueryEngine","Query:",wo(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(uc()<=Je.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",wo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(r))):ce.resolve())}Yi(e,r){if(R_(r))return ce.resolve(null);let n=bs(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=nd(r,null,"F"),n=bs(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const a=Ye(...i);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,o);return this.ns(r,c,a,l.readTime)?this.Yi(e,nd(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,s){return R_(r)||s.isEqual(Be.min())?ce.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const a=this.ts(r,i);return this.ns(r,a,n,s)?ce.resolve(null):(uc()<=Je.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wo(r)),this.rs(e,a,r,jO(s,-1)).next(o=>o))})}ts(e,r){let n=new Ar(rS(e));return r.forEach((s,i)=>{e0(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return uc()<=Je.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",wo(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ji.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Mt(at),this._s=new jl(i=>Cv(i),Rv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function u6(t,e,r,n){return new c6(t,e,r,n)}async function TS(t,e){const r=$e(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const a=[],o=[];let l=Ye();for(const c of s){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of i){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:a,addedBatchIds:o}))})})}function h6(t,e){const r=$e(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,f){const d=c.batch,p=d.keys();let m=ce.resolve();return p.forEach(x=>{m=m.next(()=>f.getEntry(l,x)).next(g=>{const y=c.docVersions.get(x);pt(y!==null),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),f.addEntry(g)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Ye();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function kS(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function f6(t,e){const r=$e(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const o=[];e.targetChanges.forEach((f,d)=>{const p=s.get(d);if(!p)return;o.push(r.Ur.removeMatchingKeys(i,f.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(i,f.addedDocuments,d)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Nr.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,n)),s=s.insert(d,m),function(g,y,E){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,m,f)&&o.push(r.Ur.updateTargetData(i,m))});let l=si(),c=Ye();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,f))}),o.push(d6(i,a,e.documentUpdates).next(f=>{l=f.Ps,c=f.Is})),!n.isEqual(Be.min())){const f=r.Ur.getLastRemoteSnapshotVersion(i).next(d=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(f)}return ce.waitFor(o).next(()=>a.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.os=s,i))}function d6(t,e,r){let n=Ye(),s=Ye();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let a=si();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(Be.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Re("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:a,Is:s}})}function p6(t,e){const r=$e(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function m6(t,e){const r=$e(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,ce.resolve(s)):r.Ur.allocateTargetId(n).next(a=>(s=new Fi(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Ym(t,e,r){const n=$e(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,a=>n.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Gu(a))throw a;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function $_(t,e,r){const n=$e(t);let s=Be.min(),i=Ye();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,f){const d=$e(l),p=d._s.get(f);return p!==void 0?ce.resolve(d.os.get(p)):d.Ur.getTargetData(c,f)}(n,a,bs(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{i=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?s:Be.min(),r?i:Ye())).next(o=>(g6(n,iF(e),o),{documents:o,Ts:i})))}function g6(t,e,r){let n=t.us.get(e)||Be.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class z_{constructor(){this.activeTargetIds=hF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v6{constructor(){this.so=new z_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new z_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh=null;function Ep(){return Mh===null?Mh=function(){return 268435456+Math.round(2147483648*Math.random())}():Mh++,"0x"+Mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="WebChannelConnection";class w6 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,a){const o=Ep(),l=this.xo(r,n.toUriEncodedString());Re("RestConnection",`Sending RPC '${r}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,a),this.No(r,l,c,s).then(f=>(Re("RestConnection",`Received RPC '${r}' ${o}: `,f),f),f=>{throw ml("RestConnection",`RPC '${r}' ${o} failed with error: `,f,"url: ",l,"request:",s),f})}Lo(r,n,s,i,a,o){return this.Mo(r,n,s,i,a)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ol}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>r[a]=i),s&&s.headers.forEach((i,a)=>r[a]=i)}xo(r,n){const s=y6[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=Ep();return new Promise((a,o)=>{const l=new Mk;l.setWithCredentials(!0),l.listenOnce(Vk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case mf.NO_ERROR:const f=l.getResponseJson();Re(jr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),a(f);break;case mf.TIMEOUT:Re(jr,`RPC '${e}' ${i} timed out`),o(new Ae(se.DEADLINE_EXCEEDED,"Request time out"));break;case mf.HTTP_ERROR:const d=l.getStatus();if(Re(jr,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const x=function(y){const E=y.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(E)>=0?E:se.UNKNOWN}(m.status);o(new Ae(x,m.message))}else o(new Ae(se.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Ae(se.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{Re(jr,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);Re(jr,`RPC '${e}' ${i} sending request:`,s),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const s=Ep(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$k(),o=Bk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const f=i.join("");Re(jr,`Creating RPC '${e}' stream ${s}: ${f}`,l);const d=a.createWebChannel(f,l);let p=!1,m=!1;const x=new _6({Io:y=>{m?Re(jr,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(p||(Re(jr,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),Re(jr,`RPC '${e}' stream ${s} sending:`,y),d.send(y))},To:()=>d.close()}),g=(y,E,_)=>{y.listen(E,w=>{try{_(w)}catch(b){setTimeout(()=>{throw b},0)}})};return g(d,_c.EventType.OPEN,()=>{m||(Re(jr,`RPC '${e}' stream ${s} transport opened.`),x.yo())}),g(d,_c.EventType.CLOSE,()=>{m||(m=!0,Re(jr,`RPC '${e}' stream ${s} transport closed`),x.So())}),g(d,_c.EventType.ERROR,y=>{m||(m=!0,ml(jr,`RPC '${e}' stream ${s} transport errored:`,y),x.So(new Ae(se.UNAVAILABLE,"The operation could not be completed")))}),g(d,_c.EventType.MESSAGE,y=>{var E;if(!m){const _=y.data[0];pt(!!_);const w=_,b=w.error||((E=w[0])===null||E===void 0?void 0:E.error);if(b){Re(jr,`RPC '${e}' stream ${s} received error:`,b);const B=b.status;let G=function(A){const N=Yt[A];if(N!==void 0)return dS(N)}(B),S=b.message;G===void 0&&(G=se.INTERNAL,S="Unknown error status: "+B+" with message "+b.message),m=!0,x.So(new Ae(G,S)),d.close()}else Re(jr,`RPC '${e}' stream ${s} received:`,_),x.bo(_)}}),g(o,Uk.STAT_EVENT,y=>{y.stat===Bm.PROXY?Re(jr,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===Bm.NOPROXY&&Re(jr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){return new RF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&Re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,r,n,s,i,a,o,l){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new SS(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===se.RESOURCE_EXHAUSTED?(ni(r.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new Ae(se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E6 extends AS{constructor(e,r,n,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,a),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=OF(this.serializer,e),n=function(i){if(!("targetChange"in i))return Be.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Be.min():a.readTime?Ns(a.readTime):Be.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Xm(this.serializer),r.addTarget=function(i,a){let o;const l=a.target;if(o=Hm(l)?{documents:LF(i,l)}:{query:MF(i,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=gS(i,a.resumeToken);const c=qm(i,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Be.min())>0){o.readTime=id(i,a.snapshotVersion.toTimestamp());const c=qm(i,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=UF(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Xm(this.serializer),r.removeTarget=e,this.a_(r)}}class T6 extends AS{constructor(e,r,n,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return pt(!!e.streamToken),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=jF(e.writeResults,e.commitTime),n=Ns(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Xm(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>FF(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6 extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Ae(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,Km(r,n),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(se.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Km(r,n),s,a,o,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(se.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class S6{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ni(r),this.D_=!1):Re("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{n.enqueueAndForget(async()=>{ro(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=$e(l);c.L_.add(4),await Zu(c),c.q_.set("Unknown"),c.L_.delete(4),await i0(c)}(this))})}),this.q_=new S6(n,s)}}async function i0(t){if(ro(t))for(const e of t.B_)await e(!0)}async function Zu(t){for(const e of t.B_)await e(!1)}function IS(t,e){const r=$e(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Wv(r)?zv(r):Ll(r).r_()&&$v(r,e))}function Bv(t,e){const r=$e(t),n=Ll(r);r.N_.delete(e),n.r_()&&bS(r,e),r.N_.size===0&&(n.r_()?n.o_():ro(r)&&r.q_.set("Unknown"))}function $v(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ll(t).A_(e)}function bS(t,e){t.Q_.xe(e),Ll(t).R_(e)}function zv(t){t.Q_=new IF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ll(t).start(),t.q_.v_()}function Wv(t){return ro(t)&&!Ll(t).n_()&&t.N_.size>0}function ro(t){return $e(t).L_.size===0}function NS(t){t.Q_=void 0}async function I6(t){t.q_.set("Online")}async function b6(t){t.N_.forEach((e,r)=>{$v(t,e)})}async function N6(t,e){NS(t),Wv(t)?(t.q_.M_(e),zv(t)):t.q_.set("Unknown")}async function C6(t,e,r){if(t.q_.set("Online"),e instanceof mS&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const o of i.targetIds)s.N_.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.N_.delete(o),s.Q_.removeTarget(o))}(t,e)}catch(n){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ad(t,n)}else if(e instanceof xf?t.Q_.Ke(e):e instanceof pS?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Be.min()))try{const n=await kS(t.localStore);r.compareTo(n)>=0&&await function(i,a){const o=i.Q_.rt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=i.N_.get(c);f&&i.N_.set(c,f.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const f=i.N_.get(l);if(!f)return;i.N_.set(l,f.withResumeToken(Nr.EMPTY_BYTE_STRING,f.snapshotVersion)),bS(i,l);const d=new Fi(f.target,l,c,f.sequenceNumber);$v(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){Re("RemoteStore","Failed to raise snapshot:",n),await ad(t,n)}}async function ad(t,e,r){if(!Gu(e))throw e;t.L_.add(1),await Zu(t),t.q_.set("Offline"),r||(r=()=>kS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await i0(t)})}function CS(t,e){return e().catch(r=>ad(t,r,e))}async function a0(t){const e=$e(t),r=ta(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;R6(e);)try{const s=await p6(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,P6(e,s)}catch(s){await ad(e,s)}RS(e)&&PS(e)}function R6(t){return ro(t)&&t.O_.length<10}function P6(t,e){t.O_.push(e);const r=ta(t);r.r_()&&r.V_&&r.m_(e.mutations)}function RS(t){return ro(t)&&!ta(t).n_()&&t.O_.length>0}function PS(t){ta(t).start()}async function D6(t){ta(t).p_()}async function O6(t){const e=ta(t);for(const r of t.O_)e.m_(r.mutations)}async function F6(t,e,r){const n=t.O_.shift(),s=Fv.from(n,e,r);await CS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await a0(t)}async function j6(t,e){e&&ta(t).V_&&await async function(n,s){if(function(a){return kF(a)&&a!==se.ABORTED}(s.code)){const i=n.O_.shift();ta(n).s_(),await CS(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await a0(n)}}(t,e),RS(t)&&PS(t)}async function H_(t,e){const r=$e(t);r.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const n=ro(r);r.L_.add(3),await Zu(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await i0(r)}async function L6(t,e){const r=$e(t);e?(r.L_.delete(2),await i0(r)):e||(r.L_.add(2),await Zu(r),r.q_.set("Unknown"))}function Ll(t){return t.K_||(t.K_=function(r,n,s){const i=$e(r);return i.w_(),new E6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:I6.bind(null,t),Ro:b6.bind(null,t),mo:N6.bind(null,t),d_:C6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Wv(t)?zv(t):t.q_.set("Unknown")):(await t.K_.stop(),NS(t))})),t.K_}function ta(t){return t.U_||(t.U_=function(r,n,s){const i=$e(r);return i.w_(),new T6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:D6.bind(null,t),mo:j6.bind(null,t),f_:O6.bind(null,t),g_:F6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await a0(t)):(await t.U_.stop(),t.O_.length>0&&(Re("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const a=Date.now()+n,o=new Hv(e,r,a,s,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(t,e){if(ni("AsyncQueue",`${e}: ${t}`),Gu(t))return new Ae(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Fe.comparator(r.key,n.key):(r,n)=>Fe.comparator(r.key,n.key),this.keyedMap=wc(),this.sortedSet=new Mt(this.comparator)}static emptySet(e){return new Qo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Qo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.W_=new Mt(Fe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Me():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class _l{constructor(e,r,n,s,i,a,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,s,i){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new _l(e,r,Qo.emptySet(r),a,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class V6{constructor(){this.queries=q_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=$e(r),i=s.queries;s.queries=q_(),i.forEach((a,o)=>{for(const l of o.j_)l.onError(n)})})(this,new Ae(se.ABORTED,"Firestore shutting down"))}}function q_(){return new jl(t=>tS(t),Jd)}async function DS(t,e){const r=$e(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new M6,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(a){const o=Gv(a,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(o)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&qv(r)}async function OS(t,e){const r=$e(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function U6(t,e){const r=$e(t);let n=!1;for(const s of e){const i=s.query,a=r.queries.get(i);if(a){for(const o of a.j_)o.X_(s)&&(n=!0);a.z_=s}}n&&qv(r)}function B6(t,e,r){const n=$e(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function qv(t){t.Y_.forEach(e=>{e.next()})}var Qm,K_;(K_=Qm||(Qm={})).ea="default",K_.Cache="cache";class FS{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new _l(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.key=e}}class LS{constructor(e){this.key=e}}class $6{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ye(),this.mutatedKeys=Ye(),this.Aa=rS(e),this.Ra=new Qo(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new G_,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,d)=>{const p=s.get(f),m=e0(this.query,d)?d:null,x=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;p&&m?p.data.isEqual(m.data)?x!==g&&(n.track({type:3,doc:m}),y=!0):this.ga(p,m)||(n.track({type:2,doc:m}),y=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(o=!0)):!p&&m?(n.track({type:0,doc:m}),y=!0):p&&!m&&(n.track({type:1,doc:p}),y=!0,(l||c)&&(o=!0)),y&&(m?(a=a.add(m),i=g?i.add(f):i.delete(f)):(a=a.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),i=i.delete(f.key),n.track({type:1,doc:f})}return{Ra:a,fa:n,ns:o,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((f,d)=>function(m,x){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return g(m)-g(x)}(f.type,d.type)||this.Aa(f.doc,d.doc)),this.pa(n),s=s!=null&&s;const o=r&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,a.length!==0||c?{snapshot:new _l(this.query,e.Ra,i,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new G_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ye(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new LS(n))}),this.da.forEach(n=>{e.has(n)||r.push(new jS(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ye();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return _l.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class z6{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class W6{constructor(e){this.key=e,this.va=!1}}class H6{constructor(e,r,n,s,i,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new jl(o=>tS(o),Jd),this.Ma=new Map,this.xa=new Set,this.Oa=new Mt(Fe.comparator),this.Na=new Map,this.La=new Mv,this.Ba={},this.ka=new Map,this.qa=yl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function G6(t,e,r=!0){const n=zS(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await MS(n,e,r,!0),s}async function q6(t,e){const r=zS(t);await MS(r,e,!0,!1)}async function MS(t,e,r,n){const s=await m6(t.localStore,bs(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await K6(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&r&&IS(t.remoteStore,s),o}async function K6(t,e,r,n,s){t.Ka=(d,p,m)=>async function(g,y,E,_){let w=y.view.ma(E);w.ns&&(w=await $_(g.localStore,y.query,!1).then(({documents:S})=>y.view.ma(S,w)));const b=_&&_.targetChanges.get(y.targetId),B=_&&_.targetMismatches.get(y.targetId)!=null,G=y.view.applyChanges(w,g.isPrimaryClient,b,B);return X_(g,y.targetId,G.wa),G.snapshot}(t,d,p,m);const i=await $_(t.localStore,e,!0),a=new $6(e,i.Ts),o=a.ma(i.documents),l=Ku.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),c=a.applyChanges(o,t.isPrimaryClient,l);X_(t,r,c.wa);const f=new z6(e,r,a);return t.Fa.set(e,f),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function Z6(t,e,r){const n=$e(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(a=>!Jd(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Ym(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&Bv(n.remoteStore,s.targetId),Jm(n,s.targetId)}).catch(Hu)):(Jm(n,s.targetId),await Ym(n.localStore,s.targetId,!0))}async function X6(t,e){const r=$e(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Bv(r.remoteStore,n.targetId))}async function Y6(t,e,r){const n=s5(t);try{const s=await function(a,o){const l=$e(a),c=tr.now(),f=o.reduce((m,x)=>m.add(x.key),Ye());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=si(),g=Ye();return l.cs.getEntries(m,f).next(y=>{x=y,x.forEach((E,_)=>{_.isValidDocument()||(g=g.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,x)).next(y=>{d=y;const E=[];for(const _ of o){const w=yF(_,d.get(_.key).overlayedDocument);w!=null&&E.push(new ha(_.key,w,qk(w.value.mapValue),Hn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,E,o)}).next(y=>{p=y;const E=y.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(m,y.batchId,E)})}).then(()=>({batchId:p.batchId,changes:sS(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let c=a.Ba[a.currentUser.toKey()];c||(c=new Mt(at)),c=c.insert(o,l),a.Ba[a.currentUser.toKey()]=c}(n,s.batchId,r),await Xu(n,s.changes),await a0(n.remoteStore)}catch(s){const i=Gv(s,"Failed to persist write");r.reject(i)}}async function VS(t,e){const r=$e(t);try{const n=await f6(r.localStore,e);e.targetChanges.forEach((s,i)=>{const a=r.Na.get(i);a&&(pt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?pt(a.va):s.removedDocuments.size>0&&(pt(a.va),a.va=!1))}),await Xu(r,n,e)}catch(n){await Hu(n)}}function Z_(t,e,r){const n=$e(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,a)=>{const o=a.view.Z_(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=$e(a);l.onlineState=o;let c=!1;l.queries.forEach((f,d)=>{for(const p of d.j_)p.Z_(o)&&(c=!0)}),c&&qv(l)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Q6(t,e,r){const n=$e(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let a=new Mt(Fe.comparator);a=a.insert(i,Vr.newNoDocument(i,Be.min()));const o=Ye().add(i),l=new n0(Be.min(),new Map,new Mt(at),a,o);await VS(n,l),n.Oa=n.Oa.remove(i),n.Na.delete(e),Kv(n)}else await Ym(n.localStore,e,!1).then(()=>Jm(n,e,r)).catch(Hu)}async function J6(t,e){const r=$e(t),n=e.batch.batchId;try{const s=await h6(r.localStore,e);BS(r,n,null),US(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Xu(r,s)}catch(s){await Hu(s)}}async function e5(t,e,r){const n=$e(t);try{const s=await function(a,o){const l=$e(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(pt(d!==null),f=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(n.localStore,e);BS(n,e,r),US(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Xu(n,s)}catch(s){await Hu(s)}}function US(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function BS(t,e,r){const n=$e(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function Jm(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||$S(t,n)})}function $S(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Bv(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Kv(t))}function X_(t,e,r){for(const n of r)n instanceof jS?(t.La.addReference(n.key,e),t5(t,n)):n instanceof LS?(Re("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||$S(t,n.key)):Me()}function t5(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Re("SyncEngine","New document in limbo: "+r),t.xa.add(n),Kv(t))}function Kv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Fe(At.fromString(e)),n=t.qa.next();t.Na.set(n,new W6(r)),t.Oa=t.Oa.insert(r,n),IS(t.remoteStore,new Fi(bs(Pv(r.path)),n,"TargetPurposeLimboResolution",Av.oe))}}async function Xu(t,e,r){const n=$e(t),s=[],i=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{a.push(n.Ka(l,e,r).then(c=>{var f;if((c||r)&&n.isPrimaryClient){const d=c?!c.fromCache:(f=r==null?void 0:r.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=Uv.Wi(l.targetId,c);i.push(d)}}))}),await Promise.all(a),n.Ca.d_(s),await async function(l,c){const f=$e(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ce.forEach(c,p=>ce.forEach(p.$i,m=>f.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>ce.forEach(p.Ui,m=>f.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!Gu(d))throw d;Re("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const m=f.os.get(p),x=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(x);f.os=f.os.insert(p,g)}}}(n.localStore,i))}async function r5(t,e){const r=$e(t);if(!r.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const n=await TS(r.localStore,e);r.currentUser=e,function(i,a){i.ka.forEach(o=>{o.forEach(l=>{l.reject(new Ae(se.CANCELLED,a))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Xu(r,n.hs)}}function n5(t,e){const r=$e(t),n=r.Na.get(e);if(n&&n.va)return Ye().add(n.key);{let s=Ye();const i=r.Ma.get(e);if(!i)return s;for(const a of i){const o=r.Fa.get(a);s=s.unionWith(o.view.Va)}return s}}function zS(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q6.bind(null,e),e.Ca.d_=U6.bind(null,e.eventManager),e.Ca.$a=B6.bind(null,e.eventManager),e}function s5(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e5.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=s0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return u6(this.persistence,new l6,e.initialUser,this.serializer)}Ga(e){return new i6(Vv.Zr,this.serializer)}Wa(e){return new v6}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class eg{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Z_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=r5.bind(null,this.syncEngine),await L6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V6}()}createDatastore(e){const r=s0(e.databaseInfo.databaseId),n=function(i){return new w6(i)}(e.databaseInfo);return function(i,a,o,l){return new k6(i,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,a,o){return new A6(n,s,i,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>Z_(this.syncEngine,r,0),function(){return W_.D()?new W_:new x6}())}createSyncEngine(e,r){return function(s,i,a,o,l,c,f){const d=new H6(s,i,a,o,l,c);return f&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=$e(s);Re("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Zu(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}eg.provider={build:()=>new eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Lr.UNAUTHENTICATED,this.clientId=Wk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async a=>{Re("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Re("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Gv(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function kp(t,e){t.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await TS(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y_(t,e){t.asyncQueue.verifyOperationInProgress();const r=await a5(t);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>H_(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>H_(e.remoteStore,s)),t._onlineComponents=e}async function a5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;ml("Error using user provided cache. Falling back to memory cache: "+r),await kp(t,new od)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await kp(t,new od);return t._offlineComponents}async function HS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await Y_(t,t._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await Y_(t,new eg))),t._onlineComponents}function o5(t){return HS(t).then(e=>e.syncEngine)}async function GS(t){const e=await HS(t),r=e.eventManager;return r.onListen=G6.bind(null,e.syncEngine),r.onUnlisten=Z6.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=q6.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=X6.bind(null,e.syncEngine),r}function l5(t,e,r={}){const n=new qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,c){const f=new WS({next:p=>{f.Za(),a.enqueueAndForget(()=>OS(i,d));const m=p.docs.has(o);!m&&p.fromCache?c.reject(new Ae(se.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new Ae(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new FS(Pv(o.path),f,{includeMetadataChanges:!0,_a:!0});return DS(i,d)}(await GS(t),t.asyncQueue,e,r,n)),n.promise}function c5(t,e,r={}){const n=new qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,c){const f=new WS({next:p=>{f.Za(),a.enqueueAndForget(()=>OS(i,d)),p.fromCache&&l.source==="server"?c.reject(new Ae(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new FS(o,f,{includeMetadataChanges:!0,_a:!0});return DS(i,d)}(await GS(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e,r){if(!r)throw new Ae(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u5(t,e,r,n){if(e===!0&&n===!0)throw new Ae(se.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function J_(t){if(!Fe.isDocumentKey(t))throw new Ae(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ew(t){if(Fe.isDocumentKey(t))throw new Ae(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function o0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me()}function ps(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=o0(t);throw new Ae(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function h5(t,e){if(e<=0)throw new Ae(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qS((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class l0{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new IO;switch(n.type){case"firstParty":return new RO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ae(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Q_.get(r);n&&(Re("ComponentProvider","Removing Datastore"),Q_.delete(r),n.terminate())}(this),Promise.resolve()}}function f5(t,e,r,n={}){var s;const i=(t=ps(t,l0))._getSettings(),a=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=Lr.MOCK_USER;else{o=$R(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new Ae(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lr(c)}t._authCredentials=new bO(new zk(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class Qr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qr(this.firestore,e,this._key)}}class Xi extends fa{constructor(e,r,n){super(e,r,Pv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qr(this.firestore,null,new Fe(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function Ur(t,e,...r){if(t=cr(t),KS("collection","path",e),t instanceof l0){const n=At.fromString(e,...r);return ew(n),new Xi(t,null,n)}{if(!(t instanceof Qr||t instanceof Xi))throw new Ae(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(At.fromString(e,...r));return ew(n),new Xi(t.firestore,null,n)}}function zn(t,e,...r){if(t=cr(t),arguments.length===1&&(e=Wk.newId()),KS("doc","path",e),t instanceof l0){const n=At.fromString(e,...r);return J_(n),new Qr(t,null,new Fe(n))}{if(!(t instanceof Qr||t instanceof Xi))throw new Ae(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(At.fromString(e,...r));return J_(n),new Qr(t.firestore,t instanceof Xi?t.converter:null,new Fe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new SS(this,"async_queue_retry"),this.Vu=()=>{const n=Tp();n&&Re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Tp();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Tp();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new qs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Gu(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw ni("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=Hv.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class no extends l0{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new rw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rw(e),this._firestoreClient=void 0,await e}}}function d5(t,e){const r=typeof t=="object"?t:rk(),n=typeof t=="string"?t:"(default)",s=pv(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=UR("firestore");i&&f5(s,...i)}return s}function Zv(t){if(t._terminated)throw new Ae(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||p5(t),t._firestoreClient}function p5(t){var e,r,n;const s=t._freezeSettings(),i=function(o,l,c,f){return new WO(o,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,qS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new i5(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl(Nr.fromBase64String(e))}catch(r){throw new Ae(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new wl(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ae(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ae(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ae(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=/^__.*__$/;class g5{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,r,this.fieldTransforms):new qu(e,this.data,r,this.fieldTransforms)}}class ZS{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new ha(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function XS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class Qv{constructor(e,r,n,s,i,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Qv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ld(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(XS(this.Cu)&&m5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class v5{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||s0(e)}Qu(e,r,n,s=!1){return new Qv({Cu:e,methodName:r,qu:n,path:Er.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h0(t){const e=t._freezeSettings(),r=s0(t._databaseId);return new v5(t._databaseId,!!e.ignoreUndefinedProperties,r)}function YS(t,e,r,n,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);ex("Data must be an object, but it was:",a,n);const o=QS(n,a);let l,c;if(i.merge)l=new Rn(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const f=[];for(const d of i.mergeFields){const p=tg(e,d,r);if(!a.contains(p))throw new Ae(se.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);eA(f,p)||f.push(p)}l=new Rn(f),c=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=a.fieldTransforms;return new g5(new ln(o),l,c)}class f0 extends u0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof f0}}class Jv extends u0{_toFieldTransform(e){return new mF(e.path,new wu)}isEqual(e){return e instanceof Jv}}function x5(t,e,r,n){const s=t.Qu(1,e,r);ex("Data must be an object, but it was:",s,n);const i=[],a=ln.empty();to(n,(l,c)=>{const f=tx(e,l,r);c=cr(c);const d=s.Nu(f);if(c instanceof f0)i.push(f);else{const p=Yu(c,d);p!=null&&(i.push(f),a.set(f,p))}});const o=new Rn(i);return new ZS(a,o,s.fieldTransforms)}function y5(t,e,r,n,s,i){const a=t.Qu(1,e,r),o=[tg(e,n,r)],l=[s];if(i.length%2!=0)throw new Ae(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)o.push(tg(e,i[p])),l.push(i[p+1]);const c=[],f=ln.empty();for(let p=o.length-1;p>=0;--p)if(!eA(c,o[p])){const m=o[p];let x=l[p];x=cr(x);const g=a.Nu(m);if(x instanceof f0)c.push(m);else{const y=Yu(x,g);y!=null&&(c.push(m),f.set(m,y))}}const d=new Rn(c);return new ZS(f,d,a.fieldTransforms)}function _5(t,e,r,n=!1){return Yu(r,t.Qu(n?4:3,e))}function Yu(t,e){if(JS(t=cr(t)))return ex("Unsupported field value:",e,t),QS(t,e);if(t instanceof u0)return function(n,s){if(!XS(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let a=0;for(const o of n){let l=Yu(o,s.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),a++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=cr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return fF(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=tr.fromDate(n);return{timestampValue:id(s.serializer,i)}}if(n instanceof tr){const i=new tr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:id(s.serializer,i)}}if(n instanceof Xv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wl)return{bytesValue:gS(s.serializer,n._byteString)};if(n instanceof Qr){const i=s.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Lv(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Yv)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return Dv(o.serializer,l)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${o0(n)}`)}(t,e)}function QS(t,e){const r={};return Hk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(n,s)=>{const i=Yu(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function JS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tr||t instanceof Xv||t instanceof wl||t instanceof Qr||t instanceof u0||t instanceof Yv)}function ex(t,e,r){if(!JS(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=o0(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function tg(t,e,r){if((e=cr(e))instanceof c0)return e._internalPath;if(typeof e=="string")return tx(t,e);throw ld("Field path arguments must be of type string or ",t,!1,void 0,r)}const w5=new RegExp("[~\\*/\\[\\]]");function tx(t,e,r){if(e.search(w5)>=0)throw ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new c0(...e.split("."))._internalPath}catch{throw ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function ld(t,e,r,n,s){const i=n&&!n.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${n}`),a&&(l+=` in document ${s}`),l+=")"),new Ae(se.INVALID_ARGUMENT,o+t+l)}function eA(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(d0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class E5 extends tA{data(){return super.data()}}function d0(t,e){return typeof e=="string"?tx(t,e):e instanceof c0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rx{}class nx extends rx{}function is(t,e,...r){let n=[];e instanceof rx&&n.push(e),n=n.concat(r),function(i){const a=i.filter(l=>l instanceof sx).length,o=i.filter(l=>l instanceof p0).length;if(a>1||a>0&&o>0)throw new Ae(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class p0 extends nx{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new p0(e,r,n)}_apply(e){const r=this._parse(e);return rA(e._query,r),new fa(e.firestore,e.converter,Gm(e._query,r))}_parse(e){const r=h0(e.firestore);return function(i,a,o,l,c,f,d){let p;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ae(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){sw(d,f);const m=[];for(const x of d)m.push(nw(l,i,x));p={arrayValue:{values:m}}}else p=nw(l,i,d)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||sw(d,f),p=_5(o,a,d,f==="in"||f==="not-in");return Jt.create(c,f,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Vo(t,e,r){const n=e,s=d0("where",t);return p0._create(s,n,r)}class sx extends rx{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new sx(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ds.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let a=s;const o=i.getFlattenedFilters();for(const l of o)rA(a,l),a=Gm(a,l)}(e._query,r),new fa(e.firestore,e.converter,Gm(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ix extends nx{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new ix(e,r)}_apply(e){const r=function(s,i,a){if(s.startAt!==null)throw new Ae(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ae(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(i,a)}(e._query,this._field,this._direction);return new fa(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Fl(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function as(t,e="asc"){const r=e,n=d0("orderBy",t);return ix._create(n,r)}class ax extends nx{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new ax(e,r,n)}_apply(e){return new fa(e.firestore,e.converter,nd(e._query,this._limit,this._limitType))}}function Hs(t){return h5("limit",t),ax._create("limit",t,"F")}function nw(t,e,r){if(typeof(r=cr(r))=="string"){if(r==="")throw new Ae(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eS(e)&&r.indexOf("/")!==-1)throw new Ae(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(At.fromString(r));if(!Fe.isDocumentKey(n))throw new Ae(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return S_(t,new Fe(n))}if(r instanceof Qr)return S_(t,r._key);throw new Ae(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o0(r)}.`)}function sw(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rA(t,e){const r=function(s,i){for(const a of s)for(const o of a.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ae(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class k5{convertValue(e,r="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return to(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(a=>qt(a.doubleValue));return new Yv(i)}convertGeoPoint(e){return new Xv(qt(e.latitude),qt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=bv(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const r=ea(e);return new tr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=At.fromString(e);pt(ES(n));const s=new xu(n.get(1),n.get(3)),i=new Fe(n.popFirst(5));return s.isEqual(r)||ni(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sA extends tA{constructor(e,r,n,s,i,a){super(e,r,n,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(d0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class yf extends sA{data(e={}){return super.data(e)}}class S5{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Tc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new yf(this._firestore,this._userDataWriter,n.key,n,new Tc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ae(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new yf(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Tc(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new yf(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Tc(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,f=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:A5(o.type),doc:l,oldIndex:c,newIndex:f}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function A5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t){t=ps(t,Qr);const e=ps(t.firestore,no);return l5(Zv(e),t._key).then(r=>b5(e,t,r))}class iA extends k5{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,r)}}function bn(t){t=ps(t,fa);const e=ps(t.firestore,no),r=Zv(e),n=new iA(e);return T5(t._query),c5(r,t._query).then(s=>new S5(e,n,t,s))}function I5(t,e,r){t=ps(t,Qr);const n=ps(t.firestore,no),s=nA(t.converter,e);return g0(n,[YS(h0(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Hn.none())])}function ku(t,e,r,...n){t=ps(t,Qr);const s=ps(t.firestore,no),i=h0(s);let a;return a=typeof(e=cr(e))=="string"||e instanceof c0?y5(i,"updateDoc",t._key,e,r,n):x5(i,"updateDoc",t._key,e),g0(s,[a.toMutation(t._key,Hn.exists(!0))])}function aA(t){return g0(ps(t.firestore,no),[new Ov(t._key,Hn.none())])}function m0(t,e){const r=ps(t.firestore,no),n=zn(t),s=nA(t.converter,e);return g0(r,[YS(h0(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Hn.exists(!1))]).then(()=>n)}function g0(t,e){return function(n,s){const i=new qs;return n.asyncQueue.enqueueAndForget(async()=>Y6(await o5(n),s,i)),i.promise}(Zv(t),e)}function b5(t,e,r){const n=r.docs.get(e._key),s=new iA(t);return new sA(t,s,e._key,n,new Tc(r.hasPendingWrites,r.fromCache),e.converter)}function Nn(){return new Jv("serverTimestamp")}(function(e,r=!0){(function(s){Ol=s})(Rl),dl(new $a("firestore",(n,{instanceIdentifier:s,options:i})=>{const a=n.getProvider("app").getImmediate(),o=new no(new NO(n.getProvider("auth-internal")),new DO(n.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ae(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(c.options.projectId,f)}(a,s),a);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ki(__,"4.7.3",e),Ki(__,"4.7.3","esm2017")})();const oA={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},N5=["apiKey","authDomain","projectId","appId"],rg=N5.filter(t=>!oA[t]),C5={apiKey:"VITE_FIREBASE_API_KEY",authDomain:"VITE_FIREBASE_AUTH_DOMAIN",projectId:"VITE_FIREBASE_PROJECT_ID",appId:"VITE_FIREBASE_APP_ID"},kc=rg.length===0,iw=rg.length>0?`Firebase is not configured. Missing environment variables: ${rg.map(t=>C5[t]).join(", ")}. Please see .env.example for setup instructions.`:null;let Sp=null,Sc=null,ht=null;kc&&(Sp=tk(oA),Sc=SO(Sp),ht=d5(Sp));const lA=U.createContext();function Ml(){return U.useContext(lA)}function R5({children:t}){const[e,r]=U.useState(null),[n,s]=U.useState(!0);async function i(c){if(!kc)throw new Error(iw);try{return await uD(Sc,Ev),await cD(Sc,"supervisor@clinical.com",c)}catch(f){throw f}}async function a(){if(kc)return pD(Sc)}U.useEffect(()=>{if(!kc){s(!1);return}const c=setTimeout(()=>{console.warn("Auth state change timed out"),s(!1)},1e4),f=dD(Sc,d=>{clearTimeout(c),r(d),s(!1)});return()=>{clearTimeout(c),f()}},[]);const l={currentUser:e,loginAsSupervisor:i,logout:a,isSupervisor:(e==null?void 0:e.email)==="supervisor@clinical.com",isFirebaseConfigured:kc,firebaseConfigError:iw};return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):h.jsx(lA.Provider,{value:l,children:t})}const cA=U.createContext();function P5({children:t}){const[e,r]=U.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});U.useEffect(()=>{const s=document.documentElement;e==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",e)},[e]),U.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),i=a=>{localStorage.getItem("theme")||r(a.matches?"dark":"light")};return s.addEventListener("change",i),()=>s.removeEventListener("change",i)},[]);const n=()=>{r(s=>s==="light"?"dark":"light")};return h.jsx(cA.Provider,{value:{theme:e,toggleTheme:n},children:t})}function D5(){const t=U.useContext(cA);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uA=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},l)=>U.createElement("svg",{ref:l,...F5,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:uA("lucide",s),...o},[...a.map(([c,f])=>U.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const r=U.forwardRef(({className:n,...s},i)=>U.createElement(j5,{ref:i,iconNode:e,className:uA(`lucide-${O5(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=ze("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=ze("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=ze("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=ze("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=ze("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=ze("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=ze("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=ze("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function dx(){const{theme:t,toggleTheme:e}=D5();return h.jsxs("button",{onClick:e,className:"relative p-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all duration-250 shadow-soft hover:shadow-soft-md group","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,title:`Switch to ${t==="light"?"dark":"light"} mode`,children:[h.jsx(q5,{className:`w-5 h-5 text-yellow-500 transition-all duration-300 ${t==="light"?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-90 scale-0 absolute"}`}),h.jsx(W5,{className:`w-5 h-5 text-thr-blue-400 transition-all duration-300 ${t==="dark"?"opacity-100 rotate-0 scale-100 drop-shadow-[0_0_8px_rgba(0,118,189,0.5)]":"opacity-0 -rotate-90 scale-0 absolute"}`})]})}const J5=!1;class ej{constructor(){this.enabled=J5}error(e,...r){this.enabled&&console.error(`[ERROR] ${e}`,...r)}warn(e,...r){this.enabled&&console.warn(`[WARN] ${e}`,...r)}info(e,...r){this.enabled&&console.info(`[INFO] ${e}`,...r)}debug(e,...r){this.enabled&&console.debug(`[DEBUG] ${e}`,...r)}firebase(e,r,n=""){this.debug(`Firebase ${e}: ${r}`,n)}api(e,r,n,s){this.debug(`API ${e} ${r} - ${n} (${s}ms)`)}userAction(e,r={}){this.info(`User action: ${e}`,r)}performance(e,r,n="ms"){this.debug(`Performance: ${e} = ${r}${n}`)}}const rt=new ej;function tj(){const[t,e]=U.useState(""),[r,n]=U.useState(""),[s,i]=U.useState(!1),{loginAsSupervisor:a,isFirebaseConfigured:o,firebaseConfigError:l}=Ml(),c=Gd();async function f(d){d.preventDefault(),n(""),i(!0);try{await a(t),c("/supervisor")}catch(p){if(rt.error("Login error:",p),!o){n(l||"Firebase is not configured. Please check your environment settings."),i(!1);return}const m=p==null?void 0:p.code;n(m==="auth/wrong-password"||m==="auth/invalid-login-credentials"?"Invalid password. Please try again.":"Unable to log in. Please try again or contact an administrator.")}finally{i(!1)}}return h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-thr-blue-500 to-thr-green-500 dark:from-thr-blue-800 dark:to-thr-green-800 px-4",children:[h.jsx("div",{className:"absolute top-4 right-4",children:h.jsx(dx,{})}),h.jsxs("div",{className:"max-w-md w-full",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white dark:bg-gray-800 rounded-full mb-4",children:h.jsx(pA,{className:"w-8 h-8 text-thr-blue-500 dark:text-thr-blue-400"})}),h.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Clinical Review Scheduler"}),h.jsx("p",{className:"text-thr-blue-100 dark:text-thr-blue-200",children:"Supervisor Login"})]}),h.jsxs("div",{className:"card bg-white dark:bg-gray-800 border dark:border-gray-700",children:[h.jsxs("form",{onSubmit:f,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"label dark:text-gray-200",children:"Password"}),h.jsx("input",{id:"password",type:"password",value:t,onChange:d=>e(d.target.value),className:"input-field dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 focus:ring-2 focus:ring-thr-blue-500 dark:focus:ring-thr-blue-400",placeholder:"Enter supervisor password",required:!0,autoFocus:!0,"aria-required":"true"})]}),r&&h.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300",role:"alert","aria-live":"assertive",children:[h.jsx(Vl,{className:"w-5 h-5 flex-shrink-0","aria-hidden":"true"}),h.jsx("p",{className:"text-sm",children:r})]}),h.jsx("button",{type:"submit",disabled:s,className:"btn-primary w-full dark:bg-thr-blue-600 dark:hover:bg-thr-blue-700 focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 dark:focus:ring-offset-gray-800",children:s?"Logging in...":"Login as Supervisor"})]}),h.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:h.jsx("button",{onClick:()=>c("/schedule"),className:"btn-outline w-full dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 dark:focus:ring-offset-gray-800",children:"View Published Schedule (No Login Required)"})})]}),h.jsx("div",{className:"mt-6 text-center text-white dark:text-gray-300 text-sm",children:h.jsx("p",{children:"Healthcare Professional Scheduling System"})})]})]})}let rj={data:""},nj=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||rj},sj=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ij=/\/\*[^]*?\*\/|  +/g,lw=/\n+/g,Ri=(t,e)=>{let r="",n="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?Ri(a,i):i+"{"+Ri(a,i[1]=="k"?"":e)+"}":typeof a=="object"?n+=Ri(a,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ri.p?Ri.p(i,a):i+":"+a+";")}return r+(e&&s?e+"{"+s+"}":s)+n},js={},yA=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+yA(t[r]);return e}return t},aj=(t,e,r,n,s)=>{let i=yA(t),a=js[i]||(js[i]=(l=>{let c=0,f=11;for(;c<l.length;)f=101*f+l.charCodeAt(c++)>>>0;return"go"+f})(i));if(!js[a]){let l=i!==t?t:(c=>{let f,d,p=[{}];for(;f=sj.exec(c.replace(ij,""));)f[4]?p.shift():f[3]?(d=f[3].replace(lw," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][f[1]]=f[2].replace(lw," ").trim();return p[0]})(t);js[a]=Ri(s?{["@keyframes "+a]:l}:l,r?"":"."+a)}let o=r&&js.g?js.g:null;return r&&(js.g=js[a]),((l,c,f,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=f?l+c.data:c.data+l)})(js[a],e,n,o),a},oj=(t,e,r)=>t.reduce((n,s,i)=>{let a=e[i];if(a&&a.call){let o=a(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Ri(o,""):o===!1?"":o}return n+s+(a??"")},"");function x0(t){let e=this||{},r=t.call?t(e.p):t;return aj(r.unshift?r.raw?oj(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,nj(e.target),e.g,e.o,e.k)}let _A,ng,sg;x0.bind({g:1});let ii=x0.bind({k:1});function lj(t,e,r,n){Ri.p=e,_A=t,ng=r,sg=n}function da(t,e){let r=this||{};return function(){let n=arguments;function s(i,a){let o=Object.assign({},i),l=o.className||s.className;r.p=Object.assign({theme:ng&&ng()},o),r.o=/ *go\d+/.test(l),o.className=x0.apply(r,n)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),sg&&c[0]&&sg(o),_A(c,o)}return s}}var cj=t=>typeof t=="function",cd=(t,e)=>cj(t)?t(e):t,uj=(()=>{let t=0;return()=>(++t).toString()})(),wA=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),hj=20,px="default",EA=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return EA(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Ef=[],TA={toasts:[],pausedAt:void 0,settings:{toastLimit:hj}},Ts={},kA=(t,e=px)=>{Ts[e]=EA(Ts[e]||TA,t),Ef.forEach(([r,n])=>{r===e&&n(Ts[e])})},SA=t=>Object.keys(Ts).forEach(e=>kA(t,e)),fj=t=>Object.keys(Ts).find(e=>Ts[e].toasts.some(r=>r.id===t)),y0=(t=px)=>e=>{kA(e,t)},dj={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pj=(t={},e=px)=>{let[r,n]=U.useState(Ts[e]||TA),s=U.useRef(Ts[e]);U.useEffect(()=>(s.current!==Ts[e]&&n(Ts[e]),Ef.push([e,n]),()=>{let a=Ef.findIndex(([o])=>o===e);a>-1&&Ef.splice(a,1)}),[e]);let i=r.toasts.map(a=>{var o,l,c;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||dj[a.type],style:{...t.style,...(c=t[a.type])==null?void 0:c.style,...a.style}}});return{...r,toasts:i}},mj=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||uj()}),Ju=t=>(e,r)=>{let n=mj(e,t,r);return y0(n.toasterId||fj(n.id))({type:2,toast:n}),n.id},or=(t,e)=>Ju("blank")(t,e);or.error=Ju("error");or.success=Ju("success");or.loading=Ju("loading");or.custom=Ju("custom");or.dismiss=(t,e)=>{let r={type:3,toastId:t};e?y0(e)(r):SA(r)};or.dismissAll=t=>or.dismiss(void 0,t);or.remove=(t,e)=>{let r={type:4,toastId:t};e?y0(e)(r):SA(r)};or.removeAll=t=>or.remove(void 0,t);or.promise=(t,e,r)=>{let n=or.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?cd(e.success,s):void 0;return i?or.success(i,{id:n,...r,...r==null?void 0:r.success}):or.dismiss(n),s}).catch(s=>{let i=e.error?cd(e.error,s):void 0;i?or.error(i,{id:n,...r,...r==null?void 0:r.error}):or.dismiss(n)}),t};var gj=1e3,vj=(t,e="default")=>{let{toasts:r,pausedAt:n}=pj(t,e),s=U.useRef(new Map).current,i=U.useCallback((d,p=gj)=>{if(s.has(d))return;let m=setTimeout(()=>{s.delete(d),a({type:4,toastId:d})},p);s.set(d,m)},[]);U.useEffect(()=>{if(n)return;let d=Date.now(),p=r.map(m=>{if(m.duration===1/0)return;let x=(m.duration||0)+m.pauseDuration-(d-m.createdAt);if(x<0){m.visible&&or.dismiss(m.id);return}return setTimeout(()=>or.dismiss(m.id,e),x)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[r,n,e]);let a=U.useCallback(y0(e),[e]),o=U.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=U.useCallback((d,p)=>{a({type:1,toast:{id:d,height:p}})},[a]),c=U.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),f=U.useCallback((d,p)=>{let{reverseOrder:m=!1,gutter:x=8,defaultPosition:g}=p||{},y=r.filter(w=>(w.position||g)===(d.position||g)&&w.height),E=y.findIndex(w=>w.id===d.id),_=y.filter((w,b)=>b<E&&w.visible).length;return y.filter(w=>w.visible).slice(...m?[_+1]:[0,_]).reduce((w,b)=>w+(b.height||0)+x,0)},[r]);return U.useEffect(()=>{r.forEach(d=>{if(d.dismissed)i(d.id,d.removeDelay);else{let p=s.get(d.id);p&&(clearTimeout(p),s.delete(d.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:l,startPause:o,endPause:c,calculateOffset:f}}},xj=ii`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yj=ii`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_j=ii`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,wj=da("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yj} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_j} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ej=ii`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Tj=da("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Ej} 1s linear infinite;
`,kj=ii`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Sj=ii`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Aj=da("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Sj} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ij=da("div")`
  position: absolute;
`,bj=da("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Nj=ii`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Cj=da("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Nj} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Rj=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?U.createElement(Cj,null,e):e:r==="blank"?null:U.createElement(bj,null,U.createElement(Tj,{...n}),r!=="loading"&&U.createElement(Ij,null,r==="error"?U.createElement(wj,{...n}):U.createElement(Aj,{...n})))},Pj=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Dj=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Oj="0%{opacity:0;} 100%{opacity:1;}",Fj="0%{opacity:1;} 100%{opacity:0;}",jj=da("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Lj=da("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Mj=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=wA()?[Oj,Fj]:[Pj(r),Dj(r)];return{animation:e?`${ii(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ii(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Vj=U.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?Mj(t.position||e||"top-center",t.visible):{opacity:0},i=U.createElement(Rj,{toast:t}),a=U.createElement(Lj,{...t.ariaProps},cd(t.message,t));return U.createElement(jj,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:a}):U.createElement(U.Fragment,null,i,a))});lj(U.createElement);var Uj=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=U.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;n(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return U.createElement("div",{ref:i,className:e,style:r},s)},Bj=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:wA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},$j=x0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vh=16,zj=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=vj(r,i);return U.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Vh,left:Vh,right:Vh,bottom:Vh,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(f=>{let d=f.position||e,p=c.calculateOffset(f,{reverseOrder:t,gutter:n,defaultPosition:e}),m=Bj(d,p);return U.createElement(Uj,{id:f.id,key:f.id,onHeightUpdate:c.updateHeight,className:f.visible?$j:"",style:m},f.type==="custom"?cd(f.message,f):s?s(f):U.createElement(Vj,{toast:f,position:d}))}))},wn=or;function mx(){return{showSuccess:c=>{wn.success(c,{icon:""})},showError:c=>{wn.error(c,{icon:""})},showWarning:c=>{wn(c,{icon:"",style:{background:"#fef3c7",color:"#92400e",border:"1px solid #f59e0b"},iconTheme:{primary:"#f59e0b",secondary:"#fff"}})},showInfo:c=>{wn(c,{icon:"",style:{background:"#e6f0ff",color:"#003d7a",border:"1px solid #0066cc"},iconTheme:{primary:"#0066cc",secondary:"#fff"}})},showLoading:c=>wn.loading(c),showConfirm:(c,f={})=>{const{confirmText:d="Confirm",cancelText:p="Cancel"}=f;return new Promise(m=>{wn(x=>h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"flex-shrink-0 text-yellow-500 mt-0.5",children:h.jsx(Qu,{className:"w-5 h-5"})}),h.jsx("div",{className:"flex-1",children:h.jsx("p",{className:"text-sm font-medium text-gray-900",children:c})})]}),h.jsxs("div",{className:"flex gap-2 justify-end",children:[h.jsx("button",{onClick:()=>{wn.dismiss(x.id),m(!1)},className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50 transition-colors",children:p}),h.jsx("button",{onClick:()=>{wn.dismiss(x.id),m(!0)},className:"px-3 py-1.5 text-sm font-medium text-white bg-thr-blue-500 rounded hover:bg-thr-blue-600 transition-colors",children:d})]})]}),{duration:1/0,style:{background:"#fef3c7",color:"#92400e",border:"1px solid #f59e0b",maxWidth:"500px"}})})},dismiss:c=>{wn.dismiss(c)},dismissAll:()=>{wn.dismiss()},update:(c,f)=>{wn.dismiss(c),f.type==="success"?wn.success(f.message):f.type==="error"&&wn.error(f.message)}}}function ne(t,e,r){function n(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:a,traits:new Set},enumerable:!1}),o._zod.traits.has(t))return;o._zod.traits.add(t),e(o,l);const c=a.prototype,f=Object.keys(c);for(let d=0;d<f.length;d++){const p=f[d];p in o||(o[p]=c[p].bind(o))}}const s=(r==null?void 0:r.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function a(o){var l;const c=r!=null&&r.Parent?new i:this;n(c,o),(l=c._zod).deferred??(l.deferred=[]);for(const f of c._zod.deferred)f();return c}return Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>{var l,c;return r!=null&&r.Parent&&o instanceof r.Parent?!0:(c=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:c.has(t)}}),Object.defineProperty(a,"name",{value:t}),a}class el extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class AA extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const IA={};function ra(t){return IA}function Wj(t){const e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,s])=>e.indexOf(+n)===-1).map(([n,s])=>s)}function ig(t,e){return typeof e=="bigint"?e.toString():e}function gx(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function vx(t){return t==null}function xx(t){const e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function Hj(t,e){const r=(t.toString().split(".")[1]||"").length,n=e.toString();let s=(n.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(n)){const l=n.match(/\d?e-(\d?)/);l!=null&&l[1]&&(s=Number.parseInt(l[1]))}const i=r>s?r:s,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}const cw=Symbol("evaluating");function Tt(t,e,r){let n;Object.defineProperty(t,e,{get(){if(n!==cw)return n===void 0&&(n=cw,n=r()),n},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function so(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function io(...t){const e={};for(const r of t){const n=Object.getOwnPropertyDescriptors(r);Object.assign(e,n)}return Object.defineProperties({},e)}function uw(t){return JSON.stringify(t)}function Gj(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const bA="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function ud(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const qj=gx(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Tl(t){if(ud(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const r=e.prototype;return!(ud(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function NA(t){return Tl(t)?{...t}:Array.isArray(t)?[...t]:t}const Kj=new Set(["string","number","symbol"]);function kl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pa(t,e,r){const n=new t._zod.constr(e??t._zod.def);return(!e||r!=null&&r.parent)&&(n._zod.parent=t),n}function Oe(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Zj(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Xj={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Yj(t,e){const r=t._zod.def,n=io(t._zod.def,{get shape(){const s={};for(const i in e){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=r.shape[i])}return so(this,"shape",s),s},checks:[]});return pa(t,n)}function Qj(t,e){const r=t._zod.def,n=io(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const i in e){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return so(this,"shape",s),s},checks:[]});return pa(t,n)}function Jj(t,e){if(!Tl(e))throw new Error("Invalid input to extend: expected a plain object");const r=t._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=io(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return so(this,"shape",i),i},checks:[]});return pa(t,s)}function eL(t,e){if(!Tl(e))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...t._zod.def,get shape(){const n={...t._zod.def.shape,...e};return so(this,"shape",n),n},checks:t._zod.def.checks};return pa(t,r)}function tL(t,e){const r=io(t._zod.def,{get shape(){const n={...t._zod.def.shape,...e._zod.def.shape};return so(this,"shape",n),n},get catchall(){return e._zod.def.catchall},checks:[]});return pa(t,r)}function rL(t,e,r){const n=io(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(r)for(const a in r){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(i[a]=t?new t({type:"optional",innerType:s[a]}):s[a])}else for(const a in s)i[a]=t?new t({type:"optional",innerType:s[a]}):s[a];return so(this,"shape",i),i},checks:[]});return pa(e,n)}function nL(t,e,r){const n=io(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(r)for(const a in r){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(i[a]=new t({type:"nonoptional",innerType:s[a]}))}else for(const a in s)i[a]=new t({type:"nonoptional",innerType:s[a]});return so(this,"shape",i),i},checks:[]});return pa(e,n)}function Uo(t,e=0){var r;if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(((r=t.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function Bo(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function Uh(t){return typeof t=="string"?t:t==null?void 0:t.message}function na(t,e,r){var s,i,a,o,l,c;const n={...t,path:t.path??[]};if(!t.message){const f=Uh((a=(i=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:a.call(i,t))??Uh((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??Uh((l=r.customError)==null?void 0:l.call(r,t))??Uh((c=r.localeError)==null?void 0:c.call(r,t))??"Invalid input";n.message=f}return delete n.inst,delete n.continue,e!=null&&e.reportInput||delete n.input,n}function yx(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Su(...t){const[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}const CA=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,ig,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},RA=ne("$ZodError",CA),PA=ne("$ZodError",CA,{Parent:Error});function sL(t,e=r=>r.message){const r={},n=[];for(const s of t.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}function iL(t,e=r=>r.message){const r={_errors:[]},n=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>n({issues:a}));else if(i.code==="invalid_key")n({issues:i.issues});else if(i.code==="invalid_element")n({issues:i.issues});else if(i.path.length===0)r._errors.push(e(i));else{let a=r,o=0;for(;o<i.path.length;){const l=i.path[o];o===i.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(e(i))):a[l]=a[l]||{_errors:[]},a=a[l],o++}}};return n(t),r}const _x=t=>(e,r,n,s)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},a=e._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new el;if(a.issues.length){const o=new((s==null?void 0:s.Err)??t)(a.issues.map(l=>na(l,i,ra())));throw bA(o,s==null?void 0:s.callee),o}return a.value},wx=t=>async(e,r,n,s)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let a=e._zod.run({value:r,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new((s==null?void 0:s.Err)??t)(a.issues.map(l=>na(l,i,ra())));throw bA(o,s==null?void 0:s.callee),o}return a.value},_0=t=>(e,r,n)=>{const s=n?{...n,async:!1}:{async:!1},i=e._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new el;return i.issues.length?{success:!1,error:new(t??RA)(i.issues.map(a=>na(a,s,ra())))}:{success:!0,data:i.value}},aL=_0(PA),w0=t=>async(e,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=e._zod.run({value:r,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(a=>na(a,s,ra())))}:{success:!0,data:i.value}},oL=w0(PA),lL=t=>(e,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return _x(t)(e,r,s)},cL=t=>(e,r,n)=>_x(t)(e,r,n),uL=t=>async(e,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return wx(t)(e,r,s)},hL=t=>async(e,r,n)=>wx(t)(e,r,n),fL=t=>(e,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return _0(t)(e,r,s)},dL=t=>(e,r,n)=>_0(t)(e,r,n),pL=t=>async(e,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return w0(t)(e,r,s)},mL=t=>async(e,r,n)=>w0(t)(e,r,n),gL=/^[cC][^\s-]{8,}$/,vL=/^[0-9a-z]+$/,xL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,yL=/^[0-9a-vA-V]{20}$/,_L=/^[A-Za-z0-9]{27}$/,wL=/^[a-zA-Z0-9_-]{21}$/,EL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,TL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,hw=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,kL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,SL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function AL(){return new RegExp(SL,"u")}const IL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,NL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,CL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RL=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,DA=/^[A-Za-z0-9_-]*$/,PL=/^\+(?:[0-9]){6,14}[0-9]$/,OA="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",DL=new RegExp(`^${OA}$`);function FA(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function OL(t){return new RegExp(`^${FA(t)}$`)}function FL(t){const e=FA({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${e}(?:${r.join("|")})`;return new RegExp(`^${OA}T(?:${n})$`)}const jL=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},LL=/^-?\d+$/,ML=/^-?\d+(?:\.\d+)?/,VL=/^(?:true|false)$/i,UL=/^[^A-Z]*$/,BL=/^[^a-z]*$/,vn=ne("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),jA={number:"number",bigint:"bigint",object:"date"},LA=ne("$ZodCheckLessThan",(t,e)=>{vn.init(t,e);const r=jA[typeof e.value];t._zod.onattach.push(n=>{const s=n._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),MA=ne("$ZodCheckGreaterThan",(t,e)=>{vn.init(t,e);const r=jA[typeof e.value];t._zod.onattach.push(n=>{const s=n._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),$L=ne("$ZodCheckMultipleOf",(t,e)=>{vn.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):Hj(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),zL=ne("$ZodCheckNumberFormat",(t,e)=>{var a;vn.init(t,e),e.format=e.format||"float64";const r=(a=e.format)==null?void 0:a.includes("int"),n=r?"int":"number",[s,i]=Xj[e.format];t._zod.onattach.push(o=>{const l=o._zod.bag;l.format=e.format,l.minimum=s,l.maximum=i,r&&(l.pattern=LL)}),t._zod.check=o=>{const l=o.value;if(r){if(!Number.isInteger(l)){o.issues.push({expected:n,format:e.format,code:"invalid_type",continue:!1,input:l,inst:t});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort});return}}l<s&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),l>i&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:i,inst:t})}}),WL=ne("$ZodCheckMaxLength",(t,e)=>{var r;vn.init(t,e),(r=t._zod.def).when??(r.when=n=>{const s=n.value;return!vx(s)&&s.length!==void 0}),t._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{const s=n.value;if(s.length<=e.maximum)return;const a=yx(s);n.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),HL=ne("$ZodCheckMinLength",(t,e)=>{var r;vn.init(t,e),(r=t._zod.def).when??(r.when=n=>{const s=n.value;return!vx(s)&&s.length!==void 0}),t._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{const s=n.value;if(s.length>=e.minimum)return;const a=yx(s);n.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),GL=ne("$ZodCheckLengthEquals",(t,e)=>{var r;vn.init(t,e),(r=t._zod.def).when??(r.when=n=>{const s=n.value;return!vx(s)&&s.length!==void 0}),t._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=n=>{const s=n.value,i=s.length;if(i===e.length)return;const a=yx(s),o=i>e.length;n.issues.push({origin:a,...o?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),E0=ne("$ZodCheckStringFormat",(t,e)=>{var r,n;vn.init(t,e),t._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),qL=ne("$ZodCheckRegex",(t,e)=>{E0.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),KL=ne("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=UL),E0.init(t,e)}),ZL=ne("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=BL),E0.init(t,e)}),XL=ne("$ZodCheckIncludes",(t,e)=>{vn.init(t,e);const r=kl(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),YL=ne("$ZodCheckStartsWith",(t,e)=>{vn.init(t,e);const r=new RegExp(`^${kl(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),QL=ne("$ZodCheckEndsWith",(t,e)=>{vn.init(t,e);const r=new RegExp(`.*${kl(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}}),JL=ne("$ZodCheckOverwrite",(t,e)=>{vn.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});class eM{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const n=e.split(`
`).filter(a=>a),s=Math.min(...n.map(a=>a.length-a.trimStart().length)),i=n.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const e=Function,r=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new e(...r,s.join(`
`))}}const tM={major:4,minor:1,patch:13},Pt=ne("$ZodType",(t,e)=>{var s;var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=tM;const n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(const i of n)for(const a of i._zod.onattach)a(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),(s=t._zod.deferred)==null||s.push(()=>{t._zod.run=t._zod.parse});else{const i=(o,l,c)=>{let f=Uo(o),d;for(const p of l){if(p._zod.def.when){if(!p._zod.def.when(o))continue}else if(f)continue;const m=o.issues.length,x=p._zod.check(o);if(x instanceof Promise&&(c==null?void 0:c.async)===!1)throw new el;if(d||x instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await x,o.issues.length!==m&&(f||(f=Uo(o,m)))});else{if(o.issues.length===m)continue;f||(f=Uo(o,m))}}return d?d.then(()=>o):o},a=(o,l,c)=>{if(Uo(o))return o.aborted=!0,o;const f=i(l,n,c);if(f instanceof Promise){if(c.async===!1)throw new el;return f.then(d=>t._zod.parse(d,c))}return t._zod.parse(f,c)};t._zod.run=(o,l)=>{if(l.skipChecks)return t._zod.parse(o,l);if(l.direction==="backward"){const f=t._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return f instanceof Promise?f.then(d=>a(d,o,l)):a(f,o,l)}const c=t._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new el;return c.then(f=>i(f,n,l))}return i(c,n,l)}}t["~standard"]={validate:i=>{var a;try{const o=aL(t,i);return o.success?{value:o.data}:{issues:(a=o.error)==null?void 0:a.issues}}catch{return oL(t,i).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),Ex=ne("$ZodString",(t,e)=>{var r;Pt.init(t,e),t._zod.pattern=[...((r=t==null?void 0:t._zod.bag)==null?void 0:r.patterns)??[]].pop()??jL(t._zod.bag),t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Dt=ne("$ZodStringFormat",(t,e)=>{E0.init(t,e),Ex.init(t,e)}),rM=ne("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=TL),Dt.init(t,e)}),nM=ne("$ZodUUID",(t,e)=>{if(e.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=hw(n))}else e.pattern??(e.pattern=hw());Dt.init(t,e)}),sM=ne("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=kL),Dt.init(t,e)}),iM=ne("$ZodURL",(t,e)=>{Dt.init(t,e),t._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),e.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),aM=ne("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=AL()),Dt.init(t,e)}),oM=ne("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=wL),Dt.init(t,e)}),lM=ne("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=gL),Dt.init(t,e)}),cM=ne("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=vL),Dt.init(t,e)}),uM=ne("$ZodULID",(t,e)=>{e.pattern??(e.pattern=xL),Dt.init(t,e)}),hM=ne("$ZodXID",(t,e)=>{e.pattern??(e.pattern=yL),Dt.init(t,e)}),fM=ne("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=_L),Dt.init(t,e)}),dM=ne("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=FL(e)),Dt.init(t,e)}),pM=ne("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=DL),Dt.init(t,e)}),mM=ne("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=OL(e)),Dt.init(t,e)}),gM=ne("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=EL),Dt.init(t,e)}),vM=ne("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=IL),Dt.init(t,e),t._zod.bag.format="ipv4"}),xM=ne("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=bL),Dt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),yM=ne("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=NL),Dt.init(t,e)}),_M=ne("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=CL),Dt.init(t,e),t._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[s,i]=n;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function VA(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const wM=ne("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=RL),Dt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=r=>{VA(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function EM(t){if(!DA.test(t))return!1;const e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return VA(r)}const TM=ne("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=DA),Dt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=r=>{EM(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),kM=ne("$ZodE164",(t,e)=>{e.pattern??(e.pattern=PL),Dt.init(t,e)});function SM(t,e=null){try{const r=t.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const AM=ne("$ZodJWT",(t,e)=>{Dt.init(t,e),t._zod.check=r=>{SM(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),UA=ne("$ZodNumber",(t,e)=>{Pt.init(t,e),t._zod.pattern=t._zod.bag.pattern??ML,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...i?{received:i}:{}}),r}}),IM=ne("$ZodNumberFormat",(t,e)=>{zL.init(t,e),UA.init(t,e)}),bM=ne("$ZodBoolean",(t,e)=>{Pt.init(t,e),t._zod.pattern=VL,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:t}),r}}),NM=ne("$ZodAny",(t,e)=>{Pt.init(t,e),t._zod.parse=r=>r}),CM=ne("$ZodUnknown",(t,e)=>{Pt.init(t,e),t._zod.parse=r=>r}),RM=ne("$ZodNever",(t,e)=>{Pt.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function fw(t,e,r){t.issues.length&&e.issues.push(...Bo(r,t.issues)),e.value[r]=t.value}const PM=ne("$ZodArray",(t,e)=>{Pt.init(t,e),t._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),r;r.value=Array(s.length);const i=[];for(let a=0;a<s.length;a++){const o=s[a],l=e.element._zod.run({value:o,issues:[]},n);l instanceof Promise?i.push(l.then(c=>fw(c,r,a))):fw(l,r,a)}return i.length?Promise.all(i).then(()=>r):r}});function hd(t,e,r,n){t.issues.length&&e.issues.push(...Bo(r,t.issues)),t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}function BA(t){var n,s,i,a;const e=Object.keys(t.shape);for(const o of e)if(!((a=(i=(s=(n=t.shape)==null?void 0:n[o])==null?void 0:s._zod)==null?void 0:i.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const r=Zj(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}}function $A(t,e,r,n,s,i){const a=[],o=s.keySet,l=s.catchall._zod,c=l.def.type;for(const f in e){if(o.has(f))continue;if(c==="never"){a.push(f);continue}const d=l.run({value:e[f],issues:[]},n);d instanceof Promise?t.push(d.then(p=>hd(p,r,f,e))):hd(d,r,f,e)}return a.length&&r.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:i}),t.length?Promise.all(t).then(()=>r):r}const DM=ne("$ZodObject",(t,e)=>{Pt.init(t,e);const r=Object.getOwnPropertyDescriptor(e,"shape");if(!(r!=null&&r.get)){const o=e.shape;Object.defineProperty(e,"shape",{get:()=>{const l={...o};return Object.defineProperty(e,"shape",{value:l}),l}})}const n=gx(()=>BA(e));Tt(t._zod,"propValues",()=>{const o=e.shape,l={};for(const c in o){const f=o[c]._zod;if(f.values){l[c]??(l[c]=new Set);for(const d of f.values)l[c].add(d)}}return l});const s=ud,i=e.catchall;let a;t._zod.parse=(o,l)=>{a??(a=n.value);const c=o.value;if(!s(c))return o.issues.push({expected:"object",code:"invalid_type",input:c,inst:t}),o;o.value={};const f=[],d=a.shape;for(const p of a.keys){const x=d[p]._zod.run({value:c[p],issues:[]},l);x instanceof Promise?f.push(x.then(g=>hd(g,o,p,c))):hd(x,o,p,c)}return i?$A(f,c,o,l,n.value,t):f.length?Promise.all(f).then(()=>o):o}}),OM=ne("$ZodObjectJIT",(t,e)=>{DM.init(t,e);const r=t._zod.parse,n=gx(()=>BA(e)),s=p=>{const m=new eM(["shape","payload","ctx"]),x=n.value,g=w=>{const b=uw(w);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};m.write("const input = payload.value;");const y=Object.create(null);let E=0;for(const w of x.keys)y[w]=`key_${E++}`;m.write("const newResult = {};");for(const w of x.keys){const b=y[w],B=uw(w);m.write(`const ${b} = ${g(w)};`),m.write(`
        if (${b}.issues.length) {
          payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${B}, ...iss.path] : [${B}]
          })));
        }
        
        
        if (${b}.value === undefined) {
          if (${B} in input) {
            newResult[${B}] = undefined;
          }
        } else {
          newResult[${B}] = ${b}.value;
        }
        
      `)}m.write("payload.value = newResult;"),m.write("return payload;");const _=m.compile();return(w,b)=>_(p,w,b)};let i;const a=ud,o=!IA.jitless,c=o&&qj.value,f=e.catchall;let d;t._zod.parse=(p,m)=>{d??(d=n.value);const x=p.value;return a(x)?o&&c&&(m==null?void 0:m.async)===!1&&m.jitless!==!0?(i||(i=s(e.shape)),p=i(p,m),f?$A([],x,p,m,d,t):p):r(p,m):(p.issues.push({expected:"object",code:"invalid_type",input:x,inst:t}),p)}});function dw(t,e,r,n){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const s=t.filter(i=>!Uo(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(i=>i.issues.map(a=>na(a,n,ra())))}),e)}const FM=ne("$ZodUnion",(t,e)=>{Pt.init(t,e),Tt(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Tt(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Tt(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Tt(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>xx(i.source)).join("|")})$`)}});const r=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(s,i)=>{if(r)return n(s,i);let a=!1;const o=[];for(const l of e.options){const c=l._zod.run({value:s.value,issues:[]},i);if(c instanceof Promise)o.push(c),a=!0;else{if(c.issues.length===0)return c;o.push(c)}}return a?Promise.all(o).then(l=>dw(l,s,t,i)):dw(o,s,t,i)}}),jM=ne("$ZodIntersection",(t,e)=>{Pt.init(t,e),t._zod.parse=(r,n)=>{const s=r.value,i=e.left._zod.run({value:s,issues:[]},n),a=e.right._zod.run({value:s,issues:[]},n);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([l,c])=>pw(r,l,c)):pw(r,i,a)}});function ag(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Tl(t)&&Tl(e)){const r=Object.keys(e),n=Object.keys(t).filter(i=>r.indexOf(i)!==-1),s={...t,...e};for(const i of n){const a=ag(t[i],e[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};s[i]=a.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<t.length;n++){const s=t[n],i=e[n],a=ag(s,i);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function pw(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),Uo(t))return t;const n=ag(e.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return t.value=n.data,t}const LM=ne("$ZodRecord",(t,e)=>{Pt.init(t,e),t._zod.parse=(r,n)=>{const s=r.value;if(!Tl(s))return r.issues.push({expected:"record",code:"invalid_type",input:s,inst:t}),r;const i=[],a=e.keyType._zod.values;if(a){r.value={};const o=new Set;for(const c of a)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){o.add(typeof c=="number"?c.toString():c);const f=e.valueType._zod.run({value:s[c],issues:[]},n);f instanceof Promise?i.push(f.then(d=>{d.issues.length&&r.issues.push(...Bo(c,d.issues)),r.value[c]=d.value})):(f.issues.length&&r.issues.push(...Bo(c,f.issues)),r.value[c]=f.value)}let l;for(const c in s)o.has(c)||(l=l??[],l.push(c));l&&l.length>0&&r.issues.push({code:"unrecognized_keys",input:s,inst:t,keys:l})}else{r.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;const l=e.keyType._zod.run({value:o,issues:[]},n);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(l.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(f=>na(f,n,ra())),input:o,path:[o],inst:t}),r.value[l.value]=l.value;continue}const c=e.valueType._zod.run({value:s[o],issues:[]},n);c instanceof Promise?i.push(c.then(f=>{f.issues.length&&r.issues.push(...Bo(o,f.issues)),r.value[l.value]=f.value})):(c.issues.length&&r.issues.push(...Bo(o,c.issues)),r.value[l.value]=c.value)}}return i.length?Promise.all(i).then(()=>r):r}}),MM=ne("$ZodEnum",(t,e)=>{Pt.init(t,e);const r=Wj(e.entries),n=new Set(r);t._zod.values=n,t._zod.pattern=new RegExp(`^(${r.filter(s=>Kj.has(typeof s)).map(s=>typeof s=="string"?kl(s):s.toString()).join("|")})$`),t._zod.parse=(s,i)=>{const a=s.value;return n.has(a)||s.issues.push({code:"invalid_value",values:r,input:a,inst:t}),s}}),VM=ne("$ZodLiteral",(t,e)=>{if(Pt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(e.values);t._zod.values=r,t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?kl(n):n?kl(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,s)=>{const i=n.value;return r.has(i)||n.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),n}}),UM=ne("$ZodTransform",(t,e)=>{Pt.init(t,e),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new AA(t.constructor.name);const s=e.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(r.value=a,r));if(s instanceof Promise)throw new el;return r.value=s,r}});function mw(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const BM=ne("$ZodOptional",(t,e)=>{Pt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Tt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Tt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${xx(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>mw(i,r.value)):mw(s,r.value)}return r.value===void 0?r:e.innerType._zod.run(r,n)}}),$M=ne("$ZodNullable",(t,e)=>{Pt.init(t,e),Tt(t._zod,"optin",()=>e.innerType._zod.optin),Tt(t._zod,"optout",()=>e.innerType._zod.optout),Tt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${xx(r.source)}|null)$`):void 0}),Tt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),zM=ne("$ZodDefault",(t,e)=>{Pt.init(t,e),t._zod.optin="optional",Tt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);if(r.value===void 0)return r.value=e.defaultValue,r;const s=e.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>gw(i,e)):gw(s,e)}});function gw(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const WM=ne("$ZodPrefault",(t,e)=>{Pt.init(t,e),t._zod.optin="optional",Tt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),HM=ne("$ZodNonOptional",(t,e)=>{Pt.init(t,e),Tt(t._zod,"values",()=>{const r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{const s=e.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>vw(i,t)):vw(s,t)}});function vw(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const GM=ne("$ZodCatch",(t,e)=>{Pt.init(t,e),Tt(t._zod,"optin",()=>e.innerType._zod.optin),Tt(t._zod,"optout",()=>e.innerType._zod.optout),Tt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);const s=e.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>(r.value=i.value,i.issues.length&&(r.value=e.catchValue({...r,error:{issues:i.issues.map(a=>na(a,n,ra()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=e.catchValue({...r,error:{issues:s.issues.map(i=>na(i,n,ra()))},input:r.value}),r.issues=[]),r)}}),qM=ne("$ZodPipe",(t,e)=>{Pt.init(t,e),Tt(t._zod,"values",()=>e.in._zod.values),Tt(t._zod,"optin",()=>e.in._zod.optin),Tt(t._zod,"optout",()=>e.out._zod.optout),Tt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{if(n.direction==="backward"){const i=e.out._zod.run(r,n);return i instanceof Promise?i.then(a=>Bh(a,e.in,n)):Bh(i,e.in,n)}const s=e.in._zod.run(r,n);return s instanceof Promise?s.then(i=>Bh(i,e.out,n)):Bh(s,e.out,n)}});function Bh(t,e,r){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},r)}const KM=ne("$ZodReadonly",(t,e)=>{Pt.init(t,e),Tt(t._zod,"propValues",()=>e.innerType._zod.propValues),Tt(t._zod,"values",()=>e.innerType._zod.values),Tt(t._zod,"optin",()=>{var r,n;return(n=(r=e.innerType)==null?void 0:r._zod)==null?void 0:n.optin}),Tt(t._zod,"optout",()=>{var r,n;return(n=(r=e.innerType)==null?void 0:r._zod)==null?void 0:n.optout}),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);const s=e.innerType._zod.run(r,n);return s instanceof Promise?s.then(xw):xw(s)}});function xw(t){return t.value=Object.freeze(t.value),t}const ZM=ne("$ZodCustom",(t,e)=>{vn.init(t,e),Pt.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{const n=r.value,s=e.fn(n);if(s instanceof Promise)return s.then(i=>yw(i,r,n,t));yw(s,r,n,t)}});function yw(t,e,r,n){if(!t){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),e.issues.push(Su(s))}}var _w;class XM{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...r){const n=r[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){const r=e._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function YM(){return new XM}(_w=globalThis).__zod_globalRegistry??(_w.__zod_globalRegistry=YM());const $h=globalThis.__zod_globalRegistry;function QM(t,e){return new t({type:"string",...Oe(e)})}function JM(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Oe(e)})}function ww(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Oe(e)})}function e8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Oe(e)})}function t8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Oe(e)})}function r8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Oe(e)})}function n8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Oe(e)})}function s8(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Oe(e)})}function i8(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Oe(e)})}function a8(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Oe(e)})}function o8(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Oe(e)})}function l8(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Oe(e)})}function c8(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Oe(e)})}function u8(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Oe(e)})}function h8(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Oe(e)})}function f8(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Oe(e)})}function d8(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Oe(e)})}function p8(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Oe(e)})}function m8(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Oe(e)})}function g8(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Oe(e)})}function v8(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Oe(e)})}function x8(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Oe(e)})}function y8(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Oe(e)})}function _8(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Oe(e)})}function w8(t,e){return new t({type:"string",format:"date",check:"string_format",...Oe(e)})}function E8(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Oe(e)})}function T8(t,e){return new t({type:"string",format:"duration",check:"string_format",...Oe(e)})}function k8(t,e){return new t({type:"number",checks:[],...Oe(e)})}function S8(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Oe(e)})}function A8(t,e){return new t({type:"boolean",...Oe(e)})}function I8(t){return new t({type:"any"})}function b8(t){return new t({type:"unknown"})}function N8(t,e){return new t({type:"never",...Oe(e)})}function Ew(t,e){return new LA({check:"less_than",...Oe(e),value:t,inclusive:!1})}function Ip(t,e){return new LA({check:"less_than",...Oe(e),value:t,inclusive:!0})}function Tw(t,e){return new MA({check:"greater_than",...Oe(e),value:t,inclusive:!1})}function bp(t,e){return new MA({check:"greater_than",...Oe(e),value:t,inclusive:!0})}function kw(t,e){return new $L({check:"multiple_of",...Oe(e),value:t})}function zA(t,e){return new WL({check:"max_length",...Oe(e),maximum:t})}function fd(t,e){return new HL({check:"min_length",...Oe(e),minimum:t})}function WA(t,e){return new GL({check:"length_equals",...Oe(e),length:t})}function C8(t,e){return new qL({check:"string_format",format:"regex",...Oe(e),pattern:t})}function R8(t){return new KL({check:"string_format",format:"lowercase",...Oe(t)})}function P8(t){return new ZL({check:"string_format",format:"uppercase",...Oe(t)})}function D8(t,e){return new XL({check:"string_format",format:"includes",...Oe(e),includes:t})}function O8(t,e){return new YL({check:"string_format",format:"starts_with",...Oe(e),prefix:t})}function F8(t,e){return new QL({check:"string_format",format:"ends_with",...Oe(e),suffix:t})}function Ul(t){return new JL({check:"overwrite",tx:t})}function j8(t){return Ul(e=>e.normalize(t))}function L8(){return Ul(t=>t.trim())}function M8(){return Ul(t=>t.toLowerCase())}function V8(){return Ul(t=>t.toUpperCase())}function U8(){return Ul(t=>Gj(t))}function B8(t,e,r){return new t({type:"array",element:e,...Oe(r)})}function $8(t,e,r){return new t({type:"custom",check:"custom",fn:e,...Oe(r)})}function z8(t){const e=W8(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Su(n,r.value,e._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),r.issues.push(Su(s))}},t(r.value,r)));return e}function W8(t,e){const r=new vn({check:"custom",...Oe(e)});return r._zod.check=t,r}const H8=ne("ZodISODateTime",(t,e)=>{dM.init(t,e),Ut.init(t,e)});function G8(t){return _8(H8,t)}const q8=ne("ZodISODate",(t,e)=>{pM.init(t,e),Ut.init(t,e)});function K8(t){return w8(q8,t)}const Z8=ne("ZodISOTime",(t,e)=>{mM.init(t,e),Ut.init(t,e)});function X8(t){return E8(Z8,t)}const Y8=ne("ZodISODuration",(t,e)=>{gM.init(t,e),Ut.init(t,e)});function Q8(t){return T8(Y8,t)}const J8=(t,e)=>{RA.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>iL(t,r)},flatten:{value:r=>sL(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,ig,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,ig,2)}},isEmpty:{get(){return t.issues.length===0}}})},Kn=ne("ZodError",J8,{Parent:Error}),e9=_x(Kn),t9=wx(Kn),r9=_0(Kn),n9=w0(Kn),s9=lL(Kn),i9=cL(Kn),a9=uL(Kn),o9=hL(Kn),l9=fL(Kn),c9=dL(Kn),u9=pL(Kn),h9=mL(Kn),Vt=ne("ZodType",(t,e)=>(Pt.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone(io(e,{checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),t.clone=(r,n)=>pa(t,r,n),t.brand=()=>t,t.register=(r,n)=>(r.add(t,n),t),t.parse=(r,n)=>e9(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>r9(t,r,n),t.parseAsync=async(r,n)=>t9(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>n9(t,r,n),t.spa=t.safeParseAsync,t.encode=(r,n)=>s9(t,r,n),t.decode=(r,n)=>i9(t,r,n),t.encodeAsync=async(r,n)=>a9(t,r,n),t.decodeAsync=async(r,n)=>o9(t,r,n),t.safeEncode=(r,n)=>l9(t,r,n),t.safeDecode=(r,n)=>c9(t,r,n),t.safeEncodeAsync=async(r,n)=>u9(t,r,n),t.safeDecodeAsync=async(r,n)=>h9(t,r,n),t.refine=(r,n)=>t.check(s7(r,n)),t.superRefine=r=>t.check(i7(r)),t.overwrite=r=>t.check(Ul(r)),t.optional=()=>bw(t),t.nullable=()=>Nw(t),t.nullish=()=>bw(Nw(t)),t.nonoptional=r=>Y9(t,r),t.array=()=>Na(t),t.or=r=>Tx([t,r]),t.and=r=>U9(t,r),t.transform=r=>Cw(t,H9(r)),t.default=r=>K9(t,r),t.prefault=r=>X9(t,r),t.catch=r=>J9(t,r),t.pipe=r=>Cw(t,r),t.readonly=()=>r7(t),t.describe=r=>{const n=t.clone();return $h.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){var r;return(r=$h.get(t))==null?void 0:r.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return $h.get(t);const n=t.clone();return $h.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),HA=ne("_ZodString",(t,e)=>{Ex.init(t,e),Vt.init(t,e);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(C8(...n)),t.includes=(...n)=>t.check(D8(...n)),t.startsWith=(...n)=>t.check(O8(...n)),t.endsWith=(...n)=>t.check(F8(...n)),t.min=(...n)=>t.check(fd(...n)),t.max=(...n)=>t.check(zA(...n)),t.length=(...n)=>t.check(WA(...n)),t.nonempty=(...n)=>t.check(fd(1,...n)),t.lowercase=n=>t.check(R8(n)),t.uppercase=n=>t.check(P8(n)),t.trim=()=>t.check(L8()),t.normalize=(...n)=>t.check(j8(...n)),t.toLowerCase=()=>t.check(M8()),t.toUpperCase=()=>t.check(V8()),t.slugify=()=>t.check(U8())}),f9=ne("ZodString",(t,e)=>{Ex.init(t,e),HA.init(t,e),t.email=r=>t.check(JM(d9,r)),t.url=r=>t.check(s8(p9,r)),t.jwt=r=>t.check(y8(N9,r)),t.emoji=r=>t.check(i8(m9,r)),t.guid=r=>t.check(ww(Sw,r)),t.uuid=r=>t.check(e8(zh,r)),t.uuidv4=r=>t.check(t8(zh,r)),t.uuidv6=r=>t.check(r8(zh,r)),t.uuidv7=r=>t.check(n8(zh,r)),t.nanoid=r=>t.check(a8(g9,r)),t.guid=r=>t.check(ww(Sw,r)),t.cuid=r=>t.check(o8(v9,r)),t.cuid2=r=>t.check(l8(x9,r)),t.ulid=r=>t.check(c8(y9,r)),t.base64=r=>t.check(g8(A9,r)),t.base64url=r=>t.check(v8(I9,r)),t.xid=r=>t.check(u8(_9,r)),t.ksuid=r=>t.check(h8(w9,r)),t.ipv4=r=>t.check(f8(E9,r)),t.ipv6=r=>t.check(d8(T9,r)),t.cidrv4=r=>t.check(p8(k9,r)),t.cidrv6=r=>t.check(m8(S9,r)),t.e164=r=>t.check(x8(b9,r)),t.datetime=r=>t.check(G8(r)),t.date=r=>t.check(K8(r)),t.time=r=>t.check(X8(r)),t.duration=r=>t.check(Q8(r))});function fr(t){return QM(f9,t)}const Ut=ne("ZodStringFormat",(t,e)=>{Dt.init(t,e),HA.init(t,e)}),d9=ne("ZodEmail",(t,e)=>{sM.init(t,e),Ut.init(t,e)}),Sw=ne("ZodGUID",(t,e)=>{rM.init(t,e),Ut.init(t,e)}),zh=ne("ZodUUID",(t,e)=>{nM.init(t,e),Ut.init(t,e)}),p9=ne("ZodURL",(t,e)=>{iM.init(t,e),Ut.init(t,e)}),m9=ne("ZodEmoji",(t,e)=>{aM.init(t,e),Ut.init(t,e)}),g9=ne("ZodNanoID",(t,e)=>{oM.init(t,e),Ut.init(t,e)}),v9=ne("ZodCUID",(t,e)=>{lM.init(t,e),Ut.init(t,e)}),x9=ne("ZodCUID2",(t,e)=>{cM.init(t,e),Ut.init(t,e)}),y9=ne("ZodULID",(t,e)=>{uM.init(t,e),Ut.init(t,e)}),_9=ne("ZodXID",(t,e)=>{hM.init(t,e),Ut.init(t,e)}),w9=ne("ZodKSUID",(t,e)=>{fM.init(t,e),Ut.init(t,e)}),E9=ne("ZodIPv4",(t,e)=>{vM.init(t,e),Ut.init(t,e)}),T9=ne("ZodIPv6",(t,e)=>{xM.init(t,e),Ut.init(t,e)}),k9=ne("ZodCIDRv4",(t,e)=>{yM.init(t,e),Ut.init(t,e)}),S9=ne("ZodCIDRv6",(t,e)=>{_M.init(t,e),Ut.init(t,e)}),A9=ne("ZodBase64",(t,e)=>{wM.init(t,e),Ut.init(t,e)}),I9=ne("ZodBase64URL",(t,e)=>{TM.init(t,e),Ut.init(t,e)}),b9=ne("ZodE164",(t,e)=>{kM.init(t,e),Ut.init(t,e)}),N9=ne("ZodJWT",(t,e)=>{AM.init(t,e),Ut.init(t,e)}),GA=ne("ZodNumber",(t,e)=>{UA.init(t,e),Vt.init(t,e),t.gt=(n,s)=>t.check(Tw(n,s)),t.gte=(n,s)=>t.check(bp(n,s)),t.min=(n,s)=>t.check(bp(n,s)),t.lt=(n,s)=>t.check(Ew(n,s)),t.lte=(n,s)=>t.check(Ip(n,s)),t.max=(n,s)=>t.check(Ip(n,s)),t.int=n=>t.check(Aw(n)),t.safe=n=>t.check(Aw(n)),t.positive=n=>t.check(Tw(0,n)),t.nonnegative=n=>t.check(bp(0,n)),t.negative=n=>t.check(Ew(0,n)),t.nonpositive=n=>t.check(Ip(0,n)),t.multipleOf=(n,s)=>t.check(kw(n,s)),t.step=(n,s)=>t.check(kw(n,s)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function qA(t){return k8(GA,t)}const C9=ne("ZodNumberFormat",(t,e)=>{IM.init(t,e),GA.init(t,e)});function Aw(t){return S8(C9,t)}const R9=ne("ZodBoolean",(t,e)=>{bM.init(t,e),Vt.init(t,e)});function tl(t){return A8(R9,t)}const P9=ne("ZodAny",(t,e)=>{NM.init(t,e),Vt.init(t,e)});function Dn(){return I8(P9)}const D9=ne("ZodUnknown",(t,e)=>{CM.init(t,e),Vt.init(t,e)});function Iw(){return b8(D9)}const O9=ne("ZodNever",(t,e)=>{RM.init(t,e),Vt.init(t,e)});function F9(t){return N8(O9,t)}const j9=ne("ZodArray",(t,e)=>{PM.init(t,e),Vt.init(t,e),t.element=e.element,t.min=(r,n)=>t.check(fd(r,n)),t.nonempty=r=>t.check(fd(1,r)),t.max=(r,n)=>t.check(zA(r,n)),t.length=(r,n)=>t.check(WA(r,n)),t.unwrap=()=>t.element});function Na(t,e){return B8(j9,t,e)}const L9=ne("ZodObject",(t,e)=>{OM.init(t,e),Vt.init(t,e),Tt(t,"shape",()=>e.shape),t.keyof=()=>Sl(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Iw()}),t.loose=()=>t.clone({...t._zod.def,catchall:Iw()}),t.strict=()=>t.clone({...t._zod.def,catchall:F9()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>Jj(t,r),t.safeExtend=r=>eL(t,r),t.merge=r=>tL(t,r),t.pick=r=>Yj(t,r),t.omit=r=>Qj(t,r),t.partial=(...r)=>rL(KA,t,r[0]),t.required=(...r)=>nL(ZA,t,r[0])});function Bl(t,e){const r={type:"object",shape:t??{},...Oe(e)};return new L9(r)}const M9=ne("ZodUnion",(t,e)=>{FM.init(t,e),Vt.init(t,e),t.options=e.options});function Tx(t,e){return new M9({type:"union",options:t,...Oe(e)})}const V9=ne("ZodIntersection",(t,e)=>{jM.init(t,e),Vt.init(t,e)});function U9(t,e){return new V9({type:"intersection",left:t,right:e})}const B9=ne("ZodRecord",(t,e)=>{LM.init(t,e),Vt.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function dd(t,e,r){return new B9({type:"record",keyType:t,valueType:e,...Oe(r)})}const og=ne("ZodEnum",(t,e)=>{MM.init(t,e),Vt.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const r=new Set(Object.keys(e.entries));t.extract=(n,s)=>{const i={};for(const a of n)if(r.has(a))i[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new og({...e,checks:[],...Oe(s),entries:i})},t.exclude=(n,s)=>{const i={...e.entries};for(const a of n)if(r.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new og({...e,checks:[],...Oe(s),entries:i})}});function Sl(t,e){const r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new og({type:"enum",entries:r,...Oe(e)})}const $9=ne("ZodLiteral",(t,e)=>{VM.init(t,e),Vt.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function z9(t,e){return new $9({type:"literal",values:Array.isArray(t)?t:[t],...Oe(e)})}const W9=ne("ZodTransform",(t,e)=>{UM.init(t,e),Vt.init(t,e),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new AA(t.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(Su(i,r.value,e));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),r.issues.push(Su(a))}};const s=e.transform(r.value,r);return s instanceof Promise?s.then(i=>(r.value=i,r)):(r.value=s,r)}});function H9(t){return new W9({type:"transform",transform:t})}const KA=ne("ZodOptional",(t,e)=>{BM.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function bw(t){return new KA({type:"optional",innerType:t})}const G9=ne("ZodNullable",(t,e)=>{$M.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Nw(t){return new G9({type:"nullable",innerType:t})}const q9=ne("ZodDefault",(t,e)=>{zM.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function K9(t,e){return new q9({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():NA(e)}})}const Z9=ne("ZodPrefault",(t,e)=>{WM.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function X9(t,e){return new Z9({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():NA(e)}})}const ZA=ne("ZodNonOptional",(t,e)=>{HM.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Y9(t,e){return new ZA({type:"nonoptional",innerType:t,...Oe(e)})}const Q9=ne("ZodCatch",(t,e)=>{GM.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function J9(t,e){return new Q9({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const e7=ne("ZodPipe",(t,e)=>{qM.init(t,e),Vt.init(t,e),t.in=e.in,t.out=e.out});function Cw(t,e){return new e7({type:"pipe",in:t,out:e})}const t7=ne("ZodReadonly",(t,e)=>{KM.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function r7(t){return new t7({type:"readonly",innerType:t})}const n7=ne("ZodCustom",(t,e)=>{ZM.init(t,e),Vt.init(t,e)});function s7(t,e={}){return $8(n7,t,e)}function i7(t){return z8(t)}const a7=Bl({threePEmail:tl().optional().default(!1),threePBackupEmail:tl().optional().default(!1),float:tl().optional().default(!1),other:fr().optional().default("")}),o7=Bl({dars:Na(qA()).optional(),cpoe:tl().optional(),newIncoming:Na(fr()).optional(),crossTraining:Na(fr()).optional(),specialProjects:Tx([a7,Na(fr()),fr()]).optional()});Bl({name:fr().min(1,"Schedule name is required").refine(t=>t.trim().length>0,{message:"Schedule name cannot be only whitespace"}),startDate:fr().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date format (expected YYYY-MM-DD)"),endDate:fr().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date format (expected YYYY-MM-DD)"),status:Sl(["draft","published"],{errorMap:()=>({message:'Status must be either "draft" or "published"'})}),assignments:dd(fr(),o7),darEntities:dd(fr(),Na(fr())),darCount:qA().min(3,"Must have at least 3 DAR columns").max(8,"Cannot have more than 8 DAR columns"),createdAt:Dn().optional(),updatedAt:Dn().optional(),publishedAt:Dn().optional()}).refine(t=>{const e=new Date(t.startDate);return new Date(t.endDate)>=e},{message:"End date must be on or after start date",path:["endDate"]});const l7=["DAR","Trace","CPOE","Float"],c7=["CR I","CR II"],XA=Bl({name:fr().min(1,"Employee name is required").max(100,"Name is too long").refine(t=>t.trim().length>0,{message:"Employee name cannot be only whitespace"}),skills:Na(Sl(["DAR","Trace","CPOE","Float"],{errorMap:()=>({message:`Skill must be one of: ${l7.join(", ")}`})})).min(1,"At least one skill is required"),position:Sl(["CR I","CR II"],{errorMap:()=>({message:`Position must be one of: ${c7.join(", ")}`})}).optional(),can3PEmail:tl().optional().default(!1),email:Tx([fr().email("Invalid email address"),z9("")]).optional(),notes:fr().optional(),archived:tl(),createdAt:Dn().optional(),updatedAt:Dn().optional(),archivedAt:Dn().optional()});XA.omit({createdAt:!0,updatedAt:!0,archivedAt:!0});XA.partial().extend({updatedAt:Dn().optional()});const YA=Bl({name:fr().min(1,"Entity name is required").max(200,"Entity name is too long").refine(t=>t.trim().length>0,{message:"Entity name cannot be only whitespace"}),createdAt:Dn().optional(),updatedAt:Dn().optional()});YA.omit({createdAt:!0,updatedAt:!0});YA.partial().extend({updatedAt:Dn().optional()});const Rw=["schedule.create","schedule.update","schedule.publish","schedule.delete","employee.create","employee.update","employee.archive","entity.create","entity.update","entity.delete"],Pw=["schedule","employee","entity"],u7=Bl({timestamp:Dn(),userId:fr().min(1,"User ID is required"),userEmail:fr().email("Invalid user email"),action:Sl(Rw,{errorMap:()=>({message:`Action must be one of: ${Rw.join(", ")}`})}),resourceType:Sl(Pw,{errorMap:()=>({message:`Resource type must be one of: ${Pw.join(", ")}`})}),resourceId:fr().min(1,"Resource ID is required"),changes:dd(Dn()).optional(),metadata:dd(Dn()).optional()});class cn{static async log(e){try{const r={...e,timestamp:tr.now()},n=u7.safeParse(r);if(!n.success)return rt.error("Audit log validation failed",{errors:n.error.issues,entry:r}),null;const s=await m0(Ur(ht,this.COLLECTION_NAME),r);return rt.info("Audit log created",{id:s.id,action:e.action,resourceType:e.resourceType,resourceId:e.resourceId}),s.id}catch(r){return rt.error("Failed to create audit log",{error:r,entry:e}),null}}static async getLogsForResource(e,r,n=50){try{const s=is(Ur(ht,this.COLLECTION_NAME),Vo("resourceType","==",e),Vo("resourceId","==",r),as("timestamp","desc"),Hs(n)),i=await bn(s),a=[];return i.forEach(o=>{var l;a.push({id:o.id,...o.data(),timestamp:(l=o.data().timestamp)==null?void 0:l.toDate()})}),rt.debug("Retrieved audit logs for resource",{resourceType:e,resourceId:r,count:a.length}),a}catch(s){return rt.error("Failed to retrieve audit logs for resource",{error:s,resourceType:e,resourceId:r}),[]}}static async getRecentLogs(e=100,r=null){try{let n;r?n=is(Ur(ht,this.COLLECTION_NAME),Vo("resourceType","==",r),as("timestamp","desc"),Hs(e)):n=is(Ur(ht,this.COLLECTION_NAME),as("timestamp","desc"),Hs(e));const s=await bn(n),i=[];return s.forEach(a=>{var o;i.push({id:a.id,...a.data(),timestamp:(o=a.data().timestamp)==null?void 0:o.toDate()})}),rt.debug("Retrieved recent audit logs",{count:i.length,resourceType:r||"all"}),i}catch(n){return rt.error("Failed to retrieve recent audit logs",{error:n,resourceType:r}),[]}}static async getLogsForUser(e,r=50){try{const n=is(Ur(ht,this.COLLECTION_NAME),Vo("userId","==",e),as("timestamp","desc"),Hs(r)),s=await bn(n),i=[];return s.forEach(a=>{var o;i.push({id:a.id,...a.data(),timestamp:(o=a.data().timestamp)==null?void 0:o.toDate()})}),rt.debug("Retrieved audit logs for user",{userId:e,count:i.length}),i}catch(n){return rt.error("Failed to retrieve audit logs for user",{error:n,userId:e}),[]}}static detectChanges(e,r,n=null){const s={};return(n||Object.keys({...e,...r})).forEach(a=>{const o=e[a],l=r[a],c=JSON.stringify(o),f=JSON.stringify(l);c!==f&&(s[a]={before:o,after:l})}),s}}tc(cn,"COLLECTION_NAME","auditLogs");var QA={exports:{}},h7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",f7=h7,d7=f7;function JA(){}function eI(){}eI.resetWarningCache=JA;var p7=function(){function t(n,s,i,a,o,l){if(l!==d7){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eI,resetWarningCache:JA};return r.PropTypes=r,r};QA.exports=p7();var m7=QA.exports;const q=_E(m7);function T0({isOpen:t,onClose:e,title:r,children:n,size:s="md",showCloseButton:i=!0,closeOnBackdropClick:a=!0,closeOnEsc:o=!0}){const l=U.useRef(null),c=U.useRef(null),f=U.useRef(`modal-title-${Math.random().toString(36).substr(2,9)}`),d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"},p=U.useCallback(()=>{if(!l.current)return[];const g=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(l.current.querySelectorAll(g.join(",")))},[]);U.useEffect(()=>{if(!t||!o)return;const g=y=>{y.key==="Escape"&&e()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[t,e,o]),U.useEffect(()=>{if(!t)return;c.current=document.activeElement;const g=p();g.length>0&&g[0].focus();const y=E=>{if(E.key!=="Tab")return;const _=p();if(_.length===0)return;const w=_[0],b=_[_.length-1];E.shiftKey?document.activeElement===w&&(E.preventDefault(),b.focus()):document.activeElement===b&&(E.preventDefault(),w.focus())};return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y),c.current&&c.current.focus()}},[t,p]),U.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const m=U.useCallback(g=>{a&&g.target===g.currentTarget&&e()},[e,a]);if(!t)return null;const x=h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fadeIn",onClick:m,role:"presentation",children:[h.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm","aria-hidden":"true"}),h.jsxs("div",{ref:l,role:"dialog","aria-modal":"true","aria-labelledby":f.current,className:`relative bg-white dark:bg-slate-800 rounded-2xl shadow-soft-lg w-full ${d[s]} animate-scale-up`,children:[(r||i)&&h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100 dark:border-slate-700",children:[r&&h.jsx("h3",{id:f.current,className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:r}),i&&h.jsx("button",{onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 dark:hover:text-slate-300 transition-all duration-200","aria-label":"Close modal",children:h.jsx(qa,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"p-6",children:n})]})]});return OT.createPortal(x,document.body)}function g7({employee:t,onClose:e,isOpen:r=!0}){const[n,s]=U.useState([]),[i,a]=U.useState(!0);U.useEffect(()=>{t&&r&&o()},[t,r]);async function o(){a(!0);try{const c=Ur(ht,"schedules"),f=is(c,Vo("status","==","published"),as("publishedAt","desc"),Hs(100)),d=await bn(f),p=[];d.docs.forEach(m=>{var y,E;const x=m.data(),g=(y=x.assignments)==null?void 0:y[t.id];g&&p.push({id:m.id,scheduleName:x.name,startDate:x.startDate,endDate:x.endDate,publishedAt:(E=x.publishedAt)==null?void 0:E.toDate(),assignment:g})}),s(p)}catch(c){rt.error("Error loading history:",c)}finally{a(!1)}}function l(c){return c?new Date(c).toLocaleDateString():"N/A"}return h.jsxs(T0,{isOpen:r,onClose:e,title:`Assignment History - ${(t==null?void 0:t.name)||""}`,size:"lg",children:[h.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:i?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-thr-blue-500 dark:border-thr-blue-400"})}):n.length>0?h.jsx("div",{className:"space-y-4",children:n.map(c=>{var f;return h.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-gray-50 dark:bg-gray-800/50 transition-colors hover:bg-gray-100 dark:hover:bg-gray-800",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:c.scheduleName}),h.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-1 text-sm text-gray-600 dark:text-gray-400",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Cs,{className:"w-4 h-4","aria-hidden":"true"}),h.jsxs("span",{children:[c.startDate," - ",c.endDate]})]}),c.publishedAt&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(cx,{className:"w-4 h-4","aria-hidden":"true"}),h.jsxs("span",{children:["Published ",l(c.publishedAt)]})]})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Entity:"}),h.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:c.assignment.entity||"Not assigned"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"DAR Assignments:"}),h.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:((f=c.assignment.dars)==null?void 0:f.length)>0?`DAR ${c.assignment.dars.map(d=>d+1).join(", ")}`:"None"})]}),c.assignment.specialProjects&&h.jsxs("div",{className:"col-span-1 sm:col-span-2",children:[h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Special Projects:"}),h.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:c.assignment.specialProjects})]}),h.jsxs("div",{className:"col-span-1 sm:col-span-2",children:[h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"3PM Email:"}),h.jsxs("div",{className:"flex gap-4 mt-1",children:[c.assignment.email3pmPrimary&&h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-thr-blue-100 text-thr-blue-800 dark:bg-thr-blue-900/30 dark:text-thr-blue-300",children:"Primary"}),c.assignment.email3pmBackup&&h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",children:"Backup"}),!c.assignment.email3pmPrimary&&!c.assignment.email3pmBackup&&h.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Not assigned"})]})]})]})]},c.id)})}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Cs,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4","aria-hidden":"true"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No assignment history found"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"This employee hasn't been assigned to any published schedules yet."})]})}),h.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:h.jsx("button",{onClick:e,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 dark:focus:ring-offset-gray-900",children:"Close"})})]})}function tI({darIndex:t,darName:e,darEntities:r,employees:n=[],currentAssignments:s={},schedules:i=[],onClose:a,isOpen:o=!0}){const[l,c]=U.useState("assigned"),f=U.useMemo(()=>{if(!o)return{assignmentCounts:[],neverAssigned:[],recentHistory:[],loading:!1};const m={},x=[];n.forEach(E=>{E.archived||(m[E.id]={name:E.name,count:0,lastAssigned:null,skills:E.skills||[]})}),i.filter(E=>E.status==="published").forEach(E=>{const _=E.assignments||{};Object.entries(_).forEach(([w,b])=>{var B,G;if((B=b.dars)!=null&&B.includes(t)){if(m[w]){m[w].count++;const S=E.startDate?new Date(E.startDate):null,k=m[w].lastAssigned?new Date(m[w].lastAssigned):null;S&&!isNaN(S.getTime())&&(!k||isNaN(k.getTime())||S>k)&&(m[w].lastAssigned=E.startDate)}x.push({employeeId:w,employeeName:((G=m[w])==null?void 0:G.name)||"Unknown",scheduleName:E.name,startDate:E.startDate,endDate:E.endDate})}})});const g=Object.entries(m).filter(([E,_])=>_.count===0&&(_.skills.includes("DAR")||_.skills.includes("Float"))).map(([E,_])=>({id:E,..._})),y=Object.entries(m).filter(([E,_])=>_.count>0).map(([E,_])=>({id:E,..._})).sort((E,_)=>_.count-E.count);return x.sort((E,_)=>new Date(_.startDate)-new Date(E.startDate)),{assignmentCounts:y,neverAssigned:g,recentHistory:x.slice(0,10),loading:!1}},[t,i,n,o]),d=Object.entries(s).filter(([m,x])=>{var g;return(g=x.dars)==null?void 0:g.includes(t)}).map(([m])=>{const x=n.find(g=>g.id===m);return(x==null?void 0:x.name)||"Unknown"});if(!o)return null;const p=Array.isArray(r)?r.join(" / "):r||"Not configured";return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40 animate-fadeIn",onClick:a,"aria-hidden":"true"}),h.jsxs("div",{className:"fixed inset-y-0 right-0 w-full max-w-md bg-white dark:bg-slate-800 shadow-2xl z-50 flex flex-col animate-slide-in-right",children:[h.jsx("div",{className:"bg-gradient-to-r from-thr-blue-500 to-thr-blue-600 px-6 py-5 text-white flex-shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-bold",children:[e," Info"]}),h.jsx("p",{className:"text-white/80 text-sm mt-1",children:p})]}),h.jsx("button",{onClick:a,className:"p-2 rounded-xl bg-white/10 hover:bg-white/20 transition-colors","aria-label":"Close panel",children:h.jsx(qa,{className:"w-6 h-6 text-white"})})]})}),h.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:f.loading?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-thr-blue-500"})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(Cs,{className:"w-5 h-5 text-thr-green-500"}),h.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Current Schedule"})]}),d.length>0?h.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((m,x)=>h.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-thr-green-100 dark:bg-thr-green-900/30 text-thr-green-700 dark:text-thr-green-300 text-sm font-medium",children:m},x))}):h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No one assigned yet"})]}),h.jsxs("div",{className:"card",children:[h.jsxs("button",{onClick:()=>c(l==="assigned"?"":"assigned"),className:"w-full flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(X5,{className:"w-5 h-5 text-thr-blue-500"}),h.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:["Previously Assigned (",f.assignmentCounts.length,")"]})]}),l==="assigned"?h.jsx(wf,{className:"w-5 h-5 text-slate-400"}):h.jsx(_f,{className:"w-5 h-5 text-slate-400"})]}),l==="assigned"&&h.jsx("div",{className:"mt-4 space-y-2",children:f.assignmentCounts.length>0?f.assignmentCounts.map(m=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:m.name}),m.lastAssigned&&h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Last: ",m.lastAssigned]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-thr-blue-100 dark:bg-thr-blue-900/30 text-thr-blue-700 dark:text-thr-blue-300 text-xs font-bold",children:[m.count,"x"]})})]},m.id)):h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-4",children:"No historical assignments found"})})]}),h.jsxs("div",{className:"card",children:[h.jsxs("button",{onClick:()=>c(l==="never"?"":"never"),className:"w-full flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Q5,{className:"w-5 h-5 text-orange-500"}),h.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:["Never Assigned (",f.neverAssigned.length,")"]})]}),l==="never"?h.jsx(wf,{className:"w-5 h-5 text-slate-400"}):h.jsx(_f,{className:"w-5 h-5 text-slate-400"})]}),l==="never"&&h.jsx("div",{className:"mt-4",children:f.neverAssigned.length>0?h.jsx("div",{className:"space-y-2",children:f.neverAssigned.map(m=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 rounded-xl border border-orange-200 dark:border-orange-800",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:m.name}),h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Skills: ",m.skills.join(", ")||"None"]})]}),h.jsx("span",{className:"px-2.5 py-1 rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs font-medium",children:"New to DAR"})]},m.id))}):h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-4",children:"All DAR-trained employees have been assigned at least once"})})]}),h.jsxs("div",{className:"card",children:[h.jsxs("button",{onClick:()=>c(l==="history"?"":"history"),className:"w-full flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(cx,{className:"w-5 h-5 text-purple-500"}),h.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Recent History"})]}),l==="history"?h.jsx(wf,{className:"w-5 h-5 text-slate-400"}):h.jsx(_f,{className:"w-5 h-5 text-slate-400"})]}),l==="history"&&h.jsx("div",{className:"mt-4",children:f.recentHistory.length>0?h.jsx("div",{className:"relative pl-4 border-l-2 border-slate-200 dark:border-slate-600 space-y-4",children:f.recentHistory.map((m,x)=>h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute -left-[21px] w-3 h-3 rounded-full bg-thr-blue-500"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:m.employeeName}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:m.scheduleName}),h.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:[m.startDate," - ",m.endDate]})]})]},x))}):h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-4",children:"No historical data available"})})]}),h.jsxs("div",{className:"card bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(lx,{className:"w-5 h-5 text-thr-blue-500"}),h.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Quick Stats"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-xl shadow-soft",children:[h.jsx("p",{className:"text-2xl font-bold text-thr-blue-600 dark:text-thr-blue-400",children:f.assignmentCounts.length}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Employees with experience"})]}),h.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-xl shadow-soft",children:[h.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:f.neverAssigned.length}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Need training exposure"})]})]})]})]})})]})]})}tI.propTypes={darIndex:q.number.isRequired,darName:q.string.isRequired,darEntities:q.oneOfType([q.string,q.arrayOf(q.string)]),employees:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired,skills:q.arrayOf(q.string),archived:q.bool})),currentAssignments:q.object,schedules:q.arrayOf(q.shape({id:q.string,name:q.string,status:q.string,startDate:q.string,endDate:q.string,assignments:q.object})),onClose:q.func.isRequired,isOpen:q.bool};function k0({isOpen:t,onClose:e,title:r,children:n}){return U.useEffect(()=>{const s=i=>{i.key==="Escape"&&t&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e]),U.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),t?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 animate-fade-in",onClick:e,"aria-hidden":"true"}),h.jsxs("div",{className:"fixed right-0 top-0 h-full w-full max-w-2xl bg-white dark:bg-slate-800 shadow-2xl z-50 overflow-y-auto animate-slide-in-right",role:"dialog","aria-modal":"true","aria-labelledby":"panel-title",children:[h.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between z-10",children:[h.jsx("h2",{id:"panel-title",className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:r}),h.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-label":"Close panel",children:h.jsx(qa,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),h.jsx("div",{className:"px-6 py-6",children:n})]})]}):null}k0.propTypes={isOpen:q.bool.isRequired,onClose:q.func.isRequired,title:q.string.isRequired,children:q.node.isRequired};function v7(t,e){if(!Array.isArray(t)||!Array.isArray(e))return{totalCount:0,employeeBreakdown:[],trend:"stable"};const r=new Map,n=[];t.forEach(a=>{if(!a.assignments)return;let o=0;Object.entries(a.assignments).forEach(([l,c])=>{if(c.cpoe){o++,r.has(l)||r.set(l,{employeeId:l,count:0,schedules:[]});const f=r.get(l);f.count++,f.schedules.push(a.id)}}),a.startDate&&n.push({date:new Date(a.startDate),count:o})});const s=Array.from(r.values()).map(a=>{const o=e.find(l=>l.id===a.employeeId);return{...a,employeeName:(o==null?void 0:o.name)||"Unknown Employee"}}).sort((a,o)=>o.count-a.count),i=_7(n);return{totalCount:s.reduce((a,o)=>a+o.count,0),employeeBreakdown:s,trend:i}}function x7(t,e,r,n){if(!Array.isArray(t)||!Array.isArray(e)||!Array.isArray(r))return[];const s=new Map;return e.forEach(i=>{s.set(i.name,{entityId:i.id,entityName:i.name,totalAssignments:0,employees:new Map,neverAssigned:!0})}),t.forEach(i=>{i.assignments&&Object.entries(i.assignments).forEach(([a,o])=>{const l=o[n];if(!l)return;(Array.isArray(l)?l:[l]).forEach(f=>{s.has(f)||s.set(f,{entityId:null,entityName:f,totalAssignments:0,employees:new Map,neverAssigned:!1});const d=s.get(f);d.totalAssignments++,d.neverAssigned=!1,d.employees.has(a)||d.employees.set(a,{employeeId:a,count:0,lastAssigned:null});const p=d.employees.get(a);if(p.count++,i.startDate){const m=new Date(i.startDate);(!p.lastAssigned||m>new Date(p.lastAssigned))&&(p.lastAssigned=i.startDate)}})})}),Array.from(s.values()).map(i=>{const a=Array.from(i.employees.values()).map(o=>{const l=r.find(c=>c.id===o.employeeId);return{...o,employeeName:(l==null?void 0:l.name)||"Unknown Employee"}}).sort((o,l)=>l.count-o.count);return{...i,employees:a}}).sort((i,a)=>i.neverAssigned&&!a.neverAssigned?1:!i.neverAssigned&&a.neverAssigned?-1:a.totalAssignments-i.totalAssignments)}function y7(t,e){if(!Array.isArray(t)||!Array.isArray(e))return{threePEmail:{count:0,employees:[]},threePBackupEmail:{count:0,employees:[]},float:{count:0,employees:[]},other:{count:0,projects:[],employees:[]}};const r={threePEmail:{employeeIds:new Set,count:0},threePBackupEmail:{employeeIds:new Set,count:0},float:{employeeIds:new Set,count:0},other:{employeeIds:new Set,projects:new Set,count:0}};return t.forEach(n=>{n.assignments&&Object.entries(n.assignments).forEach(([s,i])=>{const a=i.specialProjects;a&&(typeof a=="object"&&!Array.isArray(a)?(a.threePEmail&&(r.threePEmail.employeeIds.add(s),r.threePEmail.count++),a.threePBackupEmail&&(r.threePBackupEmail.employeeIds.add(s),r.threePBackupEmail.count++),a.float&&(r.float.employeeIds.add(s),r.float.count++),a.other&&(r.other.employeeIds.add(s),r.other.projects.add(a.other),r.other.count++)):(Array.isArray(a)||typeof a=="string")&&(Array.isArray(a)?a:[a]).forEach(l=>{r.other.employeeIds.add(s),r.other.projects.add(l),r.other.count++}))})}),{threePEmail:{count:r.threePEmail.count,employees:Array.from(r.threePEmail.employeeIds).map(n=>{const s=e.find(i=>i.id===n);return(s==null?void 0:s.name)||"Unknown"})},threePBackupEmail:{count:r.threePBackupEmail.count,employees:Array.from(r.threePBackupEmail.employeeIds).map(n=>{const s=e.find(i=>i.id===n);return(s==null?void 0:s.name)||"Unknown"})},float:{count:r.float.count,employees:Array.from(r.float.employeeIds).map(n=>{const s=e.find(i=>i.id===n);return(s==null?void 0:s.name)||"Unknown"})},other:{count:r.other.count,projects:Array.from(r.other.projects),employees:Array.from(r.other.employeeIds).map(n=>{const s=e.find(i=>i.id===n);return(s==null?void 0:s.name)||"Unknown"})}}}function _7(t){if(t.length<2)return"stable";t.sort((l,c)=>l.date-c.date);const e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),s=r.reduce((l,c)=>l+c.count,0)/r.length,a=n.reduce((l,c)=>l+c.count,0)/n.length-s,o=.1;return a>o?"increasing":a<-o?"decreasing":"stable"}function rI({isOpen:t,onClose:e,employees:r,currentAssignments:n,schedules:s}){const i=U.useMemo(()=>v7(s,r),[s,r]),a=U.useMemo(()=>n?Object.entries(n).filter(([c,f])=>f.cpoe).map(([c])=>{const f=r.find(d=>d.id===c);return(f==null?void 0:f.name)||"Unknown Employee"}).sort():[],[n,r]),o=()=>{switch(i.trend){case"increasing":return h.jsx(vA,{className:"w-5 h-5 text-green-600 dark:text-green-400"});case"decreasing":return h.jsx(gA,{className:"w-5 h-5 text-red-600 dark:text-red-400"});default:return h.jsx(hx,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}},l=()=>{switch(i.trend){case"increasing":return"Increasing";case"decreasing":return"Decreasing";default:return"Stable"}};return h.jsxs(k0,{isOpen:t,onClose:e,title:"CPOE Assignment History",children:[h.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl p-4 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(lx,{className:"w-5 h-5 text-thr-blue-600 dark:text-thr-blue-400"}),h.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Statistics Summary"})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-thr-blue-600 dark:text-thr-blue-400",children:i.totalCount}),h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Assignments"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-thr-blue-600 dark:text-thr-blue-400",children:i.employeeBreakdown.length}),h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Unique Employees"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-thr-blue-600 dark:text-thr-blue-400",children:a.length}),h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Current Period"})]})]})]}),a.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(Oa,{className:"w-5 h-5 text-thr-green-600 dark:text-thr-green-400"}),h.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Current Schedule"})]}),h.jsx("div",{className:"bg-thr-green-50 dark:bg-thr-green-900/20 rounded-lg p-4",children:h.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((c,f)=>h.jsx("span",{className:"px-3 py-1 bg-thr-green-100 dark:bg-thr-green-900/40 text-thr-green-700 dark:text-thr-green-300 rounded-full text-sm font-medium",children:c},f))})})]}),i.employeeBreakdown.length>0?h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(Oa,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}),h.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Assignment Breakdown"})]}),h.jsx("div",{className:"space-y-2",children:i.employeeBreakdown.map((c,f)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:c.employeeName}),h.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[c.schedules.length," schedule",c.schedules.length!==1?"s":""]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-lg font-bold text-thr-blue-600 dark:text-thr-blue-400",children:c.count}),h.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"assignments"})]})]},f))})]}):h.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[h.jsx(Oa,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),h.jsx("p",{children:"No CPOE assignments found in historical data"}),h.jsx("p",{className:"text-sm mt-1",children:"Assignments will appear here after saving schedules"})]}),i.employeeBreakdown.length>0&&h.jsx("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[o(),h.jsxs("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:["Trend: ",l()]})]}),h.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Based on ",s.length," schedule",s.length!==1?"s":""]})]})})]})}rI.propTypes={isOpen:q.bool.isRequired,onClose:q.func.isRequired,employees:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired})).isRequired,currentAssignments:q.object,schedules:q.arrayOf(q.shape({id:q.string,startDate:q.string,assignments:q.object})).isRequired};function Fa(t){return Array.isArray(t)?t.join("/"):t||""}function w7(t,e,r=!1){if(!t||!e)return"";if(r)try{const n=new Date(t),s=new Date(e),i=n.toLocaleDateString("en-US",{month:"short",year:"numeric"}),a=s.toLocaleDateString("en-US",{month:"short",year:"numeric"});return`${i} - ${a}`}catch{return`${t} to ${e}`}return`${t} to ${e}`}function En(t){if(!t||typeof t=="object"&&!Array.isArray(t))return"";const e=r=>{if(!r||typeof r!="string")return"";const s=r.split("/")[0].trim(),i=s.match(/[A-Z]/g);return i&&i.length>0?i.join(""):s.split(/\s+/).map(o=>o.charAt(0).toUpperCase()).join("")};return Array.isArray(t)?t.map(r=>e(r)).join("/"):e(t)}function nI(t){return t?typeof t=="object"&&!Array.isArray(t)?!!(t.threePEmail||t.threePBackupEmail||t.float||t.other&&typeof t.other=="string"&&t.other.trim()):Array.isArray(t)?t.length>0:typeof t=="string"?t.trim().length>0:!1:!1}function E7(t){if(!Array.isArray(t))return[];const e=t.filter(n=>!n.archived),r=new Map;return e.forEach(n=>{var a,o,l,c,f,d,p,m,x;const s=(a=n.name)==null?void 0:a.trim().toLowerCase();if(!s)return;const i=r.get(s);if(!i)r.set(s,n);else{const g=((l=(o=i.updatedAt)==null?void 0:o.toDate)==null?void 0:l.call(o))||((f=(c=i.createdAt)==null?void 0:c.toDate)==null?void 0:f.call(c))||new Date(0);(((p=(d=n.updatedAt)==null?void 0:d.toDate)==null?void 0:p.call(d))||((x=(m=n.createdAt)==null?void 0:m.toDate)==null?void 0:x.call(m))||new Date(0))>g&&r.set(s,n)}}),Array.from(r.values()).sort((n,s)=>(n.name||"").localeCompare(s.name||""))}function T7(t=[],e=[],r=[]){const n={};return!Array.isArray(t)||!Array.isArray(e)||!Array.isArray(r)||(r.forEach(i=>{i&&i.name&&(n[i.name]={employeeName:null,employeeId:null,scheduleName:null,startDate:null,assignmentType:null})}),[...t].filter(i=>i&&i.status==="published"&&i.startDate).sort((i,a)=>new Date(a.startDate)-new Date(i.startDate)).forEach(i=>{const a=i.assignments||{};Object.entries(a).forEach(([o,l])=>{const c=e.find(f=>f.id===o);c&&(Array.isArray(l.newIncoming)&&l.newIncoming.forEach(f=>{n[f]&&!n[f].employeeName&&(n[f]={employeeName:c.name,employeeId:o,scheduleName:i.name,startDate:i.startDate,assignmentType:"newIncoming"})}),Array.isArray(l.crossTraining)&&l.crossTraining.forEach(f=>{n[f]&&!n[f].employeeName&&(n[f]={employeeName:c.name,employeeId:o,scheduleName:i.name,startDate:i.startDate,assignmentType:"crossTraining"})}),l.entity&&n[l.entity]&&!n[l.entity].employeeName&&(n[l.entity]={employeeName:c.name,employeeId:o,scheduleName:i.name,startDate:i.startDate,assignmentType:"entity"}))})})),n}function lg(t){if(!t)return"Unknown";try{const e=new Date(t),n=Math.abs(new Date-e),s=Math.ceil(n/(1e3*60*60*24));if(s<7)return`${s} day${s===1?"":"s"} ago`;if(s<30){const i=Math.floor(s/7);return`${i} week${i===1?"":"s"} ago`}else if(s<365){const i=Math.floor(s/30);return`${i} month${i===1?"":"s"} ago`}else return e.toLocaleDateString("en-US",{month:"short",year:"numeric"})}catch{return t}}function cg({isOpen:t,onClose:e,assignmentType:r,entities:n,employees:s,currentAssignments:i,schedules:a}){const o=U.useMemo(()=>x7(a,n,s,r),[a,n,s,r]),l=r==="newIncoming"?"New Incoming History":"Cross-Training History",c=o.filter(p=>!p.neverAssigned),f=o.filter(p=>p.neverAssigned),d=U.useMemo(()=>{if(!i)return new Set;const p=new Set;return Object.values(i).forEach(m=>{const x=m[r];x&&(Array.isArray(x)?x:[x]).forEach(y=>p.add(y))}),p},[i,r]);return h.jsxs(k0,{isOpen:t,onClose:e,title:l,children:[h.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl p-4 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(Jo,{className:"w-5 h-5 text-thr-blue-600 dark:text-thr-blue-400"}),h.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Entity Statistics"})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-thr-blue-600 dark:text-thr-blue-400",children:n.length}),h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Entities"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-thr-green-600 dark:text-thr-green-400",children:c.length}),h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Assigned"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:f.length}),h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Never Assigned"})]})]})]}),c.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(Jo,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}),h.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Assignment History"})]}),h.jsx("div",{className:"space-y-3",children:c.map((p,m)=>{const x=En([p.entityName]),g=d.has(p.entityName);return h.jsxs("div",{className:`p-4 rounded-lg border ${g?"bg-thr-green-50 dark:bg-thr-green-900/20 border-thr-green-200 dark:border-thr-green-800":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-bold text-thr-blue-600 dark:text-thr-blue-400",children:x}),h.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:p.entityName}),g&&h.jsx("span",{className:"px-2 py-0.5 bg-thr-green-100 dark:bg-thr-green-900/40 text-thr-green-700 dark:text-thr-green-300 text-xs font-medium rounded-full",children:"Current"})]})}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:p.totalAssignments}),h.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["assignment",p.totalAssignments!==1?"s":""]})]})]}),p.employees.length>0&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Oa,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"}),h.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Employees"})]}),h.jsx("div",{className:"space-y-2",children:p.employees.map((y,E)=>h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:y.employeeName}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[y.count,"x"]}),y.lastAssigned&&h.jsxs("div",{className:"flex items-center gap-1 text-slate-500 dark:text-slate-400",children:[h.jsx(cx,{className:"w-3 h-3"}),h.jsx("span",{className:"text-xs",children:lg(y.lastAssigned)})]})]})]},E))})]})]},m)})})]}),f.length>0&&h.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-xl p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(Vl,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),h.jsx("h3",{className:"font-semibold text-orange-900 dark:text-orange-100",children:"Never Assigned"})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((p,m)=>{const x=En([p.entityName]);return h.jsx("div",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-900/40 text-orange-700 dark:text-orange-300 rounded-full text-sm",title:p.entityName,children:x},m)})})]}),c.length===0&&f.length===0&&h.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[h.jsx(Jo,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),h.jsx("p",{children:"No entity assignments found"}),h.jsx("p",{className:"text-sm mt-1",children:"Assignments will appear here after saving schedules"})]})]})}cg.propTypes={isOpen:q.bool.isRequired,onClose:q.func.isRequired,assignmentType:q.oneOf(["newIncoming","crossTraining"]).isRequired,entities:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired})).isRequired,employees:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired})).isRequired,currentAssignments:q.object,schedules:q.arrayOf(q.shape({id:q.string,startDate:q.string,assignments:q.object})).isRequired};function sI({isOpen:t,onClose:e,employees:r,currentAssignments:n,schedules:s}){const i=U.useMemo(()=>y7(s,r),[s,r]),a=U.useMemo(()=>{if(!n)return{threePEmail:[],threePBackupEmail:[],float:[],other:[]};const c={threePEmail:[],threePBackupEmail:[],float:[],other:[]};return Object.entries(n).forEach(([f,d])=>{const p=d.specialProjects;if(!p)return;const m=r.find(g=>g.id===f),x=(m==null?void 0:m.name)||"Unknown";typeof p=="object"&&!Array.isArray(p)&&(p.threePEmail&&c.threePEmail.push(x),p.threePBackupEmail&&c.threePBackupEmail.push(x),p.float&&c.float.push(x),p.other&&c.other.push({name:x,project:p.other}))}),c},[n,r]),o=i.threePEmail.count+i.threePBackupEmail.count+i.float.count+i.other.count,l=({icon:c,title:f,stats:d,currentEmployees:p,color:m})=>h.jsxs("div",{className:`p-4 rounded-lg border ${m.border} ${m.bg}`,children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(c,{className:`w-5 h-5 ${m.icon}`}),h.jsx("h4",{className:`font-semibold ${m.text}`,children:f})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("div",{className:`text-2xl font-bold ${m.accent}`,children:d.count}),h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total assignments"})]}),p.length>0&&h.jsxs("div",{className:"mb-3",children:[h.jsx("div",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Current Schedule:"}),h.jsx("div",{className:"flex flex-wrap gap-1",children:p.map((x,g)=>h.jsx("span",{className:`px-2 py-0.5 ${m.badge} text-xs font-medium rounded-full`,children:typeof x=="object"?x.name:x},g))})]}),d.employees.length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-2",children:["Historical (",d.employees.length," employee",d.employees.length!==1?"s":"","):"]}),h.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[d.employees.slice(0,3).join(", "),d.employees.length>3&&` +${d.employees.length-3} more`]})]}),d.projects&&d.projects.length>0&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:[h.jsx("div",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Project Types:"}),h.jsx("div",{className:"flex flex-wrap gap-1",children:d.projects.map((x,g)=>h.jsx("span",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 text-xs rounded",children:x},g))})]})]});return h.jsxs(k0,{isOpen:t,onClose:e,title:"Special Projects History",children:[h.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl p-4 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(Ap,{className:"w-5 h-5 text-thr-blue-600 dark:text-thr-blue-400"}),h.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Overview"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-thr-blue-600 dark:text-thr-blue-400",children:o}),h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Assignments"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-thr-blue-600 dark:text-thr-blue-400",children:new Set([...i.threePEmail.employees,...i.threePBackupEmail.employees,...i.float.employees,...i.other.employees]).size}),h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Unique Employees"})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(l,{icon:aw,title:"3P Email",stats:i.threePEmail,currentEmployees:a.threePEmail,color:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",icon:"text-blue-600 dark:text-blue-400",text:"text-blue-900 dark:text-blue-100",accent:"text-blue-600 dark:text-blue-400",badge:"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300"}}),h.jsx(l,{icon:aw,title:"3P Backup Email",stats:i.threePBackupEmail,currentEmployees:a.threePBackupEmail,color:{bg:"bg-purple-50 dark:bg-purple-900/20",border:"border-purple-200 dark:border-purple-800",icon:"text-purple-600 dark:text-purple-400",text:"text-purple-900 dark:text-purple-100",accent:"text-purple-600 dark:text-purple-400",badge:"bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300"}}),h.jsx(l,{icon:H5,title:"Float",stats:i.float,currentEmployees:a.float,color:{bg:"bg-thr-green-50 dark:bg-thr-green-900/20",border:"border-thr-green-200 dark:border-thr-green-800",icon:"text-thr-green-600 dark:text-thr-green-400",text:"text-thr-green-900 dark:text-thr-green-100",accent:"text-thr-green-600 dark:text-thr-green-400",badge:"bg-thr-green-100 dark:bg-thr-green-900/40 text-thr-green-700 dark:text-thr-green-300"}}),h.jsx(l,{icon:Ap,title:"Other Projects",stats:i.other,currentEmployees:a.other,color:{bg:"bg-orange-50 dark:bg-orange-900/20",border:"border-orange-200 dark:border-orange-800",icon:"text-orange-600 dark:text-orange-400",text:"text-orange-900 dark:text-orange-100",accent:"text-orange-600 dark:text-orange-400",badge:"bg-orange-100 dark:bg-orange-900/40 text-orange-700 dark:text-orange-300"}})]}),o===0&&h.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[h.jsx(Ap,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),h.jsx("p",{children:"No special projects found in historical data"}),h.jsx("p",{className:"text-sm mt-1",children:"Assignments will appear here after saving schedules"})]})]})}sI.propTypes={isOpen:q.bool.isRequired,onClose:q.func.isRequired,employees:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired})).isRequired,currentAssignments:q.object,schedules:q.arrayOf(q.shape({id:q.string,assignments:q.object})).isRequired};function iI({message:t,mode:e="polite",className:r=""}){const[n,s]=U.useState("");return U.useEffect(()=>{if(t){s("");const i=setTimeout(()=>{s(t)},100);return()=>clearTimeout(i)}},[t]),h.jsx("div",{role:"status","aria-live":e,"aria-atomic":"true",className:`sr-only ${r}`,children:n})}function kx({conflicts:t,warnings:e,workloadImbalances:r,onDismiss:n}){const[s,i]=U.useState(!1);if(t.length+e.length+r.length===0)return null;const o=t.length>0,l=e.length>0,c=r.length>0,f=()=>{const d=[];return o&&d.push(`${t.length} error${t.length!==1?"s":""}`),l&&d.push(`${e.length} warning${e.length!==1?"s":""}`),c&&d.push(`${r.length} workload issue${r.length!==1?"s":""}`),`Schedule validation: ${d.join(", ")} found`};return h.jsxs(h.Fragment,{children:[h.jsx(iI,{message:f(),mode:o?"assertive":"polite"}),h.jsxs("div",{className:`rounded-lg border-2 shadow-soft animate-fade-in ${o?"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-800":l?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-800":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-800"}`,children:[h.jsxs("div",{className:"flex items-center justify-between p-4",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o?h.jsx(Vl,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0","aria-hidden":"true"}):l?h.jsx(Qu,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0","aria-hidden":"true"}):h.jsx(ko,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0","aria-hidden":"true"}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("h3",{className:`font-semibold text-sm ${o?"text-red-900 dark:text-red-200":l?"text-yellow-900 dark:text-yellow-200":"text-blue-900 dark:text-blue-200"}`,children:[o&&`${t.length} Error${t.length!==1?"s":""}`,o&&l&&", ",l&&`${e.length} Warning${e.length!==1?"s":""}`,(o||l)&&c&&", ",c&&`${r.length} Workload Issue${r.length!==1?"s":""}`]}),h.jsx("p",{className:`text-xs mt-0.5 ${o?"text-red-700 dark:text-red-300":l?"text-yellow-700 dark:text-yellow-300":"text-blue-700 dark:text-blue-300"}`,children:o?"Fix errors before publishing":l?"Review warnings before publishing":"Review workload distribution"})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>i(!s),className:`p-2 rounded-lg transition-colors ${o?"hover:bg-red-100 dark:hover:bg-red-900/40 text-red-700 dark:text-red-300":l?"hover:bg-yellow-100 dark:hover:bg-yellow-900/40 text-yellow-700 dark:text-yellow-300":"hover:bg-blue-100 dark:hover:bg-blue-900/40 text-blue-700 dark:text-blue-300"}`,"aria-label":s?"Collapse details":"Expand details",children:s?h.jsx(wf,{className:"w-4 h-4","aria-hidden":"true"}):h.jsx(_f,{className:"w-4 h-4","aria-hidden":"true"})}),n&&h.jsx("button",{onClick:n,className:`p-2 rounded-lg transition-colors ${o?"hover:bg-red-100 dark:hover:bg-red-900/40 text-red-700 dark:text-red-300":l?"hover:bg-yellow-100 dark:hover:bg-yellow-900/40 text-yellow-700 dark:text-yellow-300":"hover:bg-blue-100 dark:hover:bg-blue-900/40 text-blue-700 dark:text-blue-300"}`,"aria-label":"Dismiss",children:h.jsx(qa,{className:"w-4 h-4","aria-hidden":"true"})})]})]}),s&&h.jsxs("div",{className:"border-t border-current/20 p-4 space-y-3",children:[t.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-xs text-red-900 dark:text-red-200 mb-2 uppercase tracking-wider",children:"Errors"}),h.jsx("ul",{className:"space-y-1",children:t.map((d,p)=>h.jsxs("li",{className:"text-sm text-red-800 dark:text-red-300 flex items-start gap-2",children:[h.jsx("span",{className:"text-red-600 dark:text-red-400 mt-0.5",children:""}),h.jsx("span",{children:d.message})]},p))})]}),e.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-xs text-yellow-900 dark:text-yellow-200 mb-2 uppercase tracking-wider",children:"Warnings"}),h.jsx("ul",{className:"space-y-1",children:e.map((d,p)=>h.jsxs("li",{className:"text-sm text-yellow-800 dark:text-yellow-300 flex items-start gap-2",children:[h.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 mt-0.5",children:""}),h.jsx("span",{children:d.message})]},p))})]}),r.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-xs text-blue-900 dark:text-blue-200 mb-2 uppercase tracking-wider",children:"Workload Distribution"}),h.jsx("ul",{className:"space-y-1",children:r.map((d,p)=>h.jsxs("li",{className:"text-sm text-blue-800 dark:text-blue-300 flex items-start gap-2",children:[h.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:""}),h.jsx("span",{children:d.message})]},p))})]})]})]})]})}kx.propTypes={conflicts:q.arrayOf(q.object),warnings:q.arrayOf(q.object),workloadImbalances:q.arrayOf(q.object),onDismiss:q.func};kx.defaultProps={conflicts:[],warnings:[],workloadImbalances:[]};function Sx({workload:t,avgWorkload:e,employeeName:r,assignment:n}){const s=e>0?t/e:1;let i="normal",a="bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700",o=h.jsx(hx,{className:"w-3 h-3","aria-hidden":"true"});s>1.5?(i="high",a="bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border-red-300 dark:border-red-700",o=h.jsx(vA,{className:"w-3 h-3","aria-hidden":"true"})):s<.5&&t>0&&(i="low",a="bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 border-yellow-300 dark:border-yellow-700",o=h.jsx(gA,{className:"w-3 h-3","aria-hidden":"true"}));const c=(()=>{const d=[];if(n.dars&&n.dars.length>0&&d.push(`${n.dars.length} DAR${n.dars.length!==1?"s":""} (${n.dars.length*3} pts)`),n.cpoe&&d.push("CPOE (2 pts)"),n.newIncoming){const p=Array.isArray(n.newIncoming)?n.newIncoming.length:1;d.push(`${p} New Incoming (${p*2} pts)`)}if(n.crossTraining){const p=Array.isArray(n.crossTraining)?n.crossTraining.length:1;d.push(`${p} Cross-Training (${p} pt${p!==1?"s":""})`)}return nI(n.specialProjects)&&d.push("Special Project (1 pt)"),d.length>0?d.join(`
`):"No assignments"})(),f=e>0?Math.round(s*100):100;return h.jsxs("div",{className:"group relative inline-flex",children:[h.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg border text-xs font-semibold transition-all ${a}`,title:`${r}
Workload: ${t} pts (${f}% of avg)

${c}`,children:[o,h.jsx("span",{children:t})]}),h.jsx("div",{className:"absolute left-0 top-full mt-1 hidden group-hover:block z-50 w-64 pointer-events-none",children:h.jsxs("div",{className:"bg-slate-900 dark:bg-slate-800 text-white text-xs rounded-lg shadow-lg p-3 border border-slate-700",children:[h.jsx("div",{className:"font-semibold mb-2",children:r}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-slate-300",children:"Workload:"}),h.jsxs("span",{className:"font-semibold",children:[t," pts"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-slate-300",children:"Average:"}),h.jsxs("span",{children:[e.toFixed(1)," pts"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-slate-300",children:"Ratio:"}),h.jsxs("span",{className:i==="high"?"text-red-400":i==="low"?"text-yellow-400":"text-blue-400",children:[f,"%"]})]})]}),c!=="No assignments"&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"border-t border-slate-700 my-2"}),h.jsx("div",{className:"text-slate-300 space-y-0.5",children:c.split(`
`).map((d,p)=>h.jsxs("div",{className:"text-xs",children:[" ",d]},p))})]})]})})]})}Sx.propTypes={workload:q.number.isRequired,avgWorkload:q.number.isRequired,employeeName:q.string.isRequired,assignment:q.shape({dars:q.array,cpoe:q.bool,newIncoming:q.oneOfType([q.array,q.string]),crossTraining:q.oneOfType([q.array,q.string]),specialProjects:q.oneOfType([q.object,q.array,q.string])})};const k7=U.memo(Sx);Sx.defaultProps={assignment:{}};function aI({isSaving:t,lastSaved:e,error:r}){const n=()=>r?`Save failed: ${r}`:t?"Saving changes":e?"Changes saved successfully":"",s=a=>{if(!a)return"";const l=Math.floor((new Date-a)/1e3);return l<60?"just now":l<3600?`${Math.floor(l/60)}m ago`:l<86400?`${Math.floor(l/3600)}h ago`:a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},i=r?h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300 text-sm animate-fade-in",role:"alert",children:[h.jsx(Vl,{className:"w-4 h-4 flex-shrink-0","aria-hidden":"true"}),h.jsxs("span",{className:"font-medium",children:["Save failed: ",r]})]}):t?h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg text-blue-700 dark:text-blue-300 text-sm animate-fade-in",children:[h.jsx(ux,{className:"w-4 h-4 flex-shrink-0 animate-spin","aria-hidden":"true"}),h.jsx("span",{className:"font-medium",children:"Saving..."})]}):e?h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-300 text-sm animate-fade-in",children:[h.jsx(Bc,{className:"w-4 h-4 flex-shrink-0","aria-hidden":"true"}),h.jsxs("span",{className:"font-medium",children:["Saved ",s(e)]})]}):null;return h.jsxs(h.Fragment,{children:[h.jsx(iI,{message:n(),mode:r?"assertive":"polite"}),i]})}aI.propTypes={isSaving:q.bool,lastSaved:q.instanceOf(Date),error:q.string};const S7=U.memo(aI);function oI({readOnly:t,isSaving:e,lastSaved:r,autoSaveError:n,canUndo:s,canRedo:i,onUndo:a,onRedo:o,onCreateNewSchedule:l,onShowHistory:c,onExport:f,scheduleStatus:d,selectedCount:p=0,onBulkAssign:m}){return h.jsx("div",{className:"bg-white dark:bg-slate-800 px-4 sm:px-6 py-3 border-b border-slate-200 dark:border-slate-700 flex-shrink-0 shadow-soft",children:h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-h3 text-slate-900 dark:text-slate-100",children:"Schedule Builder"}),h.jsx("p",{className:"text-caption text-slate-500 dark:text-slate-400 mt-0.5 hidden sm:block",children:"Click any cell to assign  Click DAR info icon for history"}),h.jsx("p",{className:"text-caption text-slate-500 dark:text-slate-400 mt-0.5 sm:hidden",children:"Tap to assign"})]}),!t&&h.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto",children:[h.jsx(S7,{isSaving:e,lastSaved:r,error:n}),p>0&&m&&h.jsxs("button",{onClick:m,className:"btn-pill bg-thr-blue-500 hover:bg-thr-blue-600 text-white flex items-center gap-1.5 shadow-soft hover:shadow-soft-md transition-all","aria-label":`Bulk assign ${p} selected employee${p>1?"s":""}`,children:[h.jsx(Oa,{className:"w-4 h-4","aria-hidden":"true"}),h.jsxs("span",{children:["Bulk Assign (",p,")"]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsxs("button",{onClick:a,disabled:!s,className:`btn-pill flex items-center gap-1.5 shadow-soft transition-all ${s?"bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 hover:shadow-soft-md":"bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-400 dark:text-slate-600 cursor-not-allowed"}`,"aria-label":"Undo (Ctrl+Z)",title:"Undo (Ctrl+Z)",children:[h.jsx(Z5,{className:"w-4 h-4","aria-hidden":"true"}),h.jsx("span",{className:"hidden sm:inline",children:"Undo"})]}),h.jsxs("button",{onClick:o,disabled:!i,className:`btn-pill flex items-center gap-1.5 shadow-soft transition-all ${i?"bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 hover:shadow-soft-md":"bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-400 dark:text-slate-600 cursor-not-allowed"}`,"aria-label":"Redo (Ctrl+Y)",title:"Redo (Ctrl+Y)",children:[h.jsx(G5,{className:"w-4 h-4","aria-hidden":"true"}),h.jsx("span",{className:"hidden sm:inline",children:"Redo"})]})]}),l&&h.jsxs("button",{className:"btn-pill bg-thr-green-500 hover:bg-thr-green-600 text-white flex items-center gap-1.5 shadow-soft hover:shadow-soft-md transition-all","aria-label":"Create new schedule",onClick:l,children:[h.jsx(El,{className:"w-4 h-4","aria-hidden":"true"}),h.jsx("span",{className:"hidden sm:inline",children:"New Schedule"}),h.jsx("span",{className:"sm:hidden",children:"New"})]}),h.jsxs("button",{onClick:c,className:"btn-pill bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 flex items-center gap-1.5 shadow-soft hover:shadow-soft-md transition-all","aria-label":"Show history",children:[h.jsx(B5,{className:"w-4 h-4","aria-hidden":"true"}),h.jsx("span",{className:"hidden sm:inline",children:"Show History"})]}),h.jsxs("button",{className:"btn-pill bg-slate-600 hover:bg-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 text-white flex items-center gap-1.5 shadow-soft hover:shadow-soft-md transition-all","aria-label":"Configuration",children:[h.jsx(fx,{className:"w-4 h-4","aria-hidden":"true"}),h.jsx("span",{className:"hidden sm:inline",children:"Config"})]}),h.jsxs("button",{onClick:f,className:"btn-pill bg-purple-600 hover:bg-purple-700 text-white flex items-center gap-1.5 shadow-soft hover:shadow-soft-md transition-all","aria-label":"Export to Excel",children:[h.jsx(U5,{className:"w-4 h-4","aria-hidden":"true"}),h.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),h.jsxs("div",{className:`btn-pill flex items-center gap-1.5 cursor-default ${d==="published"?"bg-thr-green-500 text-white":"bg-orange-500 text-white"}`,children:[h.jsx(fA,{className:"w-4 h-4","aria-hidden":"true"}),h.jsx("span",{children:d==="published"?"Published":"Unpublish (Draft)"})]})]})]})})}oI.propTypes={readOnly:q.bool,isSaving:q.bool,lastSaved:q.instanceOf(Date),autoSaveError:q.object,canUndo:q.bool,canRedo:q.bool,onUndo:q.func,onRedo:q.func,onCreateNewSchedule:q.func,onShowHistory:q.func.isRequired,onExport:q.func.isRequired,scheduleStatus:q.oneOf(["draft","published"]),selectedCount:q.number,onBulkAssign:q.func};const A7=U.memo(oI);function lI({scheduleName:t,startDate:e,endDate:r,scheduleStatus:n,readOnly:s,onScheduleNameChange:i,onStartDateChange:a,onEndDateChange:o}){return h.jsx("div",{className:"header-gradient px-4 sm:px-6 py-3 text-white flex-shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("button",{className:"p-2 hover:bg-white/10 rounded-xl transition-all duration-200 focus:ring-2 focus:ring-white/50","aria-label":"Previous schedule",children:h.jsx(M5,{className:"w-5 h-5","aria-hidden":"true"})}),h.jsxs("div",{className:"text-center flex-1 px-2",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[h.jsx(Cs,{className:"w-5 h-5 text-white/80","aria-hidden":"true"}),s?h.jsxs("div",{className:"inline-flex items-center gap-2 bg-thr-green-600/90 backdrop-blur-sm px-4 py-2 rounded-xl",children:[h.jsx("span",{className:"text-white font-semibold",children:""}),h.jsxs("span",{className:"font-semibold text-sm text-white",children:[t||"Schedule"," (",w7(e,r,!0)||"No dates",")"]})]}):h.jsxs("div",{className:"inline-flex items-center gap-2 bg-thr-green-600/90 backdrop-blur-sm px-4 py-2 rounded-xl",children:[h.jsx("span",{className:"text-white font-semibold",children:""}),h.jsx("input",{type:"text",value:t,onChange:l=>i(l.target.value),className:"bg-transparent text-white font-semibold text-sm text-center focus:outline-none placeholder:text-white/60 w-auto min-w-[120px]",placeholder:"Schedule name","aria-label":"Schedule name",style:{width:`${Math.max(120,((t==null?void 0:t.length)||12)*8)}px`}}),h.jsxs("span",{className:"text-white/90 text-sm",children:["(",e||"start"," to ",r||"end",")"]})]}),h.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold uppercase tracking-wider shadow-soft ${n==="published"?"bg-thr-green-500":"bg-orange-500"}`,children:n==="published"?"LIVE":"DRAFT"})]}),!s&&h.jsx("div",{className:"flex items-center justify-center gap-2 mt-2 text-white/80 text-sm",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"date",value:e,onChange:l=>a(l.target.value),className:"bg-white/20 backdrop-blur-md px-3 py-1.5 rounded-xl border border-white/30 text-white text-xs font-medium focus:bg-white/30 focus:outline-none focus:ring-2 focus:ring-white/40 shadow-soft transition-all duration-200 cursor-pointer hover:bg-white/25 [color-scheme:dark]","aria-label":"Schedule start date",style:{colorScheme:"dark"}}),h.jsx("span",{className:"text-white/80 text-xs font-medium",children:"to"}),h.jsx("input",{type:"date",value:r,onChange:l=>o(l.target.value),className:"bg-white/20 backdrop-blur-md px-3 py-1.5 rounded-xl border border-white/30 text-white text-xs font-medium focus:bg-white/30 focus:outline-none focus:ring-2 focus:ring-white/40 shadow-soft transition-all duration-200 cursor-pointer hover:bg-white/25 [color-scheme:dark]","aria-label":"Schedule end date",style:{colorScheme:"dark"}})]})})]}),h.jsx("button",{className:"p-2 hover:bg-white/10 rounded-xl transition-all duration-200 focus:ring-2 focus:ring-white/50","aria-label":"Next schedule",children:h.jsx(V5,{className:"w-5 h-5","aria-hidden":"true"})})]})})}lI.propTypes={scheduleName:q.string,startDate:q.string,endDate:q.string,scheduleStatus:q.oneOf(["draft","published"]),readOnly:q.bool,onScheduleNameChange:q.func,onStartDateChange:q.func,onEndDateChange:q.func};const I7=U.memo(lI);function cI({children:t,className:e=""}){return h.jsx("div",{className:`bg-slate-50 dark:bg-slate-900 p-3 ${e}`,children:h.jsx("div",{className:"flex flex-col bg-white dark:bg-slate-800 rounded-2xl shadow-card border border-slate-100 dark:border-slate-700",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx("table",{className:"w-full border-collapse min-w-max",role:"grid","aria-label":"Schedule assignments",children:t})})})})}cI.propTypes={children:q.node.isRequired,className:q.string};const b7=U.memo(cI);function N7(t){return!t||!t.skills?!1:t.skills.includes("DAR")||t.skills.includes("Float")}function C7(t,e,r){const n=new Set;return e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{parseInt(s)!==t&&(Array.isArray(i)?i.forEach(a=>n.add(a)):i&&n.add(i))}),Array.isArray(r)?r.filter(s=>!n.has(s.name)):[]}function Dw(t,e,r,n,s){const i=new Set;return n&&typeof n=="object"&&Object.values(n).forEach(a=>{Array.isArray(a)?a.forEach(o=>i.add(o)):a&&i.add(a)}),r&&typeof r=="object"&&Object.entries(r).forEach(([a,o])=>{a!==t?["newIncoming","crossTraining"].forEach(l=>{o[l]&&(Array.isArray(o[l])?o[l].forEach(c=>i.add(c)):i.add(o[l]))}):["newIncoming","crossTraining"].forEach(l=>{l!==e&&o[l]&&(Array.isArray(o[l])?o[l].forEach(c=>i.add(c)):i.add(o[l]))})}),Array.isArray(s)?s.filter(a=>!i.has(a.name)):[]}function uI({darColumns:t,darEntities:e,entities:r,editingDar:n,readOnly:s,onDarClick:i,onDarEntityToggle:a,onDarInfoClick:o,onEditingDarClose:l,onCpoeInfoClick:c,onNewIncomingInfoClick:f,onCrossTrainingInfoClick:d,onSpecialProjectsInfoClick:p,showBulkSelect:m=!1,allSelected:x=!1,onSelectAll:g}){return h.jsx("thead",{className:"sticky top-0 z-20",children:h.jsxs("tr",{className:"bg-gradient-to-r from-thr-blue-500 to-thr-blue-600 dark:from-thr-blue-600 dark:to-thr-blue-700 text-white",children:[m&&!s&&h.jsx("th",{scope:"col",className:"sticky left-0 bg-thr-blue-500 dark:bg-thr-blue-600 px-3 py-2.5 text-center z-30 w-12",children:h.jsx("input",{type:"checkbox",checked:x,onChange:g,className:"w-4 h-4 text-thr-blue-500 rounded focus:ring-2 focus:ring-white/50 cursor-pointer","aria-label":"Select all employees",title:"Select all employees"})}),h.jsx("th",{scope:"col",className:"sticky left-0 bg-thr-blue-500 dark:bg-thr-blue-600 px-3 py-2.5 text-left text-xs font-bold uppercase tracking-wider z-30 min-w-[140px]",children:"Team Member"}),t.map((y,E)=>h.jsxs("th",{scope:"col",className:"px-2 py-2.5 text-center text-xs font-bold uppercase tracking-wider min-w-[100px] relative",children:[h.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[h.jsx("span",{className:"text-xs",children:y}),!s&&h.jsx("button",{onClick:_=>{_.stopPropagation(),o(E)},className:"p-0.5 rounded hover:bg-white/20 transition-colors","aria-label":`View ${y} history and info`,title:"View DAR history",children:h.jsx(ko,{className:"w-3.5 h-3.5"})})]}),h.jsx("div",{className:"text-[10px] font-normal opacity-80",children:n===E&&!s?h.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 rounded-xl shadow-soft-lg p-3 z-50 max-h-48 overflow-y-auto min-w-[200px] border border-slate-200 dark:border-slate-600",role:"dialog","aria-label":"Select entities for DAR",children:[h.jsx("div",{className:"space-y-1",children:C7(E,e,r).map(_=>{const w=e[E]||[],B=(Array.isArray(w)?w:w?[w]:[]).includes(_.name);return h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 p-2 rounded-lg text-slate-900 dark:text-slate-100 transition-colors",children:[h.jsx("input",{type:"checkbox",checked:B,onChange:()=>a(E,_.name),className:"w-4 h-4 text-thr-blue-500 dark:text-thr-blue-400 rounded-md focus:ring-thr-blue-500 dark:bg-slate-700 dark:border-slate-600","aria-label":`Assign ${_.name} to ${y}`}),h.jsx("span",{className:"text-sm",children:_.name})]},_.id)})}),h.jsx("button",{onClick:l,className:"mt-3 w-full px-3 py-2 bg-thr-blue-500 dark:bg-thr-blue-600 text-white rounded-lg text-sm font-medium hover:bg-thr-blue-600 dark:hover:bg-thr-blue-500 focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 transition-colors","aria-label":"Close entity selection",children:"Done"})]}):h.jsx("button",{className:"cursor-pointer hover:bg-white/10 rounded-lg px-2 py-1 truncate w-full focus:ring-2 focus:ring-white/50 transition-colors",onClick:()=>!s&&i(E),title:Fa(e[E]),"aria-label":`Configure entities for ${y}. Current: ${Fa(e[E])||"None"}`,disabled:s,children:En(e[E])||"Select"})})]},E)),h.jsx("th",{scope:"col",className:"px-2 py-2.5 text-center text-xs font-bold uppercase tracking-wider min-w-[70px]",children:h.jsxs("div",{className:"flex items-center justify-center gap-1",children:[h.jsx("span",{children:"CPOE"}),!s&&c&&h.jsx("button",{onClick:y=>{y.stopPropagation(),c()},className:"p-0.5 rounded hover:bg-white/20 transition-colors","aria-label":"View CPOE history",title:"View CPOE history",children:h.jsx(ko,{className:"w-3.5 h-3.5"})})]})}),h.jsx("th",{scope:"col",className:"px-2 py-2.5 text-center text-xs font-bold uppercase tracking-wider min-w-[90px]",children:h.jsxs("div",{className:"flex items-center justify-center gap-1",children:[h.jsxs("span",{children:["New Incoming",h.jsx("br",{}),"Items"]}),!s&&f&&h.jsx("button",{onClick:y=>{y.stopPropagation(),f()},className:"p-0.5 rounded hover:bg-white/20 transition-colors","aria-label":"View New Incoming history",title:"View New Incoming history",children:h.jsx(ko,{className:"w-3.5 h-3.5"})})]})}),h.jsx("th",{scope:"col",className:"px-2 py-2.5 text-center text-xs font-bold uppercase tracking-wider min-w-[90px]",children:h.jsxs("div",{className:"flex items-center justify-center gap-1",children:[h.jsxs("span",{children:["Cross-",h.jsx("br",{}),"Training"]}),!s&&d&&h.jsx("button",{onClick:y=>{y.stopPropagation(),d()},className:"p-0.5 rounded hover:bg-white/20 transition-colors","aria-label":"View Cross-Training history",title:"View Cross-Training history",children:h.jsx(ko,{className:"w-3.5 h-3.5"})})]})}),h.jsx("th",{scope:"col",className:"px-2 py-2.5 text-center text-xs font-bold uppercase tracking-wider min-w-[100px]",children:h.jsxs("div",{className:"flex items-center justify-center gap-1",children:[h.jsxs("span",{children:["Special",h.jsx("br",{}),"Projects"]}),!s&&p&&h.jsx("button",{onClick:y=>{y.stopPropagation(),p()},className:"p-0.5 rounded hover:bg-white/20 transition-colors","aria-label":"View Special Projects history",title:"View Special Projects history",children:h.jsx(ko,{className:"w-3.5 h-3.5"})})]})})]})})}uI.propTypes={darColumns:q.arrayOf(q.string).isRequired,darEntities:q.object.isRequired,entities:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired})).isRequired,editingDar:q.number,readOnly:q.bool,onDarClick:q.func.isRequired,onDarEntityToggle:q.func.isRequired,onDarInfoClick:q.func.isRequired,onEditingDarClose:q.func.isRequired,onCpoeInfoClick:q.func,onNewIncomingInfoClick:q.func,onCrossTrainingInfoClick:q.func,onSpecialProjectsInfoClick:q.func,showBulkSelect:q.bool,allSelected:q.bool,onSelectAll:q.func};const R7=U.memo(uI);function hI({isOpen:t,onClose:e,selectedEmployees:r,employees:n,entities:s,darColumns:i,onApply:a}){const[o,l]=U.useState("dar"),[c,f]=U.useState(0),[d,p]=U.useState([]),[m,x]=U.useState(null),g=U.useMemo(()=>n.filter(w=>r.has(w.id)),[n,r]),y=()=>{const w={successful:[],failed:[]};g.forEach(b=>{var S,k,A;let B=!1,G="";switch(o){case"dar":B=((S=b.skills)==null?void 0:S.includes("DAR"))||((k=b.skills)==null?void 0:k.includes("Trace")),G=B?"":"Employee does not have DAR/Trace skill";break;case"cpoe":B=(A=b.skills)==null?void 0:A.includes("CPOE"),G=B?"":"Employee does not have CPOE skill";break;case"newIncoming":case"crossTraining":case"specialProjects":B=d.length>0,G=B?"":"No entities selected";break;default:B=!1,G="Invalid assignment type"}B?w.successful.push({employeeId:b.id,employeeName:b.name,type:o,darIndex:o==="dar"?c:null,entities:d}):w.failed.push({employeeId:b.id,employeeName:b.name,reason:G})}),x(w)},E=()=>{m&&(a(m.successful),e(),x(null),p([]))},_=w=>{p(b=>b.includes(w)?b.filter(B=>B!==w):[...b,w])};return t?h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 animate-fade-in",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-soft-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-thr-blue-100 dark:bg-thr-blue-900/30 rounded-lg",children:h.jsx(Oa,{className:"w-5 h-5 text-thr-blue-600 dark:text-thr-blue-400"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-h4 text-slate-900 dark:text-slate-100",children:"Bulk Assignment"}),h.jsxs("p",{className:"text-caption text-slate-500 dark:text-slate-400",children:["Assign ",r.size," employee",r.size>1?"s":""]})]})]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors","aria-label":"Close modal",children:h.jsx(qa,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"assignment-type",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Assignment Type"}),h.jsxs("select",{id:"assignment-type",value:o,onChange:w=>{l(w.target.value),x(null)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-thr-blue-500 focus:border-transparent",children:[h.jsx("option",{value:"dar",children:"DAR (Daily Appointment Review)"}),h.jsx("option",{value:"cpoe",children:"CPOE"}),h.jsx("option",{value:"newIncoming",children:"New Incoming Items"}),h.jsx("option",{value:"crossTraining",children:"Cross-Training"}),h.jsx("option",{value:"specialProjects",children:"Special Projects"})]})]}),o==="dar"&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"dar-column",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"DAR Column"}),h.jsx("select",{id:"dar-column",value:c,onChange:w=>{f(parseInt(w.target.value)),x(null)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-thr-blue-500 focus:border-transparent",children:i.map((w,b)=>h.jsx("option",{value:b,children:w},b))})]}),["newIncoming","crossTraining","specialProjects"].includes(o)&&h.jsxs("div",{children:[h.jsx("label",{id:"select-entities-label",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Select Entities"}),h.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg p-3 max-h-48 overflow-y-auto space-y-2",role:"group","aria-labelledby":"select-entities-label",children:s.map(w=>h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 p-2 rounded-lg transition-colors",children:[h.jsx("input",{type:"checkbox",checked:d.includes(w.name),onChange:()=>_(w.name),className:"w-4 h-4 text-thr-blue-500 rounded focus:ring-2 focus:ring-thr-blue-500"}),h.jsx("span",{className:"text-sm text-slate-900 dark:text-slate-100",children:w.name})]},w.id))})]}),h.jsx("button",{onClick:y,className:"w-full px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white rounded-lg font-medium transition-colors",children:"Preview Assignments"}),m&&h.jsxs("div",{className:"space-y-4",children:[m.successful.length>0&&h.jsxs("div",{className:"border border-thr-green-200 dark:border-thr-green-800 rounded-lg p-4 bg-thr-green-50 dark:bg-thr-green-900/20",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(hA,{className:"w-5 h-5 text-thr-green-600 dark:text-thr-green-400"}),h.jsxs("h3",{className:"font-medium text-thr-green-900 dark:text-thr-green-100",children:["Successful (",m.successful.length,")"]})]}),h.jsx("ul",{className:"space-y-1 text-sm text-thr-green-800 dark:text-thr-green-200",children:m.successful.map((w,b)=>h.jsxs("li",{children:[" ",w.employeeName]},b))})]}),m.failed.length>0&&h.jsxs("div",{className:"border border-red-200 dark:border-red-800 rounded-lg p-4 bg-red-50 dark:bg-red-900/20",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(Vl,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),h.jsxs("h3",{className:"font-medium text-red-900 dark:text-red-100",children:["Failed (",m.failed.length,")"]})]}),h.jsx("ul",{className:"space-y-2 text-sm text-red-800 dark:text-red-200",children:m.failed.map((w,b)=>h.jsxs("li",{children:[h.jsxs("span",{className:"font-medium",children:[w.employeeName,":"]})," ",w.reason]},b))})]})]})]}),h.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-700",children:[h.jsx("button",{onClick:e,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:E,disabled:!m||m.successful.length===0,className:`px-4 py-2 rounded-lg font-medium transition-colors ${m&&m.successful.length>0?"bg-thr-blue-500 hover:bg-thr-blue-600 text-white":"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-500 cursor-not-allowed"}`,children:"Apply Assignments"})]})]})}):null}hI.propTypes={isOpen:q.bool.isRequired,onClose:q.func.isRequired,selectedEmployees:q.instanceOf(Set).isRequired,employees:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired,skills:q.arrayOf(q.string)})).isRequired,entities:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired})).isRequired,darColumns:q.arrayOf(q.string).isRequired,onApply:q.func.isRequired};function P7(t,e,r={}){const{delay:n=2e3,enabled:s=!0}=r,[i,a]=U.useState(!1),[o,l]=U.useState(null),[c,f]=U.useState(null),[d,p]=U.useState(!1),m=U.useRef(null),x=U.useRef(null),g=U.useRef(!0);U.useEffect(()=>{x.current===null&&t&&(x.current=JSON.stringify(t))},[]);const y=U.useCallback(()=>{if(!t||x.current===null)return!1;try{return JSON.stringify(t)!==x.current}catch(_){return rt.error("Error comparing data for auto-save:",_),!1}},[t]),E=U.useCallback(async()=>{if(!(!e||!t)){a(!0),f(null);try{await e(t),g.current&&(l(new Date),p(!1),x.current=JSON.stringify(t),rt.info("Auto-save completed successfully"))}catch(_){g.current&&(f(_.message||"Failed to save"),rt.error("Auto-save failed:",_))}finally{g.current&&a(!1)}}},[t,e]);return U.useEffect(()=>{if(!(!s||!e||!t))return y()&&(p(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{E()},n)),()=>{m.current&&clearTimeout(m.current)}},[t,s,n,y,E,e]),U.useEffect(()=>()=>{g.current=!1,m.current&&clearTimeout(m.current)},[]),{isSaving:i,lastSaved:o,error:c,hasUnsavedChanges:d,forceSave:E}}class D7{constructor(e,r={}){this.limit=r.limit||50,this.undoStack=[],this.redoStack=[],this.currentState=e}addChange(e){this.undoStack.push(this.currentState),this.undoStack.length>this.limit&&this.undoStack.shift(),this.redoStack=[],this.currentState=e}undo(){return this.canUndo()?(this.redoStack.push(this.currentState),this.currentState=this.undoStack.pop(),this.currentState):this.currentState}redo(){return this.canRedo()?(this.undoStack.push(this.currentState),this.currentState=this.redoStack.pop(),this.currentState):this.currentState}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}getCurrentState(){return this.currentState}clear(){this.undoStack=[],this.redoStack=[]}getUndoStackSize(){return this.undoStack.length}getRedoStackSize(){return this.redoStack.length}}function O7(t,e={}){const r=U.useRef(null);r.current===null&&(r.current=new D7(t,e));const[n,s]=U.useState(t),[i,a]=U.useState(!1),[o,l]=U.useState(!1),c=U.useCallback(()=>{r.current&&(a(r.current.canUndo()),l(r.current.canRedo()))},[]),f=U.useCallback(x=>{if(r.current){const g=typeof x=="function"?x(r.current.getCurrentState()):x;r.current.addChange(g),s(g),c()}},[c]),d=U.useCallback(()=>{if(r.current&&r.current.canUndo()){const x=r.current.undo();s(x),c()}},[c]),p=U.useCallback(()=>{if(r.current&&r.current.canRedo()){const x=r.current.redo();s(x),c()}},[c]),m=U.useCallback(()=>{r.current&&(r.current.clear(),c())},[c]);return U.useEffect(()=>{c()},[c]),{state:n,setState:f,undo:d,redo:p,canUndo:i,canRedo:o,clearHistory:m}}function F7(t,e,r={}){const n=[],s=[];if(!t||!e)return{conflicts:n,warnings:s,hasIssues:!1};const i=new Map;return e.forEach(a=>{a&&a.id&&i.set(a.id,a)}),Object.entries(t).forEach(([a,o])=>{var f;const l=i.get(a);if(!l)return;o.dars&&Array.isArray(o.dars)&&(o.dars.forEach(d=>{var m,x;((m=l.skills)==null?void 0:m.includes("DAR"))||((x=l.skills)==null?void 0:x.includes("Float"))||n.push({type:"skill_mismatch",severity:"error",employeeId:a,employeeName:l.name,field:"dars",darIndex:d,message:`${l.name} is assigned to DAR ${d+1} but lacks DAR or Float skill`})}),o.dars.length>1&&s.push({type:"multiple_dars",severity:"warning",employeeId:a,employeeName:l.name,field:"dars",count:o.dars.length,message:`${l.name} is assigned to ${o.dars.length} DAR columns`})),o.cpoe&&((f=l.skills)!=null&&f.includes("CPOE")||n.push({type:"skill_mismatch",severity:"error",employeeId:a,employeeName:l.name,field:"cpoe",message:`${l.name} is assigned to CPOE but lacks CPOE skill`}));const c=[];["newIncoming","crossTraining"].forEach(d=>{o[d]&&(Array.isArray(o[d])?o[d]:[o[d]]).forEach(m=>{m&&c.push({field:d,entity:m})})}),c.length>1&&s.push({type:"multiple_entities",severity:"warning",employeeId:a,employeeName:l.name,count:c.length,entities:c,message:`${l.name} is assigned to ${c.length} different entities`})}),{conflicts:n,warnings:s,hasIssues:n.length>0||s.length>0}}function Ax(t,e={}){if(!t)return 0;let r=0;if(t.dars&&Array.isArray(t.dars)&&(r+=t.dars.length*3),t.cpoe&&(r+=2),t.newIncoming){const n=Array.isArray(t.newIncoming)?t.newIncoming.length:t.newIncoming?1:0;r+=n*2}if(t.crossTraining){const n=Array.isArray(t.crossTraining)?t.crossTraining.length:t.crossTraining?1:0;r+=n*1}return nI(t.specialProjects)&&(r+=1),r}function j7(t,e,r={}){if(!t||!e)return{imbalances:[],workloadMap:new Map,avgWorkload:0};const n=new Map;let s=0,i=0;e.forEach(l=>{if(l&&!l.archived){const c=t[l.id]||{},f=Ax(c,r);n.set(l.id,{employeeId:l.id,employeeName:l.name,workload:f,assignment:c}),s+=f,i++}});const a=i>0?s/i:0,o=[];return n.forEach((l,c)=>{if(a>0){const f=l.workload/a;f>1.5?o.push({type:"overloaded",severity:"warning",employeeId:c,employeeName:l.employeeName,workload:l.workload,avgWorkload:a,ratio:f,message:`${l.employeeName} has ${Math.round(f*100)}% of average workload (overloaded)`}):f<.5&&l.workload>0&&o.push({type:"underloaded",severity:"info",employeeId:c,employeeName:l.employeeName,workload:l.workload,avgWorkload:a,ratio:f,message:`${l.employeeName} has ${Math.round(f*100)}% of average workload (underloaded)`})}}),{imbalances:o,workloadMap:n,avgWorkload:a}}function L7(t,e,r){return U.useMemo(()=>{const s=F7(t,e,r),i=j7(t,e,r);return{conflicts:s.conflicts,warnings:s.warnings,workloadImbalances:i.imbalances,workloadMap:i.workloadMap,avgWorkload:i.avgWorkload,hasIssues:s.hasIssues||i.imbalances.length>0,totalIssues:s.conflicts.length+s.warnings.length+i.imbalances.length}},[t,e,r])}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var pd={};pd.version="0.18.5";var fI=1252,M7=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],dI=function(t){M7.indexOf(t)!=-1&&(fI=t)};function V7(){dI(1252)}var Au=function(t){dI(t)};function U7(){Au(1200),V7()}var Wh=function(e){return String.fromCharCode(e)},Ow=function(e){return String.fromCharCode(e)},md,ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Iu(t){for(var e="",r=0,n=0,s=0,i=0,a=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),i=r>>2,n=t.charCodeAt(c++),a=(r&3)<<4|n>>4,s=t.charCodeAt(c++),o=(n&15)<<2|s>>6,l=s&63,isNaN(n)?o=l=64:isNaN(s)&&(l=64),e+=ji.charAt(i)+ji.charAt(a)+ji.charAt(o)+ji.charAt(l);return e}function ai(t){var e="",r=0,n=0,s=0,i=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)i=ji.indexOf(t.charAt(c++)),a=ji.indexOf(t.charAt(c++)),r=i<<2|a>>4,e+=String.fromCharCode(r),o=ji.indexOf(t.charAt(c++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=ji.indexOf(t.charAt(c++)),s=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(s));return e}var ot=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ui=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Ka(t){return ot?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Fw(t){return ot?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ss=function(e){return ot?ui(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function S0(t){if(typeof ArrayBuffer>"u")return ss(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function eh(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function B7(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Tr=ot?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:ui(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function $7(t){for(var e=[],r=0,n=t.length+250,s=Ka(t.length+255),i=0;i<t.length;++i){var a=t.charCodeAt(i);if(a<128)s[r++]=a;else if(a<2048)s[r++]=192|a>>6&31,s[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++i)&1023;s[r++]=240|a>>8&7,s[r++]=128|a>>2&63,s[r++]=128|o>>6&15|(a&3)<<4,s[r++]=128|o&63}else s[r++]=224|a>>12&15,s[r++]=128|a>>6&63,s[r++]=128|a&63;r>n&&(e.push(s.slice(0,r)),r=0,s=Ka(65535),n=65530)}return e.push(s.slice(0,r)),Tr(e)}var $c=/\u0000/g,Hh=/[\u0001-\u0006]/g;function rl(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function os(t,e){var r=""+t;return r.length>=e?r:Ht("0",e-r.length)+r}function Ix(t,e){var r=""+t;return r.length>=e?r:Ht(" ",e-r.length)+r}function gd(t,e){var r=""+t;return r.length>=e?r:r+Ht(" ",e-r.length)}function z7(t,e){var r=""+Math.round(t);return r.length>=e?r:Ht("0",e-r.length)+r}function W7(t,e){var r=""+t;return r.length>=e?r:Ht("0",e-r.length)+r}var jw=Math.pow(2,32);function xo(t,e){if(t>jw||t<-jw)return z7(t,e);var r=Math.round(t);return W7(r,e)}function vd(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Lw=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Np=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function H7(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Gt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Mw={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},G7={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function xd(t,e,r){for(var n=t<0?-1:1,s=t*n,i=0,a=1,o=0,l=1,c=0,f=0,d=Math.floor(s);c<e&&(d=Math.floor(s),o=d*a+i,f=d*c+l,!(s-d<5e-8));)s=1/(s-d),i=a,a=o,l=c,c=f;if(f>e&&(c>e?(f=l,o=i):(f=c,o=a)),!r)return[0,n*o,f];var p=Math.floor(n*o/f);return[p,n*o-p*f,f]}function Gh(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),i=0,a=[],o={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=J7(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=i,o}var pI=new Date(1899,11,31,0,0,0),q7=pI.getTime(),K7=new Date(1900,2,1,0,0,0);function mI(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=K7&&(r+=24*60*60*1e3),(r-(q7+(t.getTimezoneOffset()-pI.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function bx(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Z7(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function X7(t){var e=t<0?12:11,r=bx(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function Y7(t){var e=bx(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Q7(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=X7(t):e===10?r=t.toFixed(10).substr(0,12):r=Y7(t),bx(Z7(r.toUpperCase()))}function ug(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Q7(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return sa(14,mI(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function J7(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function eV(t,e,r,n){var s="",i=0,a=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return Np[r.m-1][1];case 5:return Np[r.m-1][0];default:return Np[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return Lw[r.q][0];default:return Lw[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?os(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,i=Math.round(a*(r.S+r.u)),i>=60*a&&(i=0),e==="s"?i===0?"0":""+i/a:(s=os(i,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var f=c>0?os(l,c):"";return f}function Li(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var gI=/%/g;function tV(t,e,r){var n=e.replace(gI,""),s=e.length-n.length;return Ks(t,n,r*Math.pow(10,2*s))+Ht("%",s)}function rV(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ks(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function vI(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+vI(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+i):r+="E+"+(a-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var xI=/# (\?+)( ?)\/( ?)(\d+)/;function nV(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),i=Math.floor(s/n),a=s-i*n,o=n;return r+(i===0?"":""+i)+" "+(a===0?Ht(" ",t[1].length+1+t[4].length):Ix(a,t[1].length)+t[2]+"/"+t[3]+os(o,t[4].length))}function sV(t,e,r){return r+(e===0?"":""+e)+Ht(" ",t[1].length+2+t[4].length)}var yI=/^#*0*\.([0#]+)/,_I=/\).*[0#]/,wI=/\(###\) ###\\?-####/;function Zr(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function Vw(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function Uw(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function iV(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function aV(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Mn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(_I)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Mn("n",n,r):"("+Mn("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return rV(t,e,r);if(e.indexOf("%")!==-1)return tV(t,e,r);if(e.indexOf("E")!==-1)return vI(e,r);if(e.charCodeAt(0)===36)return"$"+Mn(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+xo(l,e.length);if(e.match(/^[#?]+$/))return s=xo(r,0),s==="0"&&(s=""),s.length>e.length?s:Zr(e.substr(0,e.length-s.length))+s;if(i=e.match(xI))return nV(i,l,c);if(e.match(/^#+0+$/))return c+xo(l,e.length-e.indexOf("0"));if(i=e.match(yI))return s=Vw(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Zr(i[1])).replace(/\.$/,"."+Zr(i[1])).replace(/\.(\d*)$/,function(x,g){return"."+g+Ht("0",Zr(i[1]).length-g.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+Vw(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+Li(xo(l,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Mn(t,e,-r):Li(""+(Math.floor(r)+iV(r,i[1].length)))+"."+os(Uw(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Mn(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=rl(Mn(t,e.replace(/[\\-]/g,""),r)),a=0,rl(rl(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<s.length?s.charAt(a++):x==="0"?"0":""}));if(e.match(wI))return s=Mn(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=xd(l,Math.pow(10,a)-1,!1),s=""+c,f=Ks("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=gd(o[2],a),f.length<i[4].length&&(f=Zr(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=xd(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ix(o[1],a)+i[2]+"/"+i[3]+gd(o[2],a):Ht(" ",2*a+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=xo(r,0),e.length<=s.length?s:Zr(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var d=e.indexOf(".")-a,p=e.length-s.length-d;return Zr(e.substr(0,d)+s+e.substr(e.length-p))}if(i=e.match(/^00,000\.([#0]*0)$/))return a=Uw(r,i[1].length),r<0?"-"+Mn(t,e,-r):Li(aV(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?os(0,3-x.length):"")+x})+"."+os(a,i[1].length);switch(e){case"###,##0.00":return Mn(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Li(xo(l,0));return m!=="0"?c+m:"";case"###,###.00":return Mn(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Mn(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function oV(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ks(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function lV(t,e,r){var n=e.replace(gI,""),s=e.length-n.length;return Ks(t,n,r*Math.pow(10,2*s))+Ht("%",s)}function EI(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+EI(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+i):r+="E+"+(a-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ys(t,e,r){if(t.charCodeAt(0)===40&&!e.match(_I)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ys("n",n,r):"("+ys("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return oV(t,e,r);if(e.indexOf("%")!==-1)return lV(t,e,r);if(e.indexOf("E")!==-1)return EI(e,r);if(e.charCodeAt(0)===36)return"$"+ys(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+os(l,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:Zr(e.substr(0,e.length-s.length))+s;if(i=e.match(xI))return sV(i,l,c);if(e.match(/^#+0+$/))return c+os(l,e.length-e.indexOf("0"));if(i=e.match(yI))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Zr(i[1])).replace(/\.$/,"."+Zr(i[1])),s=s.replace(/\.(\d*)$/,function(x,g){return"."+g+Ht("0",Zr(i[1]).length-g.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+Li(""+l);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ys(t,e,-r):Li(""+r)+"."+Ht("0",i[1].length);if(i=e.match(/^#,#*,#0/))return ys(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=rl(ys(t,e.replace(/[\\-]/g,""),r)),a=0,rl(rl(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<s.length?s.charAt(a++):x==="0"?"0":""}));if(e.match(wI))return s=ys(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=xd(l,Math.pow(10,a)-1,!1),s=""+c,f=Ks("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=gd(o[2],a),f.length<i[4].length&&(f=Zr(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=xd(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ix(o[1],a)+i[2]+"/"+i[3]+gd(o[2],a):Ht(" ",2*a+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:Zr(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var d=e.indexOf(".")-a,p=e.length-s.length-d;return Zr(e.substr(0,d)+s+e.substr(e.length-p))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ys(t,e,-r):Li(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?os(0,3-x.length):"")+x})+"."+os(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Li(""+l);return m!=="0"?c+m:"";default:if(e.match(/\.[0#?]*$/))return ys(t,e.slice(0,e.lastIndexOf(".")),r)+Zr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ks(t,e,r){return(r|0)===r?ys(t,e,r):Mn(t,e,r)}function cV(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var TI=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function kI(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":vd(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(TI))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function uV(t,e,r,n){for(var s=[],i="",a=0,o="",l="t",c,f,d,p="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!vd(t,a))throw new Error("unrecognized character "+o+" in "+t);s[s.length]={t:"G",v:"General"},a+=7;break;case'"':for(i="";(d=t.charCodeAt(++a))!==34&&a<t.length;)i+=String.fromCharCode(d);s[s.length]={t:"t",v:i},++a;break;case"\\":var m=t.charAt(++a),x=m==="("||m===")"?m:"t";s[s.length]={t:x,v:m},++a;break;case"_":s[s.length]={t:"t",v:" "},a+=2;break;case"@":s[s.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=Gh(e,r,t.charAt(a+1)==="2"),c==null))return"";s[s.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Gh(e,r),c==null))return"";for(i=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),s[s.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=Gh(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",p="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,p="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",a+=5,p="h"):(g.t="t",++a),c==null&&g.t==="T")return"";s[s.length]=g,l=o;break;case"[":for(i=o;t.charAt(a++)!=="]"&&a<t.length;)i+=t.charAt(a);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(TI)){if(c==null&&(c=Gh(e,r),c==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",kI(t)||(s[s.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++a<t.length&&(o=t.charAt(a))==="0";)i+=o;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)i+=o;s[s.length]={t:"n",v:i};break;case"?":for(i=o;t.charAt(++a)===o;)i+=o;s[s.length]={t:o,v:i},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":s[s.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)i+=t.charAt(a);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:o,v:o},++a;break;case"$":s[s.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);s[s.length]={t:"t",v:o},++a;break}var y=0,E=0,_;for(a=s.length-1,l="t";a>=0;--a)switch(s[a].t){case"h":case"H":s[a].t=p,l="h",y<1&&(y=1);break;case"s":(_=s[a].v.match(/\.0+$/))&&(E=Math.max(E,_[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=s[a].t;break;case"m":l==="s"&&(s[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&s[a].v.match(/[Hh]/)&&(y=1),y<2&&s[a].v.match(/[Mm]/)&&(y=2),y<3&&s[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",b;for(a=0;a<s.length;++a)switch(s[a].t){case"t":case"T":case" ":case"D":break;case"X":s[a].v="",s[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[a].v=eV(s[a].t.charCodeAt(0),s[a].v,c,E),s[a].t="t";break;case"n":case"?":for(b=a+1;s[b]!=null&&((o=s[b].t)==="?"||o==="D"||(o===" "||o==="t")&&s[b+1]!=null&&(s[b+1].t==="?"||s[b+1].t==="t"&&s[b+1].v==="/")||s[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[b].v==="/"||s[b].v===" "&&s[b+1]!=null&&s[b+1].t=="?"));)s[a].v+=s[b].v,s[b]={v:"",t:";"},++b;w+=s[a].v,a=b-1;break;case"G":s[a].t="t",s[a].v=ug(e,r);break}var B="",G,S;if(w.length>0){w.charCodeAt(0)==40?(G=e<0&&w.charCodeAt(0)===45?-e:e,S=Ks("n",w,G)):(G=e<0&&n>1?-e:e,S=Ks("n",w,G),G<0&&s[0]&&s[0].t=="t"&&(S=S.substr(1),s[0].v="-"+s[0].v)),b=S.length-1;var k=s.length;for(a=0;a<s.length;++a)if(s[a]!=null&&s[a].t!="t"&&s[a].v.indexOf(".")>-1){k=a;break}var A=s.length;if(k===s.length&&S.indexOf("E")===-1){for(a=s.length-1;a>=0;--a)s[a]==null||"n?".indexOf(s[a].t)===-1||(b>=s[a].v.length-1?(b-=s[a].v.length,s[a].v=S.substr(b+1,s[a].v.length)):b<0?s[a].v="":(s[a].v=S.substr(0,b+1),b=-1),s[a].t="t",A=a);b>=0&&A<s.length&&(s[A].v=S.substr(0,b+1)+s[A].v)}else if(k!==s.length&&S.indexOf("E")===-1){for(b=S.indexOf(".")-1,a=k;a>=0;--a)if(!(s[a]==null||"n?".indexOf(s[a].t)===-1)){for(f=s[a].v.indexOf(".")>-1&&a===k?s[a].v.indexOf(".")-1:s[a].v.length-1,B=s[a].v.substr(f+1);f>=0;--f)b>=0&&(s[a].v.charAt(f)==="0"||s[a].v.charAt(f)==="#")&&(B=S.charAt(b--)+B);s[a].v=B,s[a].t="t",A=a}for(b>=0&&A<s.length&&(s[A].v=S.substr(0,b+1)+s[A].v),b=S.indexOf(".")+1,a=k;a<s.length;++a)if(!(s[a]==null||"n?(".indexOf(s[a].t)===-1&&a!==k)){for(f=s[a].v.indexOf(".")>-1&&a===k?s[a].v.indexOf(".")+1:0,B=s[a].v.substr(0,f);f<s[a].v.length;++f)b<S.length&&(B+=S.charAt(b++));s[a].v=B,s[a].t="t",A=a}}}for(a=0;a<s.length;++a)s[a]!=null&&"n?".indexOf(s[a].t)>-1&&(G=n>1&&e<0&&a>0&&s[a-1].v==="-"?-e:e,s[a].v=Ks(s[a].t,s[a].v,G),s[a].t="t");var N="";for(a=0;a!==s.length;++a)s[a]!=null&&(N+=s[a].v);return N}var Bw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $w(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function hV(t,e){var r=cV(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(Bw),o=r[1].match(Bw);return $w(e,a)?[n,r[0]]:$w(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,i]}function sa(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Gt)[t],n==null&&(n=r.table&&r.table[Mw[t]]||Gt[Mw[t]]),n==null&&(n=G7[t]||"General");break}if(vd(n,0))return ug(e,r);e instanceof Date&&(e=mI(e,r.date1904));var s=hV(n,e);if(vd(s[1]))return ug(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return uV(s[1],e,r,s[0])}function SI(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Gt[r]==null){e<0&&(e=r);continue}if(Gt[r]==t){e=r;break}}e<0&&(e=391)}return Gt[e]=t,e}function A0(t){for(var e=0;e!=392;++e)t[e]!==void 0&&SI(t[e],e)}function I0(){Gt=H7()}var AI=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function fV(t){var e=typeof t=="number"?Gt[t]:t;return e=e.replace(AI,"(\\d+)"),new RegExp("^"+e+"$")}function dV(t,e,r){var n=-1,s=-1,i=-1,a=-1,o=-1,l=-1;(e.match(AI)||[]).forEach(function(d,p){var m=parseInt(r[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:s=m;break}}),l>=0&&o==-1&&s>=0&&(o=s,s=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var f=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:n==-1&&s==-1&&i==-1?f:c+"T"+f}var pV=function(){var t={};t.version="1.2.0";function e(){for(var S=0,k=new Array(256),A=0;A!=256;++A)S=A,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,k[A]=S;return typeof Int32Array<"u"?new Int32Array(k):k}var r=e();function n(S){var k=0,A=0,N=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)R[N]=S[N];for(N=0;N!=256;++N)for(A=S[N],k=256+N;k<4096;k+=256)A=R[k]=A>>>8^S[A&255];var j=[];for(N=1;N!=16;++N)j[N-1]=typeof Int32Array<"u"?R.subarray(N*256,N*256+256):R.slice(N*256,N*256+256);return j}var s=n(r),i=s[0],a=s[1],o=s[2],l=s[3],c=s[4],f=s[5],d=s[6],p=s[7],m=s[8],x=s[9],g=s[10],y=s[11],E=s[12],_=s[13],w=s[14];function b(S,k){for(var A=k^-1,N=0,R=S.length;N<R;)A=A>>>8^r[(A^S.charCodeAt(N++))&255];return~A}function B(S,k){for(var A=k^-1,N=S.length-15,R=0;R<N;)A=w[S[R++]^A&255]^_[S[R++]^A>>8&255]^E[S[R++]^A>>16&255]^y[S[R++]^A>>>24]^g[S[R++]]^x[S[R++]]^m[S[R++]]^p[S[R++]]^d[S[R++]]^f[S[R++]]^c[S[R++]]^l[S[R++]]^o[S[R++]]^a[S[R++]]^i[S[R++]]^r[S[R++]];for(N+=15;R<N;)A=A>>>8^r[(A^S[R++])&255];return~A}function G(S,k){for(var A=k^-1,N=0,R=S.length,j=0,D=0;N<R;)j=S.charCodeAt(N++),j<128?A=A>>>8^r[(A^j)&255]:j<2048?(A=A>>>8^r[(A^(192|j>>6&31))&255],A=A>>>8^r[(A^(128|j&63))&255]):j>=55296&&j<57344?(j=(j&1023)+64,D=S.charCodeAt(N++)&1023,A=A>>>8^r[(A^(240|j>>8&7))&255],A=A>>>8^r[(A^(128|j>>2&63))&255],A=A>>>8^r[(A^(128|D>>6&15|(j&3)<<4))&255],A=A>>>8^r[(A^(128|D&63))&255]):(A=A>>>8^r[(A^(224|j>>12&15))&255],A=A>>>8^r[(A^(128|j>>6&63))&255],A=A>>>8^r[(A^(128|j&63))&255]);return~A}return t.table=r,t.bstr=b,t.buf=B,t.str=G,t}(),vt=function(){var e={};e.version="1.2.1";function r(I,F){for(var P=I.split("/"),O=F.split("/"),L=0,M=0,Z=Math.min(P.length,O.length);L<Z;++L){if(M=P[L].length-O[L].length)return M;if(P[L]!=O[L])return P[L]<O[L]?-1:1}return P.length-O.length}function n(I){if(I.charAt(I.length-1)=="/")return I.slice(0,-1).indexOf("/")===-1?I:n(I.slice(0,-1));var F=I.lastIndexOf("/");return F===-1?I:I.slice(0,F+1)}function s(I){if(I.charAt(I.length-1)=="/")return s(I.slice(0,-1));var F=I.lastIndexOf("/");return F===-1?I:I.slice(F+1)}function i(I,F){typeof F=="string"&&(F=new Date(F));var P=F.getHours();P=P<<6|F.getMinutes(),P=P<<5|F.getSeconds()>>>1,I.write_shift(2,P);var O=F.getFullYear()-1980;O=O<<4|F.getMonth()+1,O=O<<5|F.getDate(),I.write_shift(2,O)}function a(I){var F=I.read_shift(2)&65535,P=I.read_shift(2)&65535,O=new Date,L=P&31;P>>>=5;var M=P&15;P>>>=4,O.setMilliseconds(0),O.setFullYear(P+1980),O.setMonth(M-1),O.setDate(L);var Z=F&31;F>>>=5;var ee=F&63;return F>>>=6,O.setHours(F),O.setMinutes(ee),O.setSeconds(Z<<1),O}function o(I){Sn(I,0);for(var F={},P=0;I.l<=I.length-4;){var O=I.read_shift(2),L=I.read_shift(2),M=I.l+L,Z={};switch(O){case 21589:P=I.read_shift(1),P&1&&(Z.mtime=I.read_shift(4)),L>5&&(P&2&&(Z.atime=I.read_shift(4)),P&4&&(Z.ctime=I.read_shift(4))),Z.mtime&&(Z.mt=new Date(Z.mtime*1e3));break}I.l=M,F[O]=Z}return F}var l;function c(){return l||(l={})}function f(I,F){if(I[0]==80&&I[1]==75)return le(I,F);if((I[0]|32)==109&&(I[1]|32)==105)return We(I,F);if(I.length<512)throw new Error("CFB file size "+I.length+" < 512");var P=3,O=512,L=0,M=0,Z=0,ee=0,X=0,Y=[],Q=I.slice(0,512);Sn(Q,0);var ue=d(Q);switch(P=ue[0],P){case 3:O=512;break;case 4:O=4096;break;case 0:if(ue[1]==0)return le(I,F);default:throw new Error("Major Version: Expected 3 or 4 saw "+P)}O!==512&&(Q=I.slice(0,O),Sn(Q,28));var ye=I.slice(0,O);p(Q,P);var Se=Q.read_shift(4,"i");if(P===3&&Se!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Se);Q.l+=4,Z=Q.read_shift(4,"i"),Q.l+=4,Q.chk("00100000","Mini Stream Cutoff Size: "),ee=Q.read_shift(4,"i"),L=Q.read_shift(4,"i"),X=Q.read_shift(4,"i"),M=Q.read_shift(4,"i");for(var me=-1,we=0;we<109&&(me=Q.read_shift(4,"i"),!(me<0));++we)Y[we]=me;var Le=m(I,O);y(X,M,Le,O,Y);var yt=_(Le,Z,Y,O);yt[Z].name="!Directory",L>0&&ee!==D&&(yt[ee].name="!MiniFAT"),yt[Y[0]].name="!FAT",yt.fat_addrs=Y,yt.ssz=O;var lt={},Ct=[],Ds=[],xa=[];w(Z,yt,Le,Ct,L,lt,Ds,ee),x(Ds,xa,Ct),Ct.shift();var vi={FileIndex:Ds,FullPaths:xa};return F&&F.raw&&(vi.raw={header:ye,sectors:Le}),vi}function d(I){if(I[I.l]==80&&I[I.l+1]==75)return[0,0];I.chk(Pe,"Header Signature: "),I.l+=16;var F=I.read_shift(2,"u");return[I.read_shift(2,"u"),F]}function p(I,F){var P=9;switch(I.l+=2,P=I.read_shift(2)){case 9:if(F!=3)throw new Error("Sector Shift: Expected 9 saw "+P);break;case 12:if(F!=4)throw new Error("Sector Shift: Expected 12 saw "+P);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+P)}I.chk("0600","Mini Sector Shift: "),I.chk("000000000000","Reserved: ")}function m(I,F){for(var P=Math.ceil(I.length/F)-1,O=[],L=1;L<P;++L)O[L-1]=I.slice(L*F,(L+1)*F);return O[P-1]=I.slice(P*F),O}function x(I,F,P){for(var O=0,L=0,M=0,Z=0,ee=0,X=P.length,Y=[],Q=[];O<X;++O)Y[O]=Q[O]=O,F[O]=P[O];for(;ee<Q.length;++ee)O=Q[ee],L=I[O].L,M=I[O].R,Z=I[O].C,Y[O]===O&&(L!==-1&&Y[L]!==L&&(Y[O]=Y[L]),M!==-1&&Y[M]!==M&&(Y[O]=Y[M])),Z!==-1&&(Y[Z]=O),L!==-1&&O!=Y[O]&&(Y[L]=Y[O],Q.lastIndexOf(L)<ee&&Q.push(L)),M!==-1&&O!=Y[O]&&(Y[M]=Y[O],Q.lastIndexOf(M)<ee&&Q.push(M));for(O=1;O<X;++O)Y[O]===O&&(M!==-1&&Y[M]!==M?Y[O]=Y[M]:L!==-1&&Y[L]!==L&&(Y[O]=Y[L]));for(O=1;O<X;++O)if(I[O].type!==0){if(ee=O,ee!=Y[ee])do ee=Y[ee],F[O]=F[ee]+"/"+F[O];while(ee!==0&&Y[ee]!==-1&&ee!=Y[ee]);Y[O]=-1}for(F[0]+="/",O=1;O<X;++O)I[O].type!==2&&(F[O]+="/")}function g(I,F,P){for(var O=I.start,L=I.size,M=[],Z=O;P&&L>0&&Z>=0;)M.push(F.slice(Z*j,Z*j+j)),L-=j,Z=ka(P,Z*4);return M.length===0?te(0):Tr(M).slice(0,I.size)}function y(I,F,P,O,L){var M=D;if(I===D){if(F!==0)throw new Error("DIFAT chain shorter than expected")}else if(I!==-1){var Z=P[I],ee=(O>>>2)-1;if(!Z)return;for(var X=0;X<ee&&(M=ka(Z,X*4))!==D;++X)L.push(M);y(ka(Z,O-4),F-1,P,O,L)}}function E(I,F,P,O,L){var M=[],Z=[];L||(L=[]);var ee=O-1,X=0,Y=0;for(X=F;X>=0;){L[X]=!0,M[M.length]=X,Z.push(I[X]);var Q=P[Math.floor(X*4/O)];if(Y=X*4&ee,O<4+Y)throw new Error("FAT boundary crossed: "+X+" 4 "+O);if(!I[Q])break;X=ka(I[Q],Y)}return{nodes:M,data:Xw([Z])}}function _(I,F,P,O){var L=I.length,M=[],Z=[],ee=[],X=[],Y=O-1,Q=0,ue=0,ye=0,Se=0;for(Q=0;Q<L;++Q)if(ee=[],ye=Q+F,ye>=L&&(ye-=L),!Z[ye]){X=[];var me=[];for(ue=ye;ue>=0;){me[ue]=!0,Z[ue]=!0,ee[ee.length]=ue,X.push(I[ue]);var we=P[Math.floor(ue*4/O)];if(Se=ue*4&Y,O<4+Se)throw new Error("FAT boundary crossed: "+ue+" 4 "+O);if(!I[we]||(ue=ka(I[we],Se),me[ue]))break}M[ye]={nodes:ee,data:Xw([X])}}return M}function w(I,F,P,O,L,M,Z,ee){for(var X=0,Y=O.length?2:0,Q=F[I].data,ue=0,ye=0,Se;ue<Q.length;ue+=128){var me=Q.slice(ue,ue+128);Sn(me,64),ye=me.read_shift(2),Se=Dx(me,0,ye-Y),O.push(Se);var we={name:Se,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},Le=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Le!==0&&(we.ct=b(me,me.l-8));var yt=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);yt!==0&&(we.mt=b(me,me.l-8)),we.start=me.read_shift(4,"i"),we.size=me.read_shift(4,"i"),we.size<0&&we.start<0&&(we.size=we.type=0,we.start=D,we.name=""),we.type===5?(X=we.start,L>0&&X!==D&&(F[X].name="!StreamData")):we.size>=4096?(we.storage="fat",F[we.start]===void 0&&(F[we.start]=E(P,we.start,F.fat_addrs,F.ssz)),F[we.start].name=we.name,we.content=F[we.start].data.slice(0,we.size)):(we.storage="minifat",we.size<0?we.size=0:X!==D&&we.start!==D&&F[X]&&(we.content=g(we,F[X].data,(F[ee]||{}).data))),we.content&&Sn(we.content,0),M[Se]=we,Z.push(we)}}function b(I,F){return new Date((In(I,F+4)/1e7*Math.pow(2,32)+In(I,F)/1e7-11644473600)*1e3)}function B(I,F){return c(),f(l.readFileSync(I),F)}function G(I,F){var P=F&&F.type;switch(P||ot&&Buffer.isBuffer(I)&&(P="buffer"),P||"base64"){case"file":return B(I,F);case"base64":return f(ss(ai(I)),F);case"binary":return f(ss(I),F)}return f(I,F)}function S(I,F){var P=F||{},O=P.root||"Root Entry";if(I.FullPaths||(I.FullPaths=[]),I.FileIndex||(I.FileIndex=[]),I.FullPaths.length!==I.FileIndex.length)throw new Error("inconsistent CFB structure");I.FullPaths.length===0&&(I.FullPaths[0]=O+"/",I.FileIndex[0]={name:O,type:5}),P.CLSID&&(I.FileIndex[0].clsid=P.CLSID),k(I)}function k(I){var F="Sh33tJ5";if(!vt.find(I,"/"+F)){var P=te(4);P[0]=55,P[1]=P[3]=50,P[2]=54,I.FileIndex.push({name:F,type:2,content:P,size:4,L:69,R:69,C:69}),I.FullPaths.push(I.FullPaths[0]+F),A(I)}}function A(I,F){S(I);for(var P=!1,O=!1,L=I.FullPaths.length-1;L>=0;--L){var M=I.FileIndex[L];switch(M.type){case 0:O?P=!0:(I.FileIndex.pop(),I.FullPaths.pop());break;case 1:case 2:case 5:O=!0,isNaN(M.R*M.L*M.C)&&(P=!0),M.R>-1&&M.L>-1&&M.R==M.L&&(P=!0);break;default:P=!0;break}}if(!(!P&&!F)){var Z=new Date(1987,1,19),ee=0,X=Object.create?Object.create(null):{},Y=[];for(L=0;L<I.FullPaths.length;++L)X[I.FullPaths[L]]=!0,I.FileIndex[L].type!==0&&Y.push([I.FullPaths[L],I.FileIndex[L]]);for(L=0;L<Y.length;++L){var Q=n(Y[L][0]);O=X[Q],O||(Y.push([Q,{name:s(Q).replace("/",""),type:1,clsid:Ve,ct:Z,mt:Z,content:null}]),X[Q]=!0)}for(Y.sort(function(Se,me){return r(Se[0],me[0])}),I.FullPaths=[],I.FileIndex=[],L=0;L<Y.length;++L)I.FullPaths[L]=Y[L][0],I.FileIndex[L]=Y[L][1];for(L=0;L<Y.length;++L){var ue=I.FileIndex[L],ye=I.FullPaths[L];if(ue.name=s(ye).replace("/",""),ue.L=ue.R=ue.C=-(ue.color=1),ue.size=ue.content?ue.content.length:0,ue.start=0,ue.clsid=ue.clsid||Ve,L===0)ue.C=Y.length>1?1:-1,ue.size=0,ue.type=5;else if(ye.slice(-1)=="/"){for(ee=L+1;ee<Y.length&&n(I.FullPaths[ee])!=ye;++ee);for(ue.C=ee>=Y.length?-1:ee,ee=L+1;ee<Y.length&&n(I.FullPaths[ee])!=n(ye);++ee);ue.R=ee>=Y.length?-1:ee,ue.type=1}else n(I.FullPaths[L+1]||"")==n(ye)&&(ue.R=L+1),ue.type=2}}}function N(I,F){var P=F||{};if(P.fileType=="mad")return Ke(I,P);switch(A(I),P.fileType){case"zip":return Ee(I,P)}var O=function(Se){for(var me=0,we=0,Le=0;Le<Se.FileIndex.length;++Le){var yt=Se.FileIndex[Le];if(yt.content){var lt=yt.content.length;lt>0&&(lt<4096?me+=lt+63>>6:we+=lt+511>>9)}}for(var Ct=Se.FullPaths.length+3>>2,Ds=me+7>>3,xa=me+127>>7,vi=Ds+we+Ct+xa,vs=vi+127>>7,fo=vs<=109?0:Math.ceil((vs-109)/127);vi+vs+fo+127>>7>vs;)fo=++vs<=109?0:Math.ceil((vs-109)/127);var yn=[1,fo,vs,xa,Ct,we,me,0];return Se.FileIndex[0].size=me<<6,yn[7]=(Se.FileIndex[0].start=yn[0]+yn[1]+yn[2]+yn[3]+yn[4]+yn[5])+(yn[6]+7>>3),yn}(I),L=te(O[7]<<9),M=0,Z=0;{for(M=0;M<8;++M)L.write_shift(1,ie[M]);for(M=0;M<8;++M)L.write_shift(2,0);for(L.write_shift(2,62),L.write_shift(2,3),L.write_shift(2,65534),L.write_shift(2,9),L.write_shift(2,6),M=0;M<3;++M)L.write_shift(2,0);for(L.write_shift(4,0),L.write_shift(4,O[2]),L.write_shift(4,O[0]+O[1]+O[2]+O[3]-1),L.write_shift(4,0),L.write_shift(4,4096),L.write_shift(4,O[3]?O[0]+O[1]+O[2]-1:D),L.write_shift(4,O[3]),L.write_shift(-4,O[1]?O[0]-1:D),L.write_shift(4,O[1]),M=0;M<109;++M)L.write_shift(-4,M<O[2]?O[1]+M:-1)}if(O[1])for(Z=0;Z<O[1];++Z){for(;M<236+Z*127;++M)L.write_shift(-4,M<O[2]?O[1]+M:-1);L.write_shift(-4,Z===O[1]-1?D:Z+1)}var ee=function(Se){for(Z+=Se;M<Z-1;++M)L.write_shift(-4,M+1);Se&&(++M,L.write_shift(-4,D))};for(Z=M=0,Z+=O[1];M<Z;++M)L.write_shift(-4,Ue.DIFSECT);for(Z+=O[2];M<Z;++M)L.write_shift(-4,Ue.FATSECT);ee(O[3]),ee(O[4]);for(var X=0,Y=0,Q=I.FileIndex[0];X<I.FileIndex.length;++X)Q=I.FileIndex[X],Q.content&&(Y=Q.content.length,!(Y<4096)&&(Q.start=Z,ee(Y+511>>9)));for(ee(O[6]+7>>3);L.l&511;)L.write_shift(-4,Ue.ENDOFCHAIN);for(Z=M=0,X=0;X<I.FileIndex.length;++X)Q=I.FileIndex[X],Q.content&&(Y=Q.content.length,!(!Y||Y>=4096)&&(Q.start=Z,ee(Y+63>>6)));for(;L.l&511;)L.write_shift(-4,Ue.ENDOFCHAIN);for(M=0;M<O[4]<<2;++M){var ue=I.FullPaths[M];if(!ue||ue.length===0){for(X=0;X<17;++X)L.write_shift(4,0);for(X=0;X<3;++X)L.write_shift(4,-1);for(X=0;X<12;++X)L.write_shift(4,0);continue}Q=I.FileIndex[M],M===0&&(Q.start=Q.size?Q.start-1:D);var ye=M===0&&P.root||Q.name;if(Y=2*(ye.length+1),L.write_shift(64,ye,"utf16le"),L.write_shift(2,Y),L.write_shift(1,Q.type),L.write_shift(1,Q.color),L.write_shift(-4,Q.L),L.write_shift(-4,Q.R),L.write_shift(-4,Q.C),Q.clsid)L.write_shift(16,Q.clsid,"hex");else for(X=0;X<4;++X)L.write_shift(4,0);L.write_shift(4,Q.state||0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,Q.start),L.write_shift(4,Q.size),L.write_shift(4,0)}for(M=1;M<I.FileIndex.length;++M)if(Q=I.FileIndex[M],Q.size>=4096)if(L.l=Q.start+1<<9,ot&&Buffer.isBuffer(Q.content))Q.content.copy(L,L.l,0,Q.size),L.l+=Q.size+511&-512;else{for(X=0;X<Q.size;++X)L.write_shift(1,Q.content[X]);for(;X&511;++X)L.write_shift(1,0)}for(M=1;M<I.FileIndex.length;++M)if(Q=I.FileIndex[M],Q.size>0&&Q.size<4096)if(ot&&Buffer.isBuffer(Q.content))Q.content.copy(L,L.l,0,Q.size),L.l+=Q.size+63&-64;else{for(X=0;X<Q.size;++X)L.write_shift(1,Q.content[X]);for(;X&63;++X)L.write_shift(1,0)}if(ot)L.l=L.length;else for(;L.l<L.length;)L.write_shift(1,0);return L}function R(I,F){var P=I.FullPaths.map(function(X){return X.toUpperCase()}),O=P.map(function(X){var Y=X.split("/");return Y[Y.length-(X.slice(-1)=="/"?2:1)]}),L=!1;F.charCodeAt(0)===47?(L=!0,F=P[0].slice(0,-1)+F):L=F.indexOf("/")!==-1;var M=F.toUpperCase(),Z=L===!0?P.indexOf(M):O.indexOf(M);if(Z!==-1)return I.FileIndex[Z];var ee=!M.match(Hh);for(M=M.replace($c,""),ee&&(M=M.replace(Hh,"!")),Z=0;Z<P.length;++Z)if((ee?P[Z].replace(Hh,"!"):P[Z]).replace($c,"")==M||(ee?O[Z].replace(Hh,"!"):O[Z]).replace($c,"")==M)return I.FileIndex[Z];return null}var j=64,D=-2,Pe="d0cf11e0a1b11ae1",ie=[208,207,17,224,161,177,26,225],Ve="00000000000000000000000000000000",Ue={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:Pe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ve,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function he(I,F,P){c();var O=N(I,P);l.writeFileSync(F,O)}function Ie(I){for(var F=new Array(I.length),P=0;P<I.length;++P)F[P]=String.fromCharCode(I[P]);return F.join("")}function oe(I,F){var P=N(I,F);switch(F&&F.type||"buffer"){case"file":return c(),l.writeFileSync(F.filename,P),P;case"binary":return typeof P=="string"?P:Ie(P);case"base64":return Iu(typeof P=="string"?P:Ie(P));case"buffer":if(ot)return Buffer.isBuffer(P)?P:ui(P);case"array":return typeof P=="string"?ss(P):P}return P}var Ne;function V(I){try{var F=I.InflateRaw,P=new F;if(P._processChunk(new Uint8Array([3,0]),P._finishFlushFlag),P.bytesRead)Ne=I;else throw new Error("zlib does not expose bytesRead")}catch(O){console.error("cannot use native zlib: "+(O.message||O))}}function H(I,F){if(!Ne)return mi(I,F);var P=Ne.InflateRaw,O=new P,L=O._processChunk(I.slice(I.l),O._finishFlushFlag);return I.l+=O.bytesRead,L}function z(I){return Ne?Ne.deflateRawSync(I):fi(I)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Te(I){var F=(I<<1|I<<11)&139536|(I<<5|I<<15)&558144;return(F>>16|F>>8|F)&255}for(var ke=typeof Uint8Array<"u",xe=ke?new Uint8Array(256):[],et=0;et<256;++et)xe[et]=Te(et);function He(I,F){var P=xe[I&255];return F<=8?P>>>8-F:(P=P<<8|xe[I>>8&255],F<=16?P>>>16-F:(P=P<<8|xe[I>>16&255],P>>>24-F))}function Nt(I,F){var P=F&7,O=F>>>3;return(I[O]|(P<=6?0:I[O+1]<<8))>>>P&3}function Xe(I,F){var P=F&7,O=F>>>3;return(I[O]|(P<=5?0:I[O+1]<<8))>>>P&7}function Hr(I,F){var P=F&7,O=F>>>3;return(I[O]|(P<=4?0:I[O+1]<<8))>>>P&15}function xt(I,F){var P=F&7,O=F>>>3;return(I[O]|(P<=3?0:I[O+1]<<8))>>>P&31}function be(I,F){var P=F&7,O=F>>>3;return(I[O]|(P<=1?0:I[O+1]<<8))>>>P&127}function Rr(I,F,P){var O=F&7,L=F>>>3,M=(1<<P)-1,Z=I[L]>>>O;return P<8-O||(Z|=I[L+1]<<8-O,P<16-O)||(Z|=I[L+2]<<16-O,P<24-O)||(Z|=I[L+3]<<24-O),Z&M}function rn(I,F,P){var O=F&7,L=F>>>3;return O<=5?I[L]|=(P&7)<<O:(I[L]|=P<<O&255,I[L+1]=(P&7)>>8-O),F+3}function xn(I,F,P){var O=F&7,L=F>>>3;return P=(P&1)<<O,I[L]|=P,F+1}function Xn(I,F,P){var O=F&7,L=F>>>3;return P<<=O,I[L]|=P&255,P>>>=8,I[L+1]=P,F+8}function hi(I,F,P){var O=F&7,L=F>>>3;return P<<=O,I[L]|=P&255,P>>>=8,I[L+1]=P&255,I[L+2]=P>>>8,F+16}function nn(I,F){var P=I.length,O=2*P>F?2*P:F+5,L=0;if(P>=F)return I;if(ot){var M=Fw(O);if(I.copy)I.copy(M);else for(;L<I.length;++L)M[L]=I[L];return M}else if(ke){var Z=new Uint8Array(O);if(Z.set)Z.set(I);else for(;L<P;++L)Z[L]=I[L];return Z}return I.length=O,I}function Ot(I){for(var F=new Array(I),P=0;P<I;++P)F[P]=0;return F}function ms(I,F,P){var O=1,L=0,M=0,Z=0,ee=0,X=I.length,Y=ke?new Uint16Array(32):Ot(32);for(M=0;M<32;++M)Y[M]=0;for(M=X;M<P;++M)I[M]=0;X=I.length;var Q=ke?new Uint16Array(X):Ot(X);for(M=0;M<X;++M)Y[L=I[M]]++,O<L&&(O=L),Q[M]=0;for(Y[0]=0,M=1;M<=O;++M)Y[M+16]=ee=ee+Y[M-1]<<1;for(M=0;M<X;++M)ee=I[M],ee!=0&&(Q[M]=Y[ee+16]++);var ue=0;for(M=0;M<X;++M)if(ue=I[M],ue!=0)for(ee=He(Q[M],O)>>O-ue,Z=(1<<O+4-ue)-1;Z>=0;--Z)F[ee|Z<<ue]=ue&15|M<<4;return O}var Bt=ke?new Uint16Array(512):Ot(512),$t=ke?new Uint16Array(32):Ot(32);if(!ke){for(var Gr=0;Gr<512;++Gr)Bt[Gr]=0;for(Gr=0;Gr<32;++Gr)$t[Gr]=0}(function(){for(var I=[],F=0;F<32;F++)I.push(5);ms(I,$t,32);var P=[];for(F=0;F<=143;F++)P.push(8);for(;F<=255;F++)P.push(9);for(;F<=279;F++)P.push(7);for(;F<=287;F++)P.push(8);ms(P,Bt,288)})();var ho=function(){for(var F=ke?new Uint8Array(32768):[],P=0,O=0;P<fe.length-1;++P)for(;O<fe[P+1];++O)F[O]=P;for(;O<32768;++O)F[O]=29;var L=ke?new Uint8Array(259):[];for(P=0,O=0;P<re.length-1;++P)for(;O<re[P+1];++O)L[O]=P;function M(ee,X){for(var Y=0;Y<ee.length;){var Q=Math.min(65535,ee.length-Y),ue=Y+Q==ee.length;for(X.write_shift(1,+ue),X.write_shift(2,Q),X.write_shift(2,~Q&65535);Q-- >0;)X[X.l++]=ee[Y++]}return X.l}function Z(ee,X){for(var Y=0,Q=0,ue=ke?new Uint16Array(32768):[];Q<ee.length;){var ye=Math.min(65535,ee.length-Q);if(ye<10){for(Y=rn(X,Y,+(Q+ye==ee.length)),Y&7&&(Y+=8-(Y&7)),X.l=Y/8|0,X.write_shift(2,ye),X.write_shift(2,~ye&65535);ye-- >0;)X[X.l++]=ee[Q++];Y=X.l*8;continue}Y=rn(X,Y,+(Q+ye==ee.length)+2);for(var Se=0;ye-- >0;){var me=ee[Q];Se=(Se<<5^me)&32767;var we=-1,Le=0;if((we=ue[Se])&&(we|=Q&-32768,we>Q&&(we-=32768),we<Q))for(;ee[we+Le]==ee[Q+Le]&&Le<250;)++Le;if(Le>2){me=L[Le],me<=22?Y=Xn(X,Y,xe[me+1]>>1)-1:(Xn(X,Y,3),Y+=5,Xn(X,Y,xe[me-23]>>5),Y+=3);var yt=me<8?0:me-4>>2;yt>0&&(hi(X,Y,Le-re[me]),Y+=yt),me=F[Q-we],Y=Xn(X,Y,xe[me]>>3),Y-=3;var lt=me<4?0:me-2>>1;lt>0&&(hi(X,Y,Q-we-fe[me]),Y+=lt);for(var Ct=0;Ct<Le;++Ct)ue[Se]=Q&32767,Se=(Se<<5^ee[Q])&32767,++Q;ye-=Le-1}else me<=143?me=me+48:Y=xn(X,Y,1),Y=Xn(X,Y,xe[me]),ue[Se]=Q&32767,++Q}Y=Xn(X,Y,0)-1}return X.l=(Y+7)/8|0,X.l}return function(X,Y){return X.length<8?M(X,Y):Z(X,Y)}}();function fi(I){var F=te(50+Math.floor(I.length*1.1)),P=ho(I,F);return F.slice(0,P)}var di=ke?new Uint16Array(32768):Ot(32768),gs=ke?new Uint16Array(32768):Ot(32768),ga=ke?new Uint16Array(128):Ot(128),va=1,pi=1;function Gl(I,F){var P=xt(I,F)+257;F+=5;var O=xt(I,F)+1;F+=5;var L=Hr(I,F)+4;F+=4;for(var M=0,Z=ke?new Uint8Array(19):Ot(19),ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],X=1,Y=ke?new Uint8Array(8):Ot(8),Q=ke?new Uint8Array(8):Ot(8),ue=Z.length,ye=0;ye<L;++ye)Z[W[ye]]=M=Xe(I,F),X<M&&(X=M),Y[M]++,F+=3;var Se=0;for(Y[0]=0,ye=1;ye<=X;++ye)Q[ye]=Se=Se+Y[ye-1]<<1;for(ye=0;ye<ue;++ye)(Se=Z[ye])!=0&&(ee[ye]=Q[Se]++);var me=0;for(ye=0;ye<ue;++ye)if(me=Z[ye],me!=0){Se=xe[ee[ye]]>>8-me;for(var we=(1<<7-me)-1;we>=0;--we)ga[Se|we<<me]=me&7|ye<<3}var Le=[];for(X=1;Le.length<P+O;)switch(Se=ga[be(I,F)],F+=Se&7,Se>>>=3){case 16:for(M=3+Nt(I,F),F+=2,Se=Le[Le.length-1];M-- >0;)Le.push(Se);break;case 17:for(M=3+Xe(I,F),F+=3;M-- >0;)Le.push(0);break;case 18:for(M=11+be(I,F),F+=7;M-- >0;)Le.push(0);break;default:Le.push(Se),X<Se&&(X=Se);break}var yt=Le.slice(0,P),lt=Le.slice(P);for(ye=P;ye<286;++ye)yt[ye]=0;for(ye=O;ye<30;++ye)lt[ye]=0;return va=ms(yt,di,286),pi=ms(lt,gs,30),F}function ql(I,F){if(I[0]==3&&!(I[1]&3))return[Ka(F),2];for(var P=0,O=0,L=Fw(F||1<<18),M=0,Z=L.length>>>0,ee=0,X=0;!(O&1);){if(O=Xe(I,P),P+=3,O>>>1)O>>1==1?(ee=9,X=5):(P=Gl(I,P),ee=va,X=pi);else{P&7&&(P+=8-(P&7));var Y=I[P>>>3]|I[(P>>>3)+1]<<8;if(P+=32,Y>0)for(!F&&Z<M+Y&&(L=nn(L,M+Y),Z=L.length);Y-- >0;)L[M++]=I[P>>>3],P+=8;continue}for(;;){!F&&Z<M+32767&&(L=nn(L,M+32767),Z=L.length);var Q=Rr(I,P,ee),ue=O>>>1==1?Bt[Q]:di[Q];if(P+=ue&15,ue>>>=4,!(ue>>>8&255))L[M++]=ue;else{if(ue==256)break;ue-=257;var ye=ue<8?0:ue-4>>2;ye>5&&(ye=0);var Se=M+re[ue];ye>0&&(Se+=Rr(I,P,ye),P+=ye),Q=Rr(I,P,X),ue=O>>>1==1?$t[Q]:gs[Q],P+=ue&15,ue>>>=4;var me=ue<4?0:ue-2>>1,we=fe[ue];for(me>0&&(we+=Rr(I,P,me),P+=me),!F&&Z<Se&&(L=nn(L,Se+100),Z=L.length);M<Se;)L[M]=L[M-we],++M}}}return F?[L,P+7>>>3]:[L.slice(0,M),P+7>>>3]}function mi(I,F){var P=I.slice(I.l||0),O=ql(P,F);return I.l+=O[1],O[0]}function gi(I,F){if(I)typeof console<"u"&&console.error(F);else throw new Error(F)}function le(I,F){var P=I;Sn(P,0);var O=[],L=[],M={FileIndex:O,FullPaths:L};S(M,{root:F.root});for(var Z=P.length-4;(P[Z]!=80||P[Z+1]!=75||P[Z+2]!=5||P[Z+3]!=6)&&Z>=0;)--Z;P.l=Z+4,P.l+=4;var ee=P.read_shift(2);P.l+=6;var X=P.read_shift(4);for(P.l=X,Z=0;Z<ee;++Z){P.l+=20;var Y=P.read_shift(4),Q=P.read_shift(4),ue=P.read_shift(2),ye=P.read_shift(2),Se=P.read_shift(2);P.l+=8;var me=P.read_shift(4),we=o(P.slice(P.l+ue,P.l+ue+ye));P.l+=ue+ye+Se;var Le=P.l;P.l=me+4,De(P,Y,Q,M,we),P.l=Le}return M}function De(I,F,P,O,L){I.l+=2;var M=I.read_shift(2),Z=I.read_shift(2),ee=a(I);if(M&8257)throw new Error("Unsupported ZIP encryption");for(var X=I.read_shift(4),Y=I.read_shift(4),Q=I.read_shift(4),ue=I.read_shift(2),ye=I.read_shift(2),Se="",me=0;me<ue;++me)Se+=String.fromCharCode(I[I.l++]);if(ye){var we=o(I.slice(I.l,I.l+ye));(we[21589]||{}).mt&&(ee=we[21589].mt),((L||{})[21589]||{}).mt&&(ee=L[21589].mt)}I.l+=ye;var Le=I.slice(I.l,I.l+Y);switch(Z){case 8:Le=H(I,Q);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Z)}var yt=!1;M&8&&(X=I.read_shift(4),X==134695760&&(X=I.read_shift(4),yt=!0),Y=I.read_shift(4),Q=I.read_shift(4)),Y!=F&&gi(yt,"Bad compressed size: "+F+" != "+Y),Q!=P&&gi(yt,"Bad uncompressed size: "+P+" != "+Q),wt(O,Se,Le,{unsafe:!0,mt:ee})}function Ee(I,F){var P=F||{},O=[],L=[],M=te(1),Z=P.compression?8:0,ee=0,X=0,Y=0,Q=0,ue=0,ye=I.FullPaths[0],Se=ye,me=I.FileIndex[0],we=[],Le=0;for(X=1;X<I.FullPaths.length;++X)if(Se=I.FullPaths[X].slice(ye.length),me=I.FileIndex[X],!(!me.size||!me.content||Se=="Sh33tJ5")){var yt=Q,lt=te(Se.length);for(Y=0;Y<Se.length;++Y)lt.write_shift(1,Se.charCodeAt(Y)&127);lt=lt.slice(0,lt.l),we[ue]=pV.buf(me.content,0);var Ct=me.content;Z==8&&(Ct=z(Ct)),M=te(30),M.write_shift(4,67324752),M.write_shift(2,20),M.write_shift(2,ee),M.write_shift(2,Z),me.mt?i(M,me.mt):M.write_shift(4,0),M.write_shift(-4,we[ue]),M.write_shift(4,Ct.length),M.write_shift(4,me.content.length),M.write_shift(2,lt.length),M.write_shift(2,0),Q+=M.length,O.push(M),Q+=lt.length,O.push(lt),Q+=Ct.length,O.push(Ct),M=te(46),M.write_shift(4,33639248),M.write_shift(2,0),M.write_shift(2,20),M.write_shift(2,ee),M.write_shift(2,Z),M.write_shift(4,0),M.write_shift(-4,we[ue]),M.write_shift(4,Ct.length),M.write_shift(4,me.content.length),M.write_shift(2,lt.length),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(4,0),M.write_shift(4,yt),Le+=M.l,L.push(M),Le+=lt.length,L.push(lt),++ue}return M=te(22),M.write_shift(4,101010256),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,ue),M.write_shift(2,ue),M.write_shift(4,Le),M.write_shift(4,Q),M.write_shift(2,0),Tr([Tr(O),Tr(L),M])}var qe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Qe(I,F){if(I.ctype)return I.ctype;var P=I.name||"",O=P.match(/\.([^\.]+)$/);return O&&qe[O[1]]||F&&(O=(P=F).match(/[\.\\]([^\.\\])+$/),O&&qe[O[1]])?qe[O[1]]:"application/octet-stream"}function gt(I){for(var F=Iu(I),P=[],O=0;O<F.length;O+=76)P.push(F.slice(O,O+76));return P.join(`\r
`)+`\r
`}function Zt(I){var F=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Y){var Q=Y.charCodeAt(0).toString(16).toUpperCase();return"="+(Q.length==1?"0"+Q:Q)});F=F.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),F.charAt(0)==`
`&&(F="=0D"+F.slice(1)),F=F.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var P=[],O=F.split(`\r
`),L=0;L<O.length;++L){var M=O[L];if(M.length==0){P.push("");continue}for(var Z=0;Z<M.length;){var ee=76,X=M.slice(Z,Z+ee);X.charAt(ee-1)=="="?ee--:X.charAt(ee-2)=="="?ee-=2:X.charAt(ee-3)=="="&&(ee-=3),X=M.slice(Z,Z+ee),Z+=ee,Z<M.length&&(X+="="),P.push(X)}}return P.join(`\r
`)}function sn(I){for(var F=[],P=0;P<I.length;++P){for(var O=I[P];P<=I.length&&O.charAt(O.length-1)=="=";)O=O.slice(0,O.length-1)+I[++P];F.push(O)}for(var L=0;L<F.length;++L)F[L]=F[L].replace(/[=][0-9A-Fa-f]{2}/g,function(M){return String.fromCharCode(parseInt(M.slice(1),16))});return ss(F.join(`\r
`))}function pe(I,F,P){for(var O="",L="",M="",Z,ee=0;ee<10;++ee){var X=F[ee];if(!X||X.match(/^\s*$/))break;var Y=X.match(/^(.*?):\s*([^\s].*)$/);if(Y)switch(Y[1].toLowerCase()){case"content-location":O=Y[2].trim();break;case"content-type":M=Y[2].trim();break;case"content-transfer-encoding":L=Y[2].trim();break}}switch(++ee,L.toLowerCase()){case"base64":Z=ss(ai(F.slice(ee).join("")));break;case"quoted-printable":Z=sn(F.slice(ee));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+L)}var Q=wt(I,O.slice(P.length),Z,{unsafe:!0});M&&(Q.ctype=M)}function We(I,F){if(Ie(I.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var P=F&&F.root||"",O=(ot&&Buffer.isBuffer(I)?I.toString("binary"):Ie(I)).split(`\r
`),L=0,M="";for(L=0;L<O.length;++L)if(M=O[L],!!/^Content-Location:/i.test(M)&&(M=M.slice(M.indexOf("file")),P||(P=M.slice(0,M.lastIndexOf("/")+1)),M.slice(0,P.length)!=P))for(;P.length>0&&(P=P.slice(0,P.length-1),P=P.slice(0,P.lastIndexOf("/")+1),M.slice(0,P.length)!=P););var Z=(O[1]||"").match(/boundary="(.*?)"/);if(!Z)throw new Error("MAD cannot find boundary");var ee="--"+(Z[1]||""),X=[],Y=[],Q={FileIndex:X,FullPaths:Y};S(Q);var ue,ye=0;for(L=0;L<O.length;++L){var Se=O[L];Se!==ee&&Se!==ee+"--"||(ye++&&pe(Q,O.slice(ue,L),P),ue=L)}return Q}function Ke(I,F){var P=F||{},O=P.boundary||"SheetJS";O="------="+O;for(var L=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+O.slice(2)+'"',"","",""],M=I.FullPaths[0],Z=M,ee=I.FileIndex[0],X=1;X<I.FullPaths.length;++X)if(Z=I.FullPaths[X].slice(M.length),ee=I.FileIndex[X],!(!ee.size||!ee.content||Z=="Sh33tJ5")){Z=Z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Le){return"_x"+Le.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Le){return"_u"+Le.charCodeAt(0).toString(16)+"_"});for(var Y=ee.content,Q=ot&&Buffer.isBuffer(Y)?Y.toString("binary"):Ie(Y),ue=0,ye=Math.min(1024,Q.length),Se=0,me=0;me<=ye;++me)(Se=Q.charCodeAt(me))>=32&&Se<128&&++ue;var we=ue>=ye*4/5;L.push(O),L.push("Content-Location: "+(P.root||"file:///C:/SheetJS/")+Z),L.push("Content-Transfer-Encoding: "+(we?"quoted-printable":"base64")),L.push("Content-Type: "+Qe(ee,Z)),L.push(""),L.push(we?Zt(Q):gt(Q))}return L.push(O+`--\r
`),L.join(`\r
`)}function an(I){var F={};return S(F,I),F}function wt(I,F,P,O){var L=O&&O.unsafe;L||S(I);var M=!L&&vt.find(I,F);if(!M){var Z=I.FullPaths[0];F.slice(0,Z.length)==Z?Z=F:(Z.slice(-1)!="/"&&(Z+="/"),Z=(Z+F).replace("//","/")),M={name:s(F),type:2},I.FileIndex.push(M),I.FullPaths.push(Z),L||vt.utils.cfb_gc(I)}return M.content=P,M.size=P?P.length:0,O&&(O.CLSID&&(M.clsid=O.CLSID),O.mt&&(M.mt=O.mt),O.ct&&(M.ct=O.ct)),M}function qr(I,F){S(I);var P=vt.find(I,F);if(P){for(var O=0;O<I.FileIndex.length;++O)if(I.FileIndex[O]==P)return I.FileIndex.splice(O,1),I.FullPaths.splice(O,1),!0}return!1}function D0(I,F,P){S(I);var O=vt.find(I,F);if(O){for(var L=0;L<I.FileIndex.length;++L)if(I.FileIndex[L]==O)return I.FileIndex[L].name=s(P),I.FullPaths[L]=P,!0}return!1}function O0(I){A(I,!0)}return e.find=R,e.read=G,e.parse=f,e.write=oe,e.writeFile=he,e.utils={cfb_new:an,cfb_add:wt,cfb_del:qr,cfb_mov:D0,cfb_gc:O0,ReadShift:Wc,CheckField:WI,prep_blob:Sn,bconcat:Tr,use_zlib:V,_deflateRaw:fi,_inflateRaw:mi,consts:Ue},e}();function mV(t){return typeof t=="string"?S0(t):Array.isArray(t)?B7(t):t}function th(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=S0(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Nu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var s=new Blob([mV(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=i,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=eh(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function Cr(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function zw(t,e){for(var r=[],n=Cr(t),s=0;s!==n.length;++s)r[t[n[s]][e]]==null&&(r[t[n[s]][e]]=n[s]);return r}function Nx(t){for(var e=[],r=Cr(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function b0(t){for(var e=[],r=Cr(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function gV(t){for(var e=[],r=Cr(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var yd=new Date(1899,11,30,0,0,0);function mn(t,e){var r=t.getTime(),n=yd.getTime()+(t.getTimezoneOffset()-yd.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var II=new Date,vV=yd.getTime()+(II.getTimezoneOffset()-yd.getTimezoneOffset())*6e4,Ww=II.getTimezoneOffset();function bI(t){var e=new Date;return e.setTime(t*24*60*60*1e3+vV),e.getTimezoneOffset()!==Ww&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Ww)*6e4),e}var Hw=new Date("2017-02-19T19:06:09.000Z"),NI=isNaN(Hw.getFullYear())?new Date("2/19/17"):Hw,xV=NI.getFullYear()==2017;function Jr(t,e){var r=new Date(t);if(xV)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(NI.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function N0(t,e){if(ot&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function gn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=gn(t[r]));return e}function Ht(t,e){for(var r="";r.length<e;)r+=t;return r}function Zs(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var yV=["january","february","march","april","may","june","july","august","september","october","november","december"];function bu(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&yV.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Ge(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return ot?n=ui(r):n=$7(r),vt.utils.cfb_add(t,e,n)}vt.utils.cfb_add(t,e,r)}else t.file(e,r)}function Cx(){return vt.utils.cfb_new()}var nr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,_V={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Rx=Nx(_V),Px=/[&<>'"]/g,wV=/[\u0000-\u0008\u000b-\u001f]/g;function ft(t){var e=t+"";return e.replace(Px,function(r){return Rx[r]}).replace(wV,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Gw(t){return ft(t).replace(/ /g,"_x0020_")}var CI=/[\u0000-\u001f]/g;function EV(t){var e=t+"";return e.replace(Px,function(r){return Rx[r]}).replace(/\n/g,"<br/>").replace(CI,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function TV(t){var e=t+"";return e.replace(Px,function(r){return Rx[r]}).replace(CI,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function kV(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function SV(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Cp(t){for(var e="",r=0,n=0,s=0,i=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=s&63,e+=String.fromCharCode(a);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function qw(t){var e=Ka(2*t.length),r,n,s=1,i=0,a=0,o;for(n=0;n<t.length;n+=s)s=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),s=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[i++]=a&255,e[i++]=a>>>8,a=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function Kw(t){return ui(t,"binary").toString("utf8")}var qh="foo bar baz",zc=ot&&(Kw(qh)==Cp(qh)&&Kw||qw(qh)==Cp(qh)&&qw)||Cp,Nu=ot?function(t){return ui(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},AV=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}}(),RI=/(^\s|\s$|\n)/;function kr(t,e){return"<"+t+(e.match(RI)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Cu(t){return Cr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function ge(t,e,r){return"<"+t+(r!=null?Cu(r):"")+(e!=null?(e.match(RI)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function hg(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function IV(t,e){switch(typeof t){case"string":var r=ge("vt:lpwstr",ft(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ge((t|0)==t?"vt:i4":"vt:r8",ft(String(t)));case"boolean":return ge("vt:bool",t?"true":"false")}if(t instanceof Date)return ge("vt:filetime",hg(t));throw new Error("Unable to serialize "+t)}var dr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},$l=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],An={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function bV(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function NV(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,a=n?-e:e;isFinite(a)?a==0?s=i=0:(s=Math.floor(Math.log(a)/Math.LN2),i=a*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var o=0;o<=5;++o,i/=256)t[r+o]=i&255;t[r+6]=(s&15)<<4|i&15,t[r+7]=s>>4|n}var Zw=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,i=t[0][n].length;s<i;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},Xw=ot?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:ui(e)})):Zw(t)}:Zw,Yw=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Ac(t,s)));return n.join("").replace($c,"")},Dx=ot?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace($c,""):Yw(t,e,r)}:Yw,Qw=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},PI=ot?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Qw(t,e,r)}:Qw,Jw=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(So(t,s)));return n.join("")},rh=ot?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Jw(e,r,n)}:Jw,DI=function(t,e){var r=In(t,e);return r>0?rh(t,e+4,e+4+r-1):""},OI=DI,FI=function(t,e){var r=In(t,e);return r>0?rh(t,e+4,e+4+r-1):""},jI=FI,LI=function(t,e){var r=2*In(t,e);return r>0?rh(t,e+4,e+4+r-1):""},MI=LI,VI=function(e,r){var n=In(e,r);return n>0?Dx(e,r+4,r+4+n):""},UI=VI,BI=function(t,e){var r=In(t,e);return r>0?rh(t,e+4,e+4+r):""},$I=BI,zI=function(t,e){return bV(t,e)},_d=zI,Ox=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ot&&(OI=function(e,r){if(!Buffer.isBuffer(e))return DI(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},jI=function(e,r){if(!Buffer.isBuffer(e))return FI(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},MI=function(e,r){if(!Buffer.isBuffer(e))return LI(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},UI=function(e,r){if(!Buffer.isBuffer(e))return VI(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},$I=function(e,r){if(!Buffer.isBuffer(e))return BI(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},_d=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):zI(e,r)},Ox=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var So=function(t,e){return t[e]},Ac=function(t,e){return t[e+1]*256+t[e]},CV=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},In=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},ka=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},RV=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Wc(t,e){var r="",n,s,i=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,ot&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(Ac(this,c)),c+=2;t*=2;break;case"utf8":r=rh(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Dx(this,this.l,this.l+t);break;case"wstr":return Wc.call(this,t,"dbcs");case"lpstr-ansi":r=OI(this,this.l),t=4+In(this,this.l);break;case"lpstr-cp":r=jI(this,this.l),t=4+In(this,this.l);break;case"lpwstr":r=MI(this,this.l),t=4+2*In(this,this.l);break;case"lpp4":t=4+In(this,this.l),r=UI(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+In(this,this.l),r=$I(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=So(this,this.l+t++))!==0;)i.push(Wh(a));r=i.join("");break;case"_wstr":for(t=0,r="";(a=Ac(this,this.l+t))!==0;)i.push(Wh(a)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=So(this,c),this.l=c+1,o=Wc.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Wh(Ac(this,c))),c+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=So(this,c),this.l=c+1,o=Wc.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Wh(So(this,c))),c+=1}r=i.join("");break;default:switch(t){case 1:return n=So(this,this.l),this.l++,n;case 2:return n=(e==="i"?CV:Ac)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?ka:RV)(this,this.l),this.l+=4,n):(s=In(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=_d(this,this.l):s=_d([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=PI(this,this.l,t);break}}return this.l+=t,r}var PV=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},DV=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},OV=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function FV(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)OV(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var a=e.charCodeAt(s);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,PV(this,e,this.l);break;case 8:if(n=8,r==="f"){NV(this,e,this.l);break}case 16:break;case-4:n=4,DV(this,e,this.l);break}return this.l+=n,this}function WI(t,e){var r=PI(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Sn(t,e){t.l=e,t.read_shift=Wc,t.chk=WI,t.write_shift=FV}function Ps(t,e){t.l+=e}function te(t){var e=Ka(t);return Sn(e,0),e}function pn(){var t=[],e=ot?256:2048,r=function(c){var f=te(c);return Sn(f,0),f},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(s(),n=r(Math.max(c+1,e)))},a=function(){return s(),Tr(t)},o=function(c){s(),n=c,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:o,end:a,_bufs:t}}function ae(t,e,r,n){var s=+e,i;if(!isNaN(s)){n||(n=bH[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var a=t.next(i);s<=127?a.write_shift(1,s):(a.write_shift(1,(s&127)+128),a.write_shift(1,s>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&Ox(r)&&t.push(r)}}function Hc(t,e,r){var n=gn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function eE(t,e,r){var n=gn(t);return n.s=Hc(n.s,e.s,r),n.e=Hc(n.e,e.s,r),n}function Gc(t,e){if(t.cRel&&t.c<0)for(t=gn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=gn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=mt(t);return!t.cRel&&t.cRel!=null&&(r=MV(r)),!t.rRel&&t.rRel!=null&&(r=jV(r)),r}function Rp(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Br(t.s.c)+":"+(t.e.cRel?"":"$")+Br(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ir(t.s.r)+":"+(t.e.rRel?"":"$")+Ir(t.e.r):Gc(t.s,e.biff)+":"+Gc(t.e,e.biff)}function Fx(t){return parseInt(LV(t),10)-1}function Ir(t){return""+(t+1)}function jV(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function LV(t){return t.replace(/\$(\d+)$/,"$1")}function jx(t){for(var e=VV(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Br(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function MV(t){return t.replace(/^([A-Z])/,"$$$1")}function VV(t){return t.replace(/^\$([A-Z])/,"$1")}function UV(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function pr(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function mt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Fn(t){var e=t.indexOf(":");return e==-1?{s:pr(t),e:pr(t)}:{s:pr(t.slice(0,e)),e:pr(t.slice(e+1))}}function rr(t,e){return typeof e>"u"||typeof e=="number"?rr(t.s,t.e):(typeof t!="string"&&(t=mt(t)),typeof e!="string"&&(e=mt(e)),t==e?t:t+":"+e)}function bt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=t.length;for(r=0;n<i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function tE(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=sa(t.z,r?mn(e):e)}catch{}try{return t.w=sa((t.XF||{}).numFmtId||(r?14:0),r?mn(e):e)}catch{return""+e}}function oi(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?nh[t.v]||t.v:e==null?tE(t,t.v):tE(t,e))}function ao(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function HI(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,i=t||(s?[]:{}),a=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?pr(n.origin):n.origin;a=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=bt(i["!ref"]);c.s.c=f.s.c,c.s.r=f.s.r,c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),a==-1&&(c.e.r=a=f.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[d].length;++p)if(!(typeof e[d][p]>"u")){var m={v:e[d][p]},x=a+d,g=o+p;if(c.s.r>x&&(c.s.r=x),c.s.c>g&&(c.s.c=g),c.e.r<x&&(c.e.r=x),c.e.c<g&&(c.e.c=g),e[d][p]&&typeof e[d][p]=="object"&&!Array.isArray(e[d][p])&&!(e[d][p]instanceof Date))m=e[d][p];else if(Array.isArray(m.v)&&(m.f=e[d][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Gt[14],n.cellDates?(m.t="d",m.w=sa(m.z,mn(m.v))):(m.t="n",m.v=mn(m.v),m.w=sa(m.z,m.v))):m.t="s";if(s)i[x]||(i[x]=[]),i[x][g]&&i[x][g].z&&(m.z=i[x][g].z),i[x][g]=m;else{var y=mt({c:g,r:x});i[y]&&i[y].z&&(m.z=i[y].z),i[y]=m}}}return c.s.c<1e7&&(i["!ref"]=rr(c)),i}function zl(t,e){return HI(null,t,e)}function BV(t){return t.read_shift(4,"i")}function us(t,e){return e||(e=te(4)),e.write_shift(4,t),e}function $r(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function mr(t,e){var r=!1;return e==null&&(r=!0,e=te(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function $V(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function zV(t,e){return e||(e=te(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Lx(t,e){var r=t.l,n=t.read_shift(1),s=$r(t),i=[],a={t:s,h:s};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)i.push($V(t));a.r=i}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function WV(t,e){var r=!1;return e==null&&(r=!0,e=te(15+4*t.t.length)),e.write_shift(1,0),mr(t.t,e),r?e.slice(0,e.l):e}var HV=Lx;function GV(t,e){var r=!1;return e==null&&(r=!0,e=te(23+4*t.t.length)),e.write_shift(1,1),mr(t.t,e),e.write_shift(4,1),zV({},e),r?e.slice(0,e.l):e}function Zn(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function oo(t,e){return e==null&&(e=te(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function lo(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function co(t,e){return e==null&&(e=te(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var qV=$r,GI=mr;function Mx(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function wd(t,e){var r=!1;return e==null&&(r=!0,e=te(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var KV=$r,fg=Mx,Vx=wd;function qI(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?_d([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ka(e,0)>>2;return r?s/100:s}function KI(t,e){e==null&&(e=te(4));var r=0,n=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function ZI(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function ZV(t,e){return e||(e=te(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var uo=ZI,Wl=ZV;function Hl(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Za(t,e){return(e||te(8)).write_shift(8,t,"f")}function XV(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var c=iU[s];c&&(e.rgb=fE(c));break;case 2:e.rgb=fE([a,o,l]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function Ed(t,e){if(e||(e=te(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function YV(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function QV(t,e){e||(e=te(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var XI=2,Tn=3,Kh=11,Td=19,Zh=64,JV=65,eU=71,tU=4108,rU=4126,_r=80,rE={1:{n:"CodePage",t:XI},2:{n:"Category",t:_r},3:{n:"PresentationFormat",t:_r},4:{n:"ByteCount",t:Tn},5:{n:"LineCount",t:Tn},6:{n:"ParagraphCount",t:Tn},7:{n:"SlideCount",t:Tn},8:{n:"NoteCount",t:Tn},9:{n:"HiddenCount",t:Tn},10:{n:"MultimediaClipCount",t:Tn},11:{n:"ScaleCrop",t:Kh},12:{n:"HeadingPairs",t:tU},13:{n:"TitlesOfParts",t:rU},14:{n:"Manager",t:_r},15:{n:"Company",t:_r},16:{n:"LinksUpToDate",t:Kh},17:{n:"CharacterCount",t:Tn},19:{n:"SharedDoc",t:Kh},22:{n:"HyperlinksChanged",t:Kh},23:{n:"AppVersion",t:Tn,p:"version"},24:{n:"DigSig",t:JV},26:{n:"ContentType",t:_r},27:{n:"ContentStatus",t:_r},28:{n:"Language",t:_r},29:{n:"Version",t:_r},255:{},2147483648:{n:"Locale",t:Td},2147483651:{n:"Behavior",t:Td},1919054434:{}},nE={1:{n:"CodePage",t:XI},2:{n:"Title",t:_r},3:{n:"Subject",t:_r},4:{n:"Author",t:_r},5:{n:"Keywords",t:_r},6:{n:"Comments",t:_r},7:{n:"Template",t:_r},8:{n:"LastAuthor",t:_r},9:{n:"RevNumber",t:_r},10:{n:"EditTime",t:Zh},11:{n:"LastPrinted",t:Zh},12:{n:"CreatedDate",t:Zh},13:{n:"ModifiedDate",t:Zh},14:{n:"PageCount",t:Tn},15:{n:"WordCount",t:Tn},16:{n:"CharCount",t:Tn},17:{n:"Thumbnail",t:eU},18:{n:"Application",t:_r},19:{n:"DocSecurity",t:Tn},255:{},2147483648:{n:"Locale",t:Td},2147483651:{n:"Behavior",t:Td},1919054434:{}};function nU(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var sU=nU([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),iU=gn(sU),nh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},aU={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Xh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function YI(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function QI(t,e){var r=gV(aU),n=[],s;n[n.length]=nr,n[n.length]=ge("Types",null,{xmlns:dr.CT,"xmlns:xsd":dr.xsd,"xmlns:xsi":dr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ge("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){t[l]&&t[l].length>0&&(s=t[l][0],n[n.length]=ge("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Xh[l][e.bookType]||Xh[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){n[n.length]=ge("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Xh[l][e.bookType]||Xh[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=ge("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return i("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var it={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function JI(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function nl(t){var e=[nr,ge("Relationships",null,{xmlns:dr.RELS})];return Cr(t["!id"]).forEach(function(r){e[e.length]=ge("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function ut(t,e,r,n,s,i){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=n,s.Target=r,[it.HLINK,it.XPATH,it.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function oU(t){var e=[nr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function sE(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function lU(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function cU(t){var e=[nr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(sE(t[r][0],t[r][1])),e.push(lU("",t[r][0]));return e.push(sE("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function eb(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+pd.version+"</meta:generator></office:meta></office:document-meta>"}var ja=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Pp(t,e,r,n,s){s[t]!=null||e==null||e===""||(s[t]=e,e=ft(e),n[n.length]=r?ge(t,e,r):kr(t,e))}function tb(t,e){var r=e||{},n=[nr,ge("cp:coreProperties",null,{"xmlns:cp":dr.CORE_PROPS,"xmlns:dc":dr.dc,"xmlns:dcterms":dr.dcterms,"xmlns:dcmitype":dr.dcmitype,"xmlns:xsi":dr.xsi})],s={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Pp("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:hg(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),t.ModifiedDate!=null&&Pp("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:hg(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=ja.length;++i){var a=ja[i],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Pp(a[0],o,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var sl=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],rb=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function nb(t){var e=[],r=ge;return t||(t={}),t.Application="SheetJS",e[e.length]=nr,e[e.length]=ge("Properties",null,{xmlns:dr.EXT_PROPS,"xmlns:vt":dr.vt}),sl.forEach(function(n){if(t[n[1]]!==void 0){var s;switch(n[2]){case"string":s=ft(String(t[n[1]]));break;case"bool":s=t[n[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(n[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+ft(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function sb(t){var e=[nr,ge("Properties",null,{xmlns:dr.CUST_PROPS,"xmlns:vt":dr.vt})];if(!t)return e.join("");var r=1;return Cr(t).forEach(function(s){++r,e[e.length]=ge("property",IV(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ft(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var iE={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function uU(t,e){var r=[];return Cr(iE).map(function(n){for(var s=0;s<ja.length;++s)if(ja[s][1]==n)return ja[s];for(s=0;s<sl.length;++s)if(sl[s][1]==n)return sl[s];throw n}).forEach(function(n){if(t[n[1]]!=null){var s=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(kr(iE[n[1]]||n[1],s))}}),ge("DocumentProperties",r.join(""),{xmlns:An.o})}function hU(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return t&&Cr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var a=0;a<ja.length;++a)if(i==ja[a][1])return;for(a=0;a<sl.length;++a)if(i==sl[a][1])return;for(a=0;a<r.length;++a)if(i==r[a])return;var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),s.push(ge(Gw(i),o,{"dt:dt":l}))}}),e&&Cr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var a=e[i],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),s.push(ge(Gw(i),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+An.o+'">'+s.join("")+"</"+n+">"}function fU(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var a=te(8);return a.write_shift(4,n),a.write_shift(4,s),a}function aE(t,e){var r=te(4),n=te(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=te(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=fU(e);break;case 31:case 80:for(n=te(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Tr([r,n])}var ib=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function dU(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function oE(t,e,r){var n=te(8),s=[],i=[],a=8,o=0,l=te(8),c=te(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),s.push(c),a+=8+l.length,!e){c=te(8),c.write_shift(4,0),s.unshift(c);var f=[te(4)];for(f[0].write_shift(4,t.length),o=0;o<t.length;++o){var d=t[o][0];for(l=te(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=Tr(f),i.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(ib.indexOf(t[o][0])>-1||rb.indexOf(t[o][0])>-1)&&t[o][1]!=null){var p=t[o][1],m=0;if(e){m=+e[t[o][0]];var x=r[m];if(x.p=="version"&&typeof p=="string"){var g=p.split(".");p=(+g[0]<<16)+(+g[1]||0)}l=aE(x.t,p)}else{var y=dU(p);y==-1&&(y=31,p=String(p)),l=aE(y,p)}i.push(l),c=te(8),c.write_shift(4,e?m:2+o),s.push(c),a+=8+l.length}var E=8*(i.length+1);for(o=0;o<i.length;++o)s[o].write_shift(4,E),E+=i[o].length;return n.write_shift(4,a),n.write_shift(4,i.length),Tr([n].concat(s).concat(i))}function lE(t,e,r,n,s,i){var a=te(s?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,vt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,s?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,s?68:48);var l=oE(t,r,n);if(o.push(l),s){var c=oE(s,null,null);a.write_shift(16,i,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Tr(o)}function pU(t,e){e||(e=te(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function mU(t,e){return t.read_shift(e)===1}function Xr(t,e){return e||(e=te(2)),e.write_shift(2,+!!t),e}function ab(t){return t.read_shift(2,"u")}function Vn(t,e){return e||(e=te(2)),e.write_shift(2,t),e}function ob(t,e,r){return r||(r=te(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function lb(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var a=n?t.read_shift(n,s):"";return a}function gU(t){var e=t.t||"",r=te(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=te(2*e.length);n.write_shift(2*e.length,e,"utf16le");var s=[r,n];return Tr(s)}function vU(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function xU(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):vU(t,n,r)}function yU(t,e,r){if(r.biff>5)return xU(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function cb(t,e,r){return r||(r=te(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function cE(t,e){e||(e=te(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function _U(t){var e=te(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(i==28)n=n.slice(1),cE(n,e);else if(i&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=s>-1?n.slice(0,s):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),i&8&&cE(s>-1?n.slice(s+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Xa(t,e,r,n){return n||(n=te(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function wU(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),i=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[s,i,a]}function EU(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function ub(t,e){return e||(e=te(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Ux(t,e,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=te(s);return i.write_shift(2,n),i.write_shift(2,e),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function TU(t,e){var r=!e||e.biff==8,n=te(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function kU(t,e){var r=!e||e.biff>=8?2:1,n=te(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function SU(t,e){var r=te(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],s=0;s<t.length;++s)n[s]=gU(t[s]);var i=Tr([r].concat(n));return i.parts=[r.length].concat(n.map(function(a){return a.length})),i}function AU(){var t=te(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function IU(t){var e=te(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function bU(t,e){var r=t.name||"Arial",n=e&&e.biff==5,s=n?15+r.length:16+2*r.length,i=te(s);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function NU(t,e,r,n){var s=te(10);return Xa(t,e,n,s),s.write_shift(4,r),s}function CU(t,e,r,n,s){var i=!s||s.biff==8,a=te(8+ +i+(1+i)*r.length);return Xa(t,e,n,a),a.write_shift(2,r.length),i&&a.write_shift(1,1),a.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),a}function RU(t,e,r,n){var s=r&&r.biff==5;n||(n=te(s?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(s?1:2,e.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function PU(t,e){var r=e.biff==8||!e.biff?4:2,n=te(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function uE(t,e,r,n){var s=r&&r.biff==5;n||(n=te(s?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function DU(t){var e=te(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function OU(t,e,r,n,s,i){var a=te(8);return Xa(t,e,n,a),ob(r,i,a),a}function FU(t,e,r,n){var s=te(14);return Xa(t,e,n,s),Za(r,s),s}function jU(t,e,r){if(r.biff<8)return LU(t,e,r);for(var n=[],s=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(wU(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function LU(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=lb(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function MU(t){var e=te(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)ub(t[r],e);return e}function VU(t){var e=te(24),r=pr(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(n[s],16));return Tr([e,_U(t[1])])}function UU(t){var e=t[1].Tooltip,r=te(10+2*(e.length+1));r.write_shift(2,2048);var n=pr(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function BU(t){return t||(t=te(4)),t.write_shift(2,1),t.write_shift(2,1),t}function $U(t,e,r){if(!r.cellStyles)return Ps(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),i=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s,e:i,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function zU(t,e){var r=te(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function WU(t){for(var e=te(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function HU(t,e,r){var n=te(15);return ih(n,t,e),n.write_shift(8,r,"f"),n}function GU(t,e,r){var n=te(9);return ih(n,t,e),n.write_shift(2,r),n}var qU=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Nx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],f=Ka(1);switch(l.type){case"base64":f=ss(ai(o));break;case"binary":f=ss(o);break;case"buffer":case"array":f=o;break}Sn(f,0);var d=f.read_shift(1),p=!!(d&136),m=!1,x=!1;switch(d){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var g=0,y=521;d==2&&(g=f.read_shift(2)),f.l+=3,d!=2&&(g=f.read_shift(4)),g>1048576&&(g=1e6),d!=2&&(y=f.read_shift(2));var E=f.read_shift(2),_=l.codepage||1252;d!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(_=t[f[f.l]]),f.l+=1,f.l+=2),x&&(f.l+=36);for(var w=[],b={},B=Math.min(f.length,d==2?521:y-10-(m?264:0)),G=x?32:11;f.l<B&&f[f.l]!=13;)switch(b={},b.name=md.utils.decode(_,f.slice(f.l,f.l+G)).replace(/[\u0000\r\n].*$/g,""),f.l+=G,b.type=String.fromCharCode(f.read_shift(1)),d!=2&&!x&&(b.offset=f.read_shift(4)),b.len=f.read_shift(1),d==2&&(b.offset=f.read_shift(2)),b.dec=f.read_shift(1),b.name.length&&w.push(b),d!=2&&(f.l+=x?13:14),b.type){case"B":(!m||b.len!=8)&&l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(f[f.l]!==13&&(f.l=y-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=y;var S=0,k=0;for(c[0]=[],k=0;k!=w.length;++k)c[0][k]=w[k].name;for(;g-- >0;){if(f[f.l]===42){f.l+=E;continue}for(++f.l,c[++S]=[],k=0,k=0;k!=w.length;++k){var A=f.slice(f.l,f.l+w[k].len);f.l+=w[k].len,Sn(A,0);var N=md.utils.decode(_,A);switch(w[k].type){case"C":N.trim().length&&(c[S][k]=N.replace(/\s+$/,""));break;case"D":N.length===8?c[S][k]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):c[S][k]=N;break;case"F":c[S][k]=parseFloat(N.trim());break;case"+":case"I":c[S][k]=x?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":c[S][k]=!0;break;case"N":case"F":c[S][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[S][k]="##MEMO##"+(x?parseInt(N.trim(),10):A.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(c[S][k]=+N||0);break;case"@":c[S][k]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":c[S][k]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":c[S][k]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[S][k]=-A.read_shift(-8,"f");break;case"B":if(m&&w[k].len==8){c[S][k]=A.read_shift(8,"f");break}case"G":case"P":A.l+=w[k].len;break;case"0":if(w[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[k].type)}}}if(d!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var f=zl(r(o,c),c);return f["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,f}function s(o,l){try{return ao(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Au(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var f=pn(),d=bd(o,{header:1,raw:!0,cellDates:!0}),p=d[0],m=d.slice(1),x=o["!cols"]||[],g=0,y=0,E=0,_=1;for(g=0;g<p.length;++g){if(((x[g]||{}).DBF||{}).name){p[g]=x[g].DBF.name,++E;continue}if(p[g]!=null){if(++E,typeof p[g]=="number"&&(p[g]=p[g].toString(10)),typeof p[g]!="string")throw new Error("DBF Invalid column name "+p[g]+" |"+typeof p[g]+"|");if(p.indexOf(p[g])!==g){for(y=0;y<1024;++y)if(p.indexOf(p[g]+"_"+y)==-1){p[g]+="_"+y;break}}}}var w=bt(o["!ref"]),b=[],B=[],G=[];for(g=0;g<=w.e.c-w.s.c;++g){var S="",k="",A=0,N=[];for(y=0;y<m.length;++y)m[y][g]!=null&&N.push(m[y][g]);if(N.length==0||p[g]==null){b[g]="?";continue}for(y=0;y<N.length;++y){switch(typeof N[y]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=N[y]instanceof Date?"D":"C";break;default:k="C"}A=Math.max(A,String(N[y]).length),S=S&&S!=k?"C":k}A>250&&(A=250),k=((x[g]||{}).DBF||{}).type,k=="C"&&x[g].DBF.len>A&&(A=x[g].DBF.len),S=="B"&&k=="N"&&(S="N",G[g]=x[g].DBF.dec,A=x[g].DBF.len),B[g]=S=="C"||k=="N"?A:i[S]||0,_+=B[g],b[g]=S}var R=f.next(32);for(R.write_shift(4,318902576),R.write_shift(4,m.length),R.write_shift(2,296+32*E),R.write_shift(2,_),g=0;g<4;++g)R.write_shift(4,0);for(R.write_shift(4,0|(+e[fI]||3)<<8),g=0,y=0;g<p.length;++g)if(p[g]!=null){var j=f.next(32),D=(p[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,D,"sbcs"),j.write_shift(1,b[g]=="?"?"C":b[g],"sbcs"),j.write_shift(4,y),j.write_shift(1,B[g]||i[b[g]]||0),j.write_shift(1,G[g]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),y+=B[g]||i[b[g]]||0}var Pe=f.next(264);for(Pe.write_shift(4,13),g=0;g<65;++g)Pe.write_shift(4,0);for(g=0;g<m.length;++g){var ie=f.next(_);for(ie.write_shift(1,0),y=0;y<p.length;++y)if(p[y]!=null)switch(b[y]){case"L":ie.write_shift(1,m[g][y]==null?63:m[g][y]?84:70);break;case"B":ie.write_shift(8,m[g][y]||0,"f");break;case"N":var Ve="0";for(typeof m[g][y]=="number"&&(Ve=m[g][y].toFixed(G[y]||0)),E=0;E<B[y]-Ve.length;++E)ie.write_shift(1,32);ie.write_shift(1,Ve,"sbcs");break;case"D":m[g][y]?(ie.write_shift(4,("0000"+m[g][y].getFullYear()).slice(-4),"sbcs"),ie.write_shift(2,("00"+(m[g][y].getMonth()+1)).slice(-2),"sbcs"),ie.write_shift(2,("00"+m[g][y].getDate()).slice(-2),"sbcs")):ie.write_shift(8,"00000000","sbcs");break;case"C":var Ue=String(m[g][y]!=null?m[g][y]:"").slice(0,B[y]);for(ie.write_shift(1,Ue,"sbcs"),E=0;E<B[y]-Ue.length;++E)ie.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:s,to_sheet:n,from_sheet:a}}(),KU=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Cr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,m){var x=t[m];return typeof x=="number"?Ow(x):x},n=function(p,m,x){var g=m.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return g==59?p:Ow(g)};t["|"]=254;function s(p,m){switch(m.type){case"base64":return i(ai(p),m);case"binary":return i(p,m);case"buffer":return i(ot&&Buffer.isBuffer(p)?p.toString("binary"):eh(p),m);case"array":return i(N0(p),m)}throw new Error("Unrecognized type "+m.type)}function i(p,m){var x=p.split(/[\n\r]+/),g=-1,y=-1,E=0,_=0,w=[],b=[],B=null,G={},S=[],k=[],A=[],N=0,R;for(+m.codepage>=0&&Au(+m.codepage);E!==x.length;++E){N=0;var j=x[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),D=j.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),Pe=D[0],ie;if(j.length>0)switch(Pe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&b.push(j.slice(3).replace(/;;/g,";"));break;case"C":var Ve=!1,Ue=!1,he=!1,Ie=!1,oe=-1,Ne=-1;for(_=1;_<D.length;++_)switch(D[_].charAt(0)){case"A":break;case"X":y=parseInt(D[_].slice(1))-1,Ue=!0;break;case"Y":for(g=parseInt(D[_].slice(1))-1,Ue||(y=0),R=w.length;R<=g;++R)w[R]=[];break;case"K":ie=D[_].slice(1),ie.charAt(0)==='"'?ie=ie.slice(1,ie.length-1):ie==="TRUE"?ie=!0:ie==="FALSE"?ie=!1:isNaN(Zs(ie))?isNaN(bu(ie).getDate())||(ie=Jr(ie)):(ie=Zs(ie),B!==null&&kI(B)&&(ie=bI(ie))),Ve=!0;break;case"E":Ie=!0;var V=GB(D[_].slice(1),{r:g,c:y});w[g][y]=[w[g][y],V];break;case"S":he=!0,w[g][y]=[w[g][y],"S5S"];break;case"G":break;case"R":oe=parseInt(D[_].slice(1))-1;break;case"C":Ne=parseInt(D[_].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+j)}if(Ve&&(w[g][y]&&w[g][y].length==2?w[g][y][0]=ie:w[g][y]=ie,B=null),he){if(Ie)throw new Error("SYLK shared formula cannot have own formula");var H=oe>-1&&w[oe][Ne];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");w[g][y][1]=qB(H[1],{r:g-oe,c:y-Ne})}break;case"F":var z=0;for(_=1;_<D.length;++_)switch(D[_].charAt(0)){case"X":y=parseInt(D[_].slice(1))-1,++z;break;case"Y":for(g=parseInt(D[_].slice(1))-1,R=w.length;R<=g;++R)w[R]=[];break;case"M":N=parseInt(D[_].slice(1))/20;break;case"F":break;case"G":break;case"P":B=b[parseInt(D[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=D[_].slice(1).split(" "),R=parseInt(A[0],10);R<=parseInt(A[1],10);++R)N=parseInt(A[2],10),k[R-1]=N===0?{hidden:!0}:{wch:N},Bx(k[R-1]);break;case"C":y=parseInt(D[_].slice(1))-1,k[y]||(k[y]={});break;case"R":g=parseInt(D[_].slice(1))-1,S[g]||(S[g]={}),N>0?(S[g].hpt=N,S[g].hpx=mb(N)):N===0&&(S[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+j)}z<1&&(B=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+j)}}return S.length>0&&(G["!rows"]=S),k.length>0&&(G["!cols"]=k),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,G]}function a(p,m){var x=s(p,m),g=x[0],y=x[1],E=zl(g,m);return Cr(y).forEach(function(_){E[_]=y[_]}),E}function o(p,m){return ao(a(p,m),m)}function l(p,m,x,g){var y="C;Y"+(x+1)+";X"+(g+1)+";K";switch(p.t){case"n":y+=p.v||0,p.f&&!p.F&&(y+=";E"+zx(p.f,{r:x,c:g}));break;case"b":y+=p.v?"TRUE":"FALSE";break;case"e":y+=p.w||p.v;break;case"d":y+='"'+(p.w||p.v)+'"';break;case"s":y+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(p,m){m.forEach(function(x,g){var y="F;W"+(g+1)+" "+(g+1)+" ";x.hidden?y+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=kd(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Sd(x.wpx)),typeof x.wch=="number"&&(y+=Math.round(x.wch))),y.charAt(y.length-1)!=" "&&p.push(y)})}function f(p,m){m.forEach(function(x,g){var y="F;";x.hidden?y+="M0;":x.hpt?y+="M"+20*x.hpt+";":x.hpx&&(y+="M"+20*Ad(x.hpx)+";"),y.length>2&&p.push(y+"R"+(g+1))})}function d(p,m){var x=["ID;PWXL;N;E"],g=[],y=bt(p["!ref"]),E,_=Array.isArray(p),w=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),p["!cols"]&&c(x,p["!cols"]),p["!rows"]&&f(x,p["!rows"]),x.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var b=y.s.r;b<=y.e.r;++b)for(var B=y.s.c;B<=y.e.c;++B){var G=mt({r:b,c:B});E=_?(p[b]||[])[B]:p[G],!(!E||E.v==null&&(!E.f||E.F))&&g.push(l(E,p,b,B))}return x.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:a,from_sheet:d}}(),ZU=function(){function t(i,a){switch(a.type){case"base64":return e(ai(i),a);case"binary":return e(i,a);case"buffer":return e(ot&&Buffer.isBuffer(i)?i.toString("binary"):eh(i),a);case"array":return e(N0(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){for(var o=i.split(`
`),l=-1,c=-1,f=0,d=[];f!==o.length;++f){if(o[f].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var p=o[f].trim().split(","),m=p[0],x=p[1];++f;for(var g=o[f]||"";(g.match(/["]/g)||[]).length&1&&f<o.length-1;)g+=`
`+o[++f];switch(g=g.trim(),+m){case-1:if(g==="BOT"){d[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?d[l][c]=!0:g==="FALSE"?d[l][c]=!1:isNaN(Zs(x))?isNaN(bu(x).getDate())?d[l][c]=x:d[l][c]=Jr(x):d[l][c]=Zs(x),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),d[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),d}function r(i,a){return zl(t(i,a),a)}function n(i,a){return ao(r(i,a),a)}var s=function(){var i=function(l,c,f,d,p){l.push(c),l.push(f+","+d),l.push('"'+p.replace(/"/g,'""')+'"')},a=function(l,c,f,d){l.push(c+","+f),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],f=bt(l["!ref"]),d,p=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,f.e.r-f.s.r+1,""),i(c,"TUPLES",0,f.e.c-f.s.c+1,""),i(c,"DATA",0,0,"");for(var m=f.s.r;m<=f.e.r;++m){a(c,-1,0,"BOT");for(var x=f.s.c;x<=f.e.c;++x){var g=mt({r:m,c:x});if(d=p?(l[m]||[])[x]:l[g],!d){a(c,1,0,"");continue}switch(d.t){case"n":var y=d.w;!y&&d.v!=null&&(y=d.v),y==null?d.f&&!d.F?a(c,1,0,"="+d.f):a(c,1,0,""):a(c,0,y,"V");break;case"b":a(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=sa(d.z||Gt[14],mn(Jr(d.v)))),a(c,0,d.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var E=`\r
`,_=c.join(E);return _}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),hb=function(){function t(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,p){for(var m=d.split(`
`),x=-1,g=-1,y=0,E=[];y!==m.length;++y){var _=m[y].trim().split(":");if(_[0]==="cell"){var w=pr(_[1]);if(E.length<=w.r)for(x=E.length;x<=w.r;++x)E[x]||(E[x]=[]);switch(x=w.r,g=w.c,_[2]){case"t":E[x][g]=t(_[3]);break;case"v":E[x][g]=+_[3];break;case"vtf":var b=_[_.length-1];case"vtc":switch(_[3]){case"nl":E[x][g]=!!+_[4];break;default:E[x][g]=+_[4];break}_[2]=="vtf"&&(E[x][g]=[E[x][g],b])}}}return p&&p.sheetRows&&(E=E.slice(0,p.sheetRows)),E}function n(d,p){return zl(r(d,p),p)}function s(d,p){return ao(n(d,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var p=[],m=[],x,g="",y=Fn(d["!ref"]),E=Array.isArray(d),_=y.s.r;_<=y.e.r;++_)for(var w=y.s.c;w<=y.e.c;++w)if(g=mt({r:_,c:w}),x=E?(d[_]||[])[w]:d[g],!(!x||x.v==null||x.t==="z")){switch(m=["cell",g,"t"],x.t){case"s":case"str":m.push(e(x.v));break;case"n":x.f?(m[2]="vtf",m[3]="n",m[4]=x.v,m[5]=e(x.f)):(m[2]="v",m[3]=x.v);break;case"b":m[2]="vt"+(x.f?"f":"c"),m[3]="nl",m[4]=x.v?"1":"0",m[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var b=mn(Jr(x.v));m[2]="vtc",m[3]="nd",m[4]=""+b,m[5]=x.w||sa(x.z||Gt[14],b);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function f(d){return[i,a,o,a,c(d),l].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:f}}(),XU=function(){function t(f,d,p,m,x){x.raw?d[p][m]=f:f===""||(f==="TRUE"?d[p][m]=!0:f==="FALSE"?d[p][m]=!1:isNaN(Zs(f))?isNaN(bu(f).getDate())?d[p][m]=f:d[p][m]=Jr(f):d[p][m]=Zs(f))}function e(f,d){var p=d||{},m=[];if(!f||f.length===0)return m;for(var x=f.split(/[\r\n]/),g=x.length-1;g>=0&&x[g].length===0;)--g;for(var y=10,E=0,_=0;_<=g;++_)E=x[_].indexOf(" "),E==-1?E=x[_].length:E++,y=Math.max(y,E);for(_=0;_<=g;++_){m[_]=[];var w=0;for(t(x[_].slice(0,y).trim(),m,_,w,p),w=1;w<=(x[_].length-y)/10+1;++w)t(x[_].slice(y+(w-1)*10,y+w*10).trim(),m,_,w,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(f){for(var d={},p=!1,m=0,x=0;m<f.length;++m)(x=f.charCodeAt(m))==34?p=!p:!p&&x in r&&(d[x]=(d[x]||0)+1);x=[];for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&x.push([d[m],m]);if(!x.length){d=n;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&x.push([d[m],m])}return x.sort(function(g,y){return g[0]-y[0]||n[g[1]]-n[y[1]]}),r[x.pop()[1]]||44}function i(f,d){var p=d||{},m="",x=p.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(m=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(m=f.charAt(4),f=f.slice(6)):m=s(f.slice(0,1024)):p&&p.FS?m=p.FS:m=s(f.slice(0,1024));var y=0,E=0,_=0,w=0,b=0,B=m.charCodeAt(0),G=!1,S=0,k=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var A=p.dateNF!=null?fV(p.dateNF):null;function N(){var R=f.slice(w,b),j={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)j.t="z";else if(p.raw)j.t="s",j.v=R;else if(R.trim().length===0)j.t="s",j.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(j.t="s",j.v=R.slice(2,-1).replace(/""/g,'"')):KB(R)?(j.t="n",j.f=R.slice(1)):(j.t="s",j.v=R);else if(R=="TRUE")j.t="b",j.v=!0;else if(R=="FALSE")j.t="b",j.v=!1;else if(!isNaN(_=Zs(R)))j.t="n",p.cellText!==!1&&(j.w=R),j.v=_;else if(!isNaN(bu(R).getDate())||A&&R.match(A)){j.z=p.dateNF||Gt[14];var D=0;A&&R.match(A)&&(R=dV(R,p.dateNF,R.match(A)||[]),D=1),p.cellDates?(j.t="d",j.v=Jr(R,D)):(j.t="n",j.v=mn(Jr(R,D))),p.cellText!==!1&&(j.w=sa(j.z,j.v instanceof Date?mn(j.v):j.v)),p.cellNF||delete j.z}else j.t="s",j.v=R;if(j.t=="z"||(p.dense?(x[y]||(x[y]=[]),x[y][E]=j):x[mt({c:E,r:y})]=j),w=b+1,k=f.charCodeAt(w),g.e.c<E&&(g.e.c=E),g.e.r<y&&(g.e.r=y),S==B)++E;else if(E=0,++y,p.sheetRows&&p.sheetRows<=y)return!0}e:for(;b<f.length;++b)switch(S=f.charCodeAt(b)){case 34:k===34&&(G=!G);break;case B:case 10:case 13:if(!G&&N())break e;break}return b-w>0&&N(),x["!ref"]=rr(g),x}function a(f,d){return!(d&&d.PRN)||d.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,d):zl(e(f,d),d)}function o(f,d){var p="",m=d.type=="string"?[0,0,0,0]:lG(f,d);switch(d.type){case"base64":p=ai(f);break;case"binary":p=f;break;case"buffer":d.codepage==65001?p=f.toString("utf8"):d.codepage&&typeof md<"u"||(p=ot&&Buffer.isBuffer(f)?f.toString("binary"):eh(f));break;case"array":p=N0(f);break;case"string":p=f;break;default:throw new Error("Unrecognized type "+d.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=zc(p.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?p=zc(p):d.type=="binary"&&typeof md<"u",p.slice(0,19)=="socialcalc:version:"?hb.to_sheet(d.type=="string"?p:zc(p),d):a(p,d)}function l(f,d){return ao(o(f,d),d)}function c(f){for(var d=[],p=bt(f["!ref"]),m,x=Array.isArray(f),g=p.s.r;g<=p.e.r;++g){for(var y=[],E=p.s.c;E<=p.e.c;++E){var _=mt({r:g,c:E});if(m=x?(f[g]||[])[E]:f[_],!m||m.v==null){y.push("          ");continue}for(var w=(m.w||(oi(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(E===0?" ":""))}d.push(y.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),hE=function(){function t(V,H,z){if(V){Sn(V,V.l||0);for(var W=z.Enum||oe;V.l<V.length;){var re=V.read_shift(2),fe=W[re]||W[65535],Te=V.read_shift(2),ke=V.l+Te,xe=fe.f&&fe.f(V,Te,z);if(V.l=ke,H(xe,fe,re))return}}}function e(V,H){switch(H.type){case"base64":return r(ss(ai(V)),H);case"binary":return r(ss(V),H);case"buffer":case"array":return r(V,H)}throw"Unsupported type "+H.type}function r(V,H){if(!V)return V;var z=H||{},W=z.dense?[]:{},re="Sheet1",fe="",Te=0,ke={},xe=[],et=[],He={s:{r:0,c:0},e:{r:0,c:0}},Nt=z.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)z.Enum=oe,t(V,function(be,Rr,rn){switch(rn){case 0:z.vers=be,be>=4096&&(z.qpro=!0);break;case 6:He=be;break;case 204:be&&(fe=be);break;case 222:fe=be;break;case 15:case 51:z.qpro||(be[1].v=be[1].v.slice(1));case 13:case 14:case 16:rn==14&&(be[2]&112)==112&&(be[2]&15)>1&&(be[2]&15)<15&&(be[1].z=z.dateNF||Gt[14],z.cellDates&&(be[1].t="d",be[1].v=bI(be[1].v))),z.qpro&&be[3]>Te&&(W["!ref"]=rr(He),ke[re]=W,xe.push(re),W=z.dense?[]:{},He={s:{r:0,c:0},e:{r:0,c:0}},Te=be[3],re=fe||"Sheet"+(Te+1),fe="");var xn=z.dense?(W[be[0].r]||[])[be[0].c]:W[mt(be[0])];if(xn){xn.t=be[1].t,xn.v=be[1].v,be[1].z!=null&&(xn.z=be[1].z),be[1].f!=null&&(xn.f=be[1].f);break}z.dense?(W[be[0].r]||(W[be[0].r]=[]),W[be[0].r][be[0].c]=be[1]):W[mt(be[0])]=be[1];break}},z);else if(V[2]==26||V[2]==14)z.Enum=Ne,V[2]==14&&(z.qpro=!0,V.l=0),t(V,function(be,Rr,rn){switch(rn){case 204:re=be;break;case 22:be[1].v=be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(be[3]>Te&&(W["!ref"]=rr(He),ke[re]=W,xe.push(re),W=z.dense?[]:{},He={s:{r:0,c:0},e:{r:0,c:0}},Te=be[3],re="Sheet"+(Te+1)),Nt>0&&be[0].r>=Nt)break;z.dense?(W[be[0].r]||(W[be[0].r]=[]),W[be[0].r][be[0].c]=be[1]):W[mt(be[0])]=be[1],He.e.c<be[0].c&&(He.e.c=be[0].c),He.e.r<be[0].r&&(He.e.r=be[0].r);break;case 27:be[14e3]&&(et[be[14e3][0]]=be[14e3][1]);break;case 1537:et[be[0]]=be[1],be[0]==Te&&(re=be[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(W["!ref"]=rr(He),ke[fe||re]=W,xe.push(fe||re),!et.length)return{SheetNames:xe,Sheets:ke};for(var Xe={},Hr=[],xt=0;xt<et.length;++xt)ke[xe[xt]]?(Hr.push(et[xt]||xe[xt]),Xe[et[xt]]=ke[et[xt]]||ke[xe[xt]]):(Hr.push(et[xt]),Xe[et[xt]]={"!ref":"A1"});return{SheetNames:Hr,Sheets:Xe}}function n(V,H){var z=H||{};if(+z.codepage>=0&&Au(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var W=pn(),re=bt(V["!ref"]),fe=Array.isArray(V),Te=[];ve(W,0,i(1030)),ve(W,6,l(re));for(var ke=Math.min(re.e.r,8191),xe=re.s.r;xe<=ke;++xe)for(var et=Ir(xe),He=re.s.c;He<=re.e.c;++He){xe===re.s.r&&(Te[He]=Br(He));var Nt=Te[He]+et,Xe=fe?(V[xe]||[])[He]:V[Nt];if(!(!Xe||Xe.t=="z"))if(Xe.t=="n")(Xe.v|0)==Xe.v&&Xe.v>=-32768&&Xe.v<=32767?ve(W,13,m(xe,He,Xe.v)):ve(W,14,g(xe,He,Xe.v));else{var Hr=oi(Xe);ve(W,15,d(xe,He,Hr.slice(0,239)))}}return ve(W,1),W.end()}function s(V,H){var z=H||{};if(+z.codepage>=0&&Au(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var W=pn();ve(W,0,a(V));for(var re=0,fe=0;re<V.SheetNames.length;++re)(V.Sheets[V.SheetNames[re]]||{})["!ref"]&&ve(W,27,Ie(V.SheetNames[re],fe++));var Te=0;for(re=0;re<V.SheetNames.length;++re){var ke=V.Sheets[V.SheetNames[re]];if(!(!ke||!ke["!ref"])){for(var xe=bt(ke["!ref"]),et=Array.isArray(ke),He=[],Nt=Math.min(xe.e.r,8191),Xe=xe.s.r;Xe<=Nt;++Xe)for(var Hr=Ir(Xe),xt=xe.s.c;xt<=xe.e.c;++xt){Xe===xe.s.r&&(He[xt]=Br(xt));var be=He[xt]+Hr,Rr=et?(ke[Xe]||[])[xt]:ke[be];if(!(!Rr||Rr.t=="z"))if(Rr.t=="n")ve(W,23,N(Xe,xt,Te,Rr.v));else{var rn=oi(Rr);ve(W,22,S(Xe,xt,Te,rn.slice(0,239)))}}++Te}}return ve(W,1),W.end()}function i(V){var H=te(2);return H.write_shift(2,V),H}function a(V){var H=te(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var z=0,W=0,re=0,fe=0;fe<V.SheetNames.length;++fe){var Te=V.SheetNames[fe],ke=V.Sheets[Te];if(!(!ke||!ke["!ref"])){++re;var xe=Fn(ke["!ref"]);z<xe.e.r&&(z=xe.e.r),W<xe.e.c&&(W=xe.e.c)}}return z>8191&&(z=8191),H.write_shift(2,z),H.write_shift(1,re),H.write_shift(1,W),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(V,H,z){var W={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&z.qpro?(W.s.c=V.read_shift(1),V.l++,W.s.r=V.read_shift(2),W.e.c=V.read_shift(1),V.l++,W.e.r=V.read_shift(2),W):(W.s.c=V.read_shift(2),W.s.r=V.read_shift(2),H==12&&z.qpro&&(V.l+=2),W.e.c=V.read_shift(2),W.e.r=V.read_shift(2),H==12&&z.qpro&&(V.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function l(V){var H=te(8);return H.write_shift(2,V.s.c),H.write_shift(2,V.s.r),H.write_shift(2,V.e.c),H.write_shift(2,V.e.r),H}function c(V,H,z){var W=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(W[0].c=V.read_shift(1),W[3]=V.read_shift(1),W[0].r=V.read_shift(2),V.l+=2):(W[2]=V.read_shift(1),W[0].c=V.read_shift(2),W[0].r=V.read_shift(2)),W}function f(V,H,z){var W=V.l+H,re=c(V,H,z);if(re[1].t="s",z.vers==20768){V.l++;var fe=V.read_shift(1);return re[1].v=V.read_shift(fe,"utf8"),re}return z.qpro&&V.l++,re[1].v=V.read_shift(W-V.l,"cstr"),re}function d(V,H,z){var W=te(7+z.length);W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,V),W.write_shift(1,39);for(var re=0;re<W.length;++re){var fe=z.charCodeAt(re);W.write_shift(1,fe>=128?95:fe)}return W.write_shift(1,0),W}function p(V,H,z){var W=c(V,H,z);return W[1].v=V.read_shift(2,"i"),W}function m(V,H,z){var W=te(7);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,V),W.write_shift(2,z,"i"),W}function x(V,H,z){var W=c(V,H,z);return W[1].v=V.read_shift(8,"f"),W}function g(V,H,z){var W=te(13);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,V),W.write_shift(8,z,"f"),W}function y(V,H,z){var W=V.l+H,re=c(V,H,z);if(re[1].v=V.read_shift(8,"f"),z.qpro)V.l=W;else{var fe=V.read_shift(2);b(V.slice(V.l,V.l+fe),re),V.l+=fe}return re}function E(V,H,z){var W=H&32768;return H&=-32769,H=(W?V:0)+(H>=8192?H-16384:H),(W?"":"$")+(z?Br(H):Ir(H))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(V,H){Sn(V,0);for(var z=[],W=0,re="",fe="",Te="",ke="";V.l<V.length;){var xe=V[V.l++];switch(xe){case 0:z.push(V.read_shift(8,"f"));break;case 1:fe=E(H[0].c,V.read_shift(2),!0),re=E(H[0].r,V.read_shift(2),!1),z.push(fe+re);break;case 2:{var et=E(H[0].c,V.read_shift(2),!0),He=E(H[0].r,V.read_shift(2),!1);fe=E(H[0].c,V.read_shift(2),!0),re=E(H[0].r,V.read_shift(2),!1),z.push(et+He+":"+fe+re)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(V.read_shift(2));break;case 6:{for(var Nt="";xe=V[V.l++];)Nt+=String.fromCharCode(xe);z.push('"'+Nt.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:ke=z.pop(),Te=z.pop(),z.push(["AND","OR"][xe-20]+"("+Te+","+ke+")");break;default:if(xe<32&&w[xe])ke=z.pop(),Te=z.pop(),z.push(Te+w[xe]+ke);else if(_[xe]){if(W=_[xe][1],W==69&&(W=V[V.l++]),W>z.length){console.error("WK1 bad formula parse 0x"+xe.toString(16)+":|"+z.join("|")+"|");return}var Xe=z.slice(-W);z.length-=W,z.push(_[xe][0]+"("+Xe.join(",")+")")}else return xe<=7?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=24?console.error("WK1 unsupported op "+xe.toString(16)):xe<=30?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=115?console.error("WK1 unsupported function opcode "+xe.toString(16)):console.error("WK1 unrecognized opcode "+xe.toString(16))}}z.length==1?H[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function B(V){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=V.read_shift(2),H[3]=V[V.l++],H[0].c=V[V.l++],H}function G(V,H){var z=B(V);return z[1].t="s",z[1].v=V.read_shift(H-4,"cstr"),z}function S(V,H,z,W){var re=te(6+W.length);re.write_shift(2,V),re.write_shift(1,z),re.write_shift(1,H),re.write_shift(1,39);for(var fe=0;fe<W.length;++fe){var Te=W.charCodeAt(fe);re.write_shift(1,Te>=128?95:Te)}return re.write_shift(1,0),re}function k(V,H){var z=B(V);z[1].v=V.read_shift(2);var W=z[1].v>>1;if(z[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return z[1].v=W,z}function A(V,H){var z=B(V),W=V.read_shift(4),re=V.read_shift(4),fe=V.read_shift(2);if(fe==65535)return W===0&&re===3221225472?(z[1].t="e",z[1].v=15):W===0&&re===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var Te=fe&32768;return fe=(fe&32767)-16446,z[1].v=(1-Te*2)*(re*Math.pow(2,fe+32)+W*Math.pow(2,fe)),z}function N(V,H,z,W){var re=te(14);if(re.write_shift(2,V),re.write_shift(1,z),re.write_shift(1,H),W==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var fe=0,Te=0,ke=0,xe=0;return W<0&&(fe=1,W=-W),Te=Math.log2(W)|0,W/=Math.pow(2,Te-31),xe=W>>>0,xe&2147483648||(W/=2,++Te,xe=W>>>0),W-=xe,xe|=2147483648,xe>>>=0,W*=Math.pow(2,32),ke=W>>>0,re.write_shift(4,ke),re.write_shift(4,xe),Te+=16383+(fe?32768:0),re.write_shift(2,Te),re}function R(V,H){var z=A(V);return V.l+=H-14,z}function j(V,H){var z=B(V),W=V.read_shift(4);return z[1].v=W>>6,z}function D(V,H){var z=B(V),W=V.read_shift(8,"f");return z[1].v=W,z}function Pe(V,H){var z=D(V);return V.l+=H-10,z}function ie(V,H){return V[V.l+H-1]==0?V.read_shift(H,"cstr"):""}function Ve(V,H){var z=V[V.l++];z>H-1&&(z=H-1);for(var W="";W.length<z;)W+=String.fromCharCode(V[V.l++]);return W}function Ue(V,H,z){if(!(!z.qpro||H<21)){var W=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var re=V.read_shift(H-21,"cstr");return[W,re]}}function he(V,H){for(var z={},W=V.l+H;V.l<W;){var re=V.read_shift(2);if(re==14e3){for(z[re]=[0,""],z[re][0]=V.read_shift(2);V[V.l];)z[re][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return z}function Ie(V,H){var z=te(5+V.length);z.write_shift(2,14e3),z.write_shift(2,H);for(var W=0;W<V.length;++W){var re=V.charCodeAt(W);z[z.l++]=re>127?95:re}return z[z.l++]=0,z}var oe={0:{n:"BOF",f:ab},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:x},15:{n:"LABEL",f},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ie},222:{n:"SHEETNAMELP",f:Ve},65535:{n:""}},Ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:G},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:he},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:Pe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}}(),YU=/^\s|\s$|[\t\n\r]/;function fb(t,e){if(!e.bookSST)return"";var r=[nr];r[r.length]=ge("sst",null,{xmlns:$l[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var s=t[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(YU)&&(i+=' xml:space="preserve"'),i+=">"+ft(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function QU(t){return[t.read_shift(4),t.read_shift(4)]}function JU(t,e){return e||(e=te(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var eB=WV;function tB(t){var e=pn();ae(e,159,JU(t));for(var r=0;r<t.length;++r)ae(e,19,eB(t[r]));return ae(e,160),e.end()}function rB(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function db(t){var e=0,r,n=rB(t),s=n.length+1,i,a,o,l,c;for(r=Ka(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)a=r[i],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var nB=function(){function t(s,i){switch(i.type){case"base64":return e(ai(s),i);case"binary":return e(s,i);case"buffer":return e(ot&&Buffer.isBuffer(s)?s.toString("binary"):eh(s),i);case"array":return e(N0(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var a=i||{},o=a.dense?[]:{},l=s.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,d){Array.isArray(o)&&(o[d]=[]);for(var p=/\\\w+\b/g,m=0,x,g=-1;x=p.exec(f);){switch(x[0]){case"\\cell":var y=f.slice(m,p.lastIndex-x[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var E={v:y,t:"s"};Array.isArray(o)?o[d][g]=E:o[mt({r:d,c:g})]=E}break}m=p.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=rr(c),o}function r(s,i){return ao(t(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],a=bt(s["!ref"]),o,l=Array.isArray(s),c=a.s.r;c<=a.e.r;++c){i.push("\\trowd\\trautofit1");for(var f=a.s.c;f<=a.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=a.s.c;f<=a.e.c;++f){var d=mt({r:c,c:f});o=l?(s[c]||[])[f]:s[d],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(oi(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function fE(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var sB=6,Xs=sB;function kd(t){return Math.floor((t+Math.round(128/Xs)/256)*Xs)}function Sd(t){return Math.floor((t-5)/Xs*100+.5)/100}function dg(t){return Math.round((t*Xs+5)/Xs*256)/256}function Bx(t){t.width?(t.wpx=kd(t.width),t.wch=Sd(t.wpx),t.MDW=Xs):t.wpx?(t.wch=Sd(t.wpx),t.width=dg(t.wch),t.MDW=Xs):typeof t.wch=="number"&&(t.width=dg(t.wch),t.wpx=kd(t.width),t.MDW=Xs),t.customWidth&&delete t.customWidth}var iB=96,pb=iB;function Ad(t){return t*96/pb}function mb(t){return t*pb/96}function aB(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=ge("numFmt",null,{numFmtId:n,formatCode:ft(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ge("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function oB(t){var e=[];return e[e.length]=ge("cellXfs",null),t.forEach(function(r){e[e.length]=ge("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ge("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function gb(t,e){var r=[nr,ge("styleSheet",null,{xmlns:$l[0],"xmlns:vt":dr.vt})],n;return t.SSF&&(n=aB(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=oB(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function lB(t,e){var r=t.read_shift(2),n=$r(t);return[r,n]}function cB(t,e,r){r||(r=te(6+4*e.length)),r.write_shift(2,t),mr(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function uB(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=YV(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=XV(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=$r(t),n}function hB(t,e){e||(e=te(25+4*32)),e.write_shift(2,t.sz*20),QV(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Ed(t.color,e);var n=0;return n=2,e.write_shift(1,n),mr(t.name,e),e.length>e.l?e.slice(0,e.l):e}var fB=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Dp,dB=Ps;function dE(t,e){e||(e=te(4*3+8*7+16*1)),Dp||(Dp=Nx(fB));var r=Dp[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Ed({auto:1},e),Ed({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function pB(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}function vb(t,e,r){r||(r=te(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function hc(t,e){return e||(e=te(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var mB=Ps;function gB(t,e){return e||(e=te(51)),e.write_shift(1,0),hc(null,e),hc(null,e),hc(null,e),hc(null,e),hc(null,e),e.length>e.l?e.slice(0,e.l):e}function vB(t,e){return e||(e=te(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),wd(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function xB(t,e,r){var n=te(2052);return n.write_shift(4,t),wd(e,n),wd(r,n),n.length>n.l?n.slice(0,n.l):n}function yB(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&++r}),r!=0&&(ae(t,615,us(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&ae(t,44,cB(s,e[s]))}),ae(t,616))}}function _B(t){var e=1;ae(t,611,us(e)),ae(t,43,hB({sz:12,color:{theme:1},name:"Calibri",family:2})),ae(t,612)}function wB(t){var e=2;ae(t,603,us(e)),ae(t,45,dE({patternType:"none"})),ae(t,45,dE({patternType:"gray125"})),ae(t,604)}function EB(t){var e=1;ae(t,613,us(e)),ae(t,46,gB()),ae(t,614)}function TB(t){var e=1;ae(t,626,us(e)),ae(t,47,vb({numFmtId:0},65535)),ae(t,627)}function kB(t,e){ae(t,617,us(e.length)),e.forEach(function(r){ae(t,47,vb(r,0))}),ae(t,618)}function SB(t){var e=1;ae(t,619,us(e)),ae(t,48,vB({xfId:0,name:"Normal"})),ae(t,620)}function AB(t){var e=0;ae(t,505,us(e)),ae(t,506)}function IB(t){var e=0;ae(t,508,xB(e,"TableStyleMedium9","PivotStyleMedium4")),ae(t,509)}function bB(t,e){var r=pn();return ae(r,278),yB(r,t.SSF),_B(r),wB(r),EB(r),TB(r),kB(r,e.cellXfs),SB(r),AB(r),IB(r),ae(r,279),r.end()}function xb(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[nr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function NB(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:$r(t)}}function CB(t){var e=te(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),mr(t.name,e),e.slice(0,e.l)}function RB(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function PB(t){var e=te(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function DB(t,e){var r=te(8+2*e.length);return r.write_shift(4,t),mr(e,r),r.slice(0,r.l)}function OB(t){return t.l+=4,t.read_shift(4)!=0}function FB(t,e){var r=te(8);return r.write_shift(4,t),r.write_shift(4,1),r}function jB(){var t=pn();return ae(t,332),ae(t,334,us(1)),ae(t,335,CB({name:"XLDAPR",version:12e4,flags:3496657072})),ae(t,336),ae(t,339,DB(1,"XLDAPR")),ae(t,52),ae(t,35,us(514)),ae(t,4096,us(0)),ae(t,4097,Vn(1)),ae(t,36),ae(t,53),ae(t,340),ae(t,337,FB(1)),ae(t,51,PB([[1,0]])),ae(t,338),ae(t,333),t.end()}function yb(){var t=[nr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function LB(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=mt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var $o=1024;function _b(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[ge("xml",null,{"xmlns:v":An.v,"xmlns:o":An.o,"xmlns:x":An.x,"xmlns:mv":An.mv}).replace(/\/>/,">"),ge("o:shapelayout",ge("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),ge("v:shapetype",[ge("v:stroke",null,{joinstyle:"miter"}),ge("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];$o<t*1e3;)$o+=1e3;return e.forEach(function(i){var a=pr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?ge("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=ge("v:fill",l,o),f={on:"t",obscured:"t"};++$o,s=s.concat(["<v:shape"+Cu({id:"_x0000_s"+$o,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,ge("v:shadow",null,f),ge("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",kr("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),kr("x:AutoFill","False"),kr("x:Row",String(a.r)),kr("x:Column",String(a.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function wb(t){var e=[nr,ge("comments",null,{xmlns:$l[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(s){var i=ft(s.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(s=r.indexOf(ft(l.a))),i.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)e.push(kr("t",ft(i[0]||"")));else{for(var a=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)a+=`Reply:
    `+i[o]+`
`;e.push(kr("t",ft(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function MB(t,e,r){var n=[nr,ge("ThreadedComments",null,{xmlns:dr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var i="";(s[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(ge("threadedComment",kr("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function VB(t){var e=[nr,ge("personList",null,{xmlns:dr.TCMNT,"xmlns:x":$l[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(ge("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function UB(t){var e={};e.iauthor=t.read_shift(4);var r=uo(t);return e.rfx=r.s,e.ref=mt(r.s),t.l+=16,e}function BB(t,e){return e==null&&(e=te(36)),e.write_shift(4,t[1].iauthor),Wl(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var $B=$r;function zB(t){return mr(t.slice(0,54))}function WB(t){var e=pn(),r=[];return ae(e,628),ae(e,630),t.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),ae(e,632,zB(s.a)))})}),ae(e,631),ae(e,633),t.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:pr(n[0]),e:pr(n[0])};ae(e,635,BB([i,s])),s.t&&s.t.length>0&&ae(e,637,GV(s)),ae(e,636),delete s.iauthor})}),ae(e,634),ae(e,629),e.end()}function HB(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&vt.utils.cfb_add(t,s,e.FileIndex[n].content)}})}var Eb=["xlsb","xlsm","xlam","biff8","xla"],GB=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,i,a){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,f=a.length>0?parseInt(a,10)|0:0;return o?f+=e.c:--f,l?c+=e.r:--c,s+(o?"":"$")+Br(f)+(l?"":"$")+Ir(c)}return function(s,i){return e=i,s.replace(t,r)}}(),$x=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,zx=function(){return function(e,r){return e.replace($x,function(n,s,i,a,o,l){var c=jx(a)-(i?0:r.c),f=Fx(l)-(o?0:r.r),d=f==0?"":o?f+1:"["+f+"]",p=c==0?"":i?c+1:"["+c+"]";return s+"R"+d+"C"+p})}}();function qB(t,e){return t.replace($x,function(r,n,s,i,a,o){return n+(s=="$"?s+i:Br(jx(i)+e.c))+(a=="$"?a+o:Ir(Fx(o)+e.r))})}function KB(t){return t.length!=1}function Xt(t){t.l+=1}function ia(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Tb(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return kb(t);r.biff==12&&(n=4)}var s=t.read_shift(n),i=t.read_shift(n),a=ia(t),o=ia(t);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function kb(t){var e=ia(t),r=ia(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function ZB(t,e,r){if(r.biff<8)return kb(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),i=ia(t),a=ia(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function Sb(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return XB(t);var n=t.read_shift(r&&r.biff==12?4:2),s=ia(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function XB(t){var e=ia(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function YB(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function QB(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return JB(t);var s=t.read_shift(n>=12?4:2),i=t.read_shift(2),a=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;s>524287;)s-=1048576;if(a==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:a,rRel:o}}function JB(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function e$(t,e,r){var n=(t[t.l++]&96)>>5,s=Tb(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function t$(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var a=Tb(t,i,r);return[n,s,a]}function r$(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function n$(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,s]}function s$(t,e,r){var n=(t[t.l++]&96)>>5,s=ZB(t,e-1,r);return[n,s]}function i$(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function pE(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function a$(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function o$(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function l$(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function c$(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function u$(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function Ab(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function h$(t){return t.read_shift(2),Ab(t)}function f$(t){return t.read_shift(2),Ab(t)}function d$(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=Sb(t,0,r);return[n,s]}function p$(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=QB(t,0,r);return[n,s]}function m$(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=Sb(t,0,r);return[n,s,i]}function g$(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[gz[s],Nb[s],n]}function v$(t,e,r){var n=t[t.l++],s=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:x$(t);return[s,(i[0]===0?Nb:mz)[i[1]]]}function x$(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function y$(t,e,r){t.l+=r&&r.biff==2?3:4}function _$(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function w$(t){return t.l++,nh[t.read_shift(1)]}function E$(t){return t.l++,t.read_shift(2)}function T$(t){return t.l++,t.read_shift(1)!==0}function k$(t){return t.l++,Hl(t)}function S$(t,e,r){return t.l++,lb(t,e-1,r)}function A$(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=mU(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=nh[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Hl(t);break;case 2:r[1]=yU(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function I$(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?uo:EU)(t));return s}function b$(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,a=[];i!=n&&(a[i]=[]);++i)for(var o=0;o!=s;++o)a[i][o]=A$(t,r.biff);return a}function N$(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function C$(t,e,r){if(r.biff==5)return R$(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[n,s,i]}function R$(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function P$(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function D$(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function O$(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function F$(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,s]}var j$=Ps,L$=Ps,M$=Ps;function sh(t,e,r){return t.l+=2,[YB(t)]}function Wx(t){return t.l+=6,[]}var V$=sh,U$=Wx,B$=Wx,$$=sh;function Ib(t){return t.l+=2,[ab(t),t.read_shift(2)&1]}var z$=sh,W$=Ib,H$=Wx,G$=sh,q$=sh,K$=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Z$(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),a=K$[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:s,C:i}}function X$(t){return t.l+=2,[t.read_shift(4)]}function Y$(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function Q$(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function J$(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function ez(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function tz(t){return t.l+=4,[0,0]}var mE={1:{n:"PtgExp",f:_$},2:{n:"PtgTbl",f:M$},3:{n:"PtgAdd",f:Xt},4:{n:"PtgSub",f:Xt},5:{n:"PtgMul",f:Xt},6:{n:"PtgDiv",f:Xt},7:{n:"PtgPower",f:Xt},8:{n:"PtgConcat",f:Xt},9:{n:"PtgLt",f:Xt},10:{n:"PtgLe",f:Xt},11:{n:"PtgEq",f:Xt},12:{n:"PtgGe",f:Xt},13:{n:"PtgGt",f:Xt},14:{n:"PtgNe",f:Xt},15:{n:"PtgIsect",f:Xt},16:{n:"PtgUnion",f:Xt},17:{n:"PtgRange",f:Xt},18:{n:"PtgUplus",f:Xt},19:{n:"PtgUminus",f:Xt},20:{n:"PtgPercent",f:Xt},21:{n:"PtgParen",f:Xt},22:{n:"PtgMissArg",f:Xt},23:{n:"PtgStr",f:S$},26:{n:"PtgSheet",f:Y$},27:{n:"PtgEndSheet",f:Q$},28:{n:"PtgErr",f:w$},29:{n:"PtgBool",f:T$},30:{n:"PtgInt",f:E$},31:{n:"PtgNum",f:k$},32:{n:"PtgArray",f:i$},33:{n:"PtgFunc",f:g$},34:{n:"PtgFuncVar",f:v$},35:{n:"PtgName",f:N$},36:{n:"PtgRef",f:d$},37:{n:"PtgArea",f:e$},38:{n:"PtgMemArea",f:P$},39:{n:"PtgMemErr",f:j$},40:{n:"PtgMemNoMem",f:L$},41:{n:"PtgMemFunc",f:D$},42:{n:"PtgRefErr",f:O$},43:{n:"PtgAreaErr",f:r$},44:{n:"PtgRefN",f:p$},45:{n:"PtgAreaN",f:s$},46:{n:"PtgMemAreaN",f:J$},47:{n:"PtgMemNoMemN",f:ez},57:{n:"PtgNameX",f:C$},58:{n:"PtgRef3d",f:m$},59:{n:"PtgArea3d",f:t$},60:{n:"PtgRefErr3d",f:F$},61:{n:"PtgAreaErr3d",f:n$},255:{}},rz={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},nz={1:{n:"PtgElfLel",f:Ib},2:{n:"PtgElfRw",f:G$},3:{n:"PtgElfCol",f:V$},6:{n:"PtgElfRwV",f:q$},7:{n:"PtgElfColV",f:$$},10:{n:"PtgElfRadical",f:z$},11:{n:"PtgElfRadicalS",f:H$},13:{n:"PtgElfColS",f:U$},15:{n:"PtgElfColSV",f:B$},16:{n:"PtgElfRadicalLel",f:W$},25:{n:"PtgList",f:Z$},29:{n:"PtgSxName",f:X$},255:{}},sz={0:{n:"PtgAttrNoop",f:tz},1:{n:"PtgAttrSemi",f:u$},2:{n:"PtgAttrIf",f:l$},4:{n:"PtgAttrChoose",f:a$},8:{n:"PtgAttrGoto",f:o$},16:{n:"PtgAttrSum",f:y$},32:{n:"PtgAttrBaxcel",f:pE},33:{n:"PtgAttrBaxcel",f:pE},64:{n:"PtgAttrSpace",f:h$},65:{n:"PtgAttrSpaceSemi",f:f$},128:{n:"PtgAttrIfError",f:c$},255:{}};function iz(t,e,r,n){if(n.biff<8)return Ps(t,e);for(var s=t.l+e,i=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=b$(t,0,n),i.push(r[a][1]);break;case"PtgMemArea":r[a][2]=I$(t,r[a][1],n),i.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),i.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=s-t.l,e!==0&&i.push(Ps(t,e)),i}function az(t,e,r){for(var n=t.l+e,s,i,a=[];n!=t.l;)e=n-t.l,i=t[t.l],s=mE[i]||mE[rz[i]],(i===24||i===25)&&(s=(i===24?nz:sz)[t[t.l+1]]),!s||!s.f?Ps(t,e):a.push([s.n,s.f(t,e,r)]);return a}function oz(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],i=0;i<n.length;++i){var a=n[i];if(a)switch(a[0]){case 2:s.push('"'+a[1].replace(/"/g,'""')+'"');break;default:s.push(a[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var lz={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function cz(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function bb(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function gE(t,e,r){var n=bb(t,e,r);return n=="#REF"?n:cz(n,r)}function Al(t,e,r,n,s){var i=s&&s.biff||8,a={s:{c:0,r:0}},o=[],l,c,f,d=0,p=0,m,x="";if(!t[0]||!t[0][0])return"";for(var g=-1,y="",E=0,_=t[0].length;E<_;++E){var w=t[0][E];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:y=Ht(" ",t[0][g][1][1]);break;case 1:y=Ht("\r",t[0][g][1][1]);break;default:if(y="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+y,g=-1}o.push(c+lz[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Hc(w[1][1],a,s),o.push(Gc(f,i));break;case"PtgRefN":f=r?Hc(w[1][1],r,s):w[1][1],o.push(Gc(f,i));break;case"PtgRef3d":d=w[1][1],f=Hc(w[1][2],a,s),x=gE(n,d,s),o.push(x+"!"+Gc(f,i));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],B=w[1][1];b||(b=0),b&=127;var G=b==0?[]:o.slice(-b);o.length-=b,B==="User"&&(B=G.shift()),o.push(B+"("+G.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":m=eE(w[1][1],r?{s:r}:a,s),o.push(Rp(m,s));break;case"PtgArea":m=eE(w[1][1],a,s),o.push(Rp(m,s));break;case"PtgArea3d":d=w[1][1],m=w[1][2],x=gE(n,d,s),o.push(x+"!"+Rp(m,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=w[1][2];var S=(n.names||[])[p-1]||(n[0]||[])[p],k=S?S.Name:"SH33TJSNAME"+String(p);k&&k.slice(0,6)=="_xlfn."&&!s.xlfn&&(k=k.slice(6)),o.push(k);break;case"PtgNameX":var A=w[1][1];p=w[1][2];var N;if(s.biff<=5)A<0&&(A=-A),n[A]&&(N=n[A][p]);else{var R="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][p]&&n[A][p].itab>0&&(R=n.SheetNames[n[A][p].itab-1]+"!"):R=n.SheetNames[p-1]+"!"),n[A]&&n[A][p])R+=n[A][p].Name;else if(n[0]&&n[0][p])R+=n[0][p].Name;else{var j=(bb(n,A,s)||"").split(";;");j[p-1]?R=j[p-1]:R+="SH33TJSERRX"}o.push(R);break}N||(N={Name:"SH33TJSERRY"}),o.push(N.Name);break;case"PtgParen":var D="(",Pe=")";if(g>=0){switch(y="",t[0][g][1][0]){case 2:D=Ht(" ",t[0][g][1][1])+D;break;case 3:D=Ht("\r",t[0][g][1][1])+D;break;case 4:Pe=Ht(" ",t[0][g][1][1])+Pe;break;case 5:Pe=Ht("\r",t[0][g][1][1])+Pe;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(D+o.pop()+Pe);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:w[1][1],r:w[1][0]};var ie={c:r.c,r:r.r};if(n.sharedf[mt(f)]){var Ve=n.sharedf[mt(f)];o.push(Al(Ve,a,ie,n,s))}else{var Ue=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(f.c<c[0].s.c||f.c>c[0].e.c)&&!(f.r<c[0].s.r||f.r>c[0].e.r)){o.push(Al(c[1],a,ie,n,s)),Ue=!0;break}Ue||o.push(w[1])}break;case"PtgArray":o.push("{"+oz(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var he=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&g>=0&&he.indexOf(t[0][E][0])==-1){w=t[0][g];var Ie=!0;switch(w[1][0]){case 4:Ie=!1;case 0:y=Ht(" ",w[1][1]);break;case 5:Ie=!1;case 1:y=Ht("\r",w[1][1]);break;default:if(y="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((Ie?y:"")+o.pop()+(Ie?"":y)),g=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function uz(t){if(t==null){var e=te(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Za(t);return Za(0)}function hz(t,e,r,n,s){var i=Xa(e,r,s),a=uz(t.v),o=te(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=te(t.bf.length),f=0;f<t.bf.length;++f)c[f]=t.bf[f];var d=Tr([i,a,o,c]);return d}function C0(t,e,r){var n=t.read_shift(4),s=az(t,n,r),i=t.read_shift(4),a=i>0?iz(t,i,s,r):null;return[s,a]}var fz=C0,R0=C0,dz=C0,pz=C0,mz={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Nb={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},gz={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function vz(t){var e="of:="+t.replace($x,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function xz(t){return t.replace(/\./,"!")}var qc=typeof Map<"u";function Hx(t,e,r){var n=0,s=t.length;if(r){if(qc?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=qc?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<s;++n)if(t[n].t===e)return t.Count++,n;return t[s]={t:e},t.Count++,t.Unique++,r&&(qc?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function P0(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Xs=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Sd(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=dg(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function Cb(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function ma(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],s=60,i=t.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){SI(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=n=s;break}}for(s=0;s!=i;++s)if(t[s].numFmtId===n)return s;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function yz(t,e,r){if(t&&t["!ref"]){var n=bt(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function _z(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+rr(t[r])+'"/>';return e+"</mergeCells>"}function wz(t,e,r,n,s){var i=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,a.codeName=Nu(ft(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+ge("outlinePr",null,c)}!i&&!o||(s[s.length]=ge("sheetPr",o,a))}var Ez=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Tz=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function kz(t){var e={sheet:1};return Ez.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),Tz.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=db(t.password).toString(16).toUpperCase()),ge("sheetProtection",null,e)}function Sz(t){return Cb(t),ge("pageMargins",null,t)}function Az(t,e){for(var r=["<cols>"],n,s=0;s!=e.length;++s)(n=e[s])&&(r[r.length]=ge("col",null,P0(s,n)));return r[r.length]="</cols>",r.join("")}function Iz(t,e,r,n){var s=typeof t.ref=="string"?t.ref:rr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,a=Fn(s);a.s.r==a.e.r&&(a.e.r=Fn(e["!ref"]).e.r,s=rr(a));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),ge("autoFilter",null,{ref:s})}function bz(t,e,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ge("sheetViews",ge("sheetView",null,s),{})}function Nz(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",i=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=nh[t.v];break;case"d":n&&n.cellDates?s=Jr(t.v,-1).toISOString():(t=gn(t),t.t="n",s=""+(t.v=mn(Jr(t.v)))),typeof t.z>"u"&&(t.z=Gt[14]);break;default:s=t.v;break}var o=kr("v",ft(s)),l={r:e},c=ma(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=kr("v",""+Hx(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=i&&(t.t=i,t.v=a),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=ge("f",ft(t.f),f)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),ge("c",o,l)}function Cz(t,e,r,n){var s=[],i=[],a=bt(t["!ref"]),o="",l,c="",f=[],d=0,p=0,m=t["!rows"],x=Array.isArray(t),g={r:c},y,E=-1;for(p=a.s.c;p<=a.e.c;++p)f[p]=Br(p);for(d=a.s.r;d<=a.e.r;++d){for(i=[],c=Ir(d),p=a.s.c;p<=a.e.c;++p){l=f[p]+c;var _=x?(t[d]||[])[p]:t[l];_!==void 0&&(o=Nz(_,l,t,e))!=null&&i.push(o)}(i.length>0||m&&m[d])&&(g={r:c},m&&m[d]&&(y=m[d],y.hidden&&(g.hidden=1),E=-1,y.hpx?E=Ad(y.hpx):y.hpt&&(E=y.hpt),E>-1&&(g.ht=E,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),s[s.length]=ge("row",i.join(""),g))}if(m)for(;d<m.length;++d)m&&m[d]&&(g={r:d+1},y=m[d],y.hidden&&(g.hidden=1),E=-1,y.hpx?E=Ad(y.hpx):y.hpt&&(E=y.hpt),E>-1&&(g.ht=E,g.customHeight=1),y.level&&(g.outlineLevel=y.level),s[s.length]=ge("row","",g));return s.join("")}function Rb(t,e,r,n){var s=[nr,ge("worksheet",null,{xmlns:$l[0],"xmlns:r":dr.r})],i=r.SheetNames[t],a=0,o="",l=r.Sheets[i];l==null&&(l={});var c=l["!ref"]||"A1",f=bt(c);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),c=rr(f)}n||(n={}),l["!comments"]=[];var d=[];wz(l,r,t,e,s),s[s.length]=ge("dimension",null,{ref:c}),s[s.length]=bz(l,e,t,r),e.sheetFormat&&(s[s.length]=ge("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(s[s.length]=Az(l,l["!cols"])),s[a=s.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=Cz(l,e),o.length>0&&(s[s.length]=o)),s.length>a+1&&(s[s.length]="</sheetData>",s[a]=s[a].replace("/>",">")),l["!protect"]&&(s[s.length]=kz(l["!protect"])),l["!autofilter"]!=null&&(s[s.length]=Iz(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(s[s.length]=_z(l["!merges"]));var p=-1,m,x=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(x=ut(n,-1,ft(g[1].Target).replace(/#.*$/,""),it.HLINK),m["r:id"]="rId"+x),(p=g[1].Target.indexOf("#"))>-1&&(m.location=ft(g[1].Target.slice(p+1))),g[1].Tooltip&&(m.tooltip=ft(g[1].Tooltip)),s[s.length]=ge("hyperlink",null,m))}),s[s.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(s[s.length]=Sz(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=kr("ignoredErrors",ge("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(x=ut(n,-1,"../drawings/drawing"+(t+1)+".xml",it.DRAW),s[s.length]=ge("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=d),l["!comments"].length>0&&(x=ut(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",it.VML),s[s.length]=ge("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Rz(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function Pz(t,e,r){var n=te(145),s=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;s.hpx?i=Ad(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var a=0;s.level&&(a|=s.level),s.hidden&&(a|=16),(s.hpx||s.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var d=-1,p=-1,m=f<<10;m<f+1<<10;++m){c.c=m;var x=Array.isArray(r)?(r[c.r]||[])[c.c]:r[mt(c)];x&&(d<0&&(d=m),p=m)}d<0||(++o,n.write_shift(4,d),n.write_shift(4,p))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function Dz(t,e,r,n){var s=Pz(n,r,e);(s.length>17||(e["!rows"]||[])[n])&&ae(t,0,s)}var Oz=uo,Fz=Wl;function jz(){}function Lz(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=qV(t),r}function Mz(t,e,r){r==null&&(r=te(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return Ed({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),GI(t,r),r.slice(0,r.l)}function Vz(t){var e=Zn(t);return[e]}function Uz(t,e,r){return r==null&&(r=te(8)),oo(e,r)}function Bz(t){var e=lo(t);return[e]}function $z(t,e,r){return r==null&&(r=te(4)),co(e,r)}function zz(t){var e=Zn(t),r=t.read_shift(1);return[e,r,"b"]}function Wz(t,e,r){return r==null&&(r=te(9)),oo(e,r),r.write_shift(1,t.v?1:0),r}function Hz(t){var e=lo(t),r=t.read_shift(1);return[e,r,"b"]}function Gz(t,e,r){return r==null&&(r=te(5)),co(e,r),r.write_shift(1,t.v?1:0),r}function qz(t){var e=Zn(t),r=t.read_shift(1);return[e,r,"e"]}function Kz(t,e,r){return r==null&&(r=te(9)),oo(e,r),r.write_shift(1,t.v),r}function Zz(t){var e=lo(t),r=t.read_shift(1);return[e,r,"e"]}function Xz(t,e,r){return r==null&&(r=te(8)),co(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function Yz(t){var e=Zn(t),r=t.read_shift(4);return[e,r,"s"]}function Qz(t,e,r){return r==null&&(r=te(12)),oo(e,r),r.write_shift(4,e.v),r}function Jz(t){var e=lo(t),r=t.read_shift(4);return[e,r,"s"]}function eW(t,e,r){return r==null&&(r=te(8)),co(e,r),r.write_shift(4,e.v),r}function tW(t){var e=Zn(t),r=Hl(t);return[e,r,"n"]}function rW(t,e,r){return r==null&&(r=te(16)),oo(e,r),Za(t.v,r),r}function nW(t){var e=lo(t),r=Hl(t);return[e,r,"n"]}function sW(t,e,r){return r==null&&(r=te(12)),co(e,r),Za(t.v,r),r}function iW(t){var e=Zn(t),r=qI(t);return[e,r,"n"]}function aW(t,e,r){return r==null&&(r=te(12)),oo(e,r),KI(t.v,r),r}function oW(t){var e=lo(t),r=qI(t);return[e,r,"n"]}function lW(t,e,r){return r==null&&(r=te(8)),co(e,r),KI(t.v,r),r}function cW(t){var e=Zn(t),r=Lx(t);return[e,r,"is"]}function uW(t){var e=Zn(t),r=$r(t);return[e,r,"str"]}function hW(t,e,r){return r==null&&(r=te(12+4*t.v.length)),oo(e,r),mr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function fW(t){var e=lo(t),r=$r(t);return[e,r,"str"]}function dW(t,e,r){return r==null&&(r=te(8+4*t.v.length)),co(e,r),mr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function pW(t,e,r){var n=t.l+e,s=Zn(t);s.r=r["!row"];var i=t.read_shift(1),a=[s,i,"b"];if(r.cellFormula){t.l+=2;var o=R0(t,n-t.l,r);a[3]=Al(o,null,s,r.supbooks,r)}else t.l=n;return a}function mW(t,e,r){var n=t.l+e,s=Zn(t);s.r=r["!row"];var i=t.read_shift(1),a=[s,i,"e"];if(r.cellFormula){t.l+=2;var o=R0(t,n-t.l,r);a[3]=Al(o,null,s,r.supbooks,r)}else t.l=n;return a}function gW(t,e,r){var n=t.l+e,s=Zn(t);s.r=r["!row"];var i=Hl(t),a=[s,i,"n"];if(r.cellFormula){t.l+=2;var o=R0(t,n-t.l,r);a[3]=Al(o,null,s,r.supbooks,r)}else t.l=n;return a}function vW(t,e,r){var n=t.l+e,s=Zn(t);s.r=r["!row"];var i=$r(t),a=[s,i,"str"];if(r.cellFormula){t.l+=2;var o=R0(t,n-t.l,r);a[3]=Al(o,null,s,r.supbooks,r)}else t.l=n;return a}var xW=uo,yW=Wl;function _W(t,e){return e==null&&(e=te(4)),e.write_shift(4,t),e}function wW(t,e){var r=t.l+e,n=uo(t),s=Mx(t),i=$r(t),a=$r(t),o=$r(t);t.l=r;var l={rfx:n,relId:s,loc:i,display:o};return a&&(l.Tooltip=a),l}function EW(t,e){var r=te(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Wl({s:pr(t[0]),e:pr(t[0])},r),Vx("rId"+e,r);var n=t[1].Target.indexOf("#"),s=n==-1?"":t[1].Target.slice(n+1);return mr(s||"",r),mr(t[1].Tooltip||"",r),mr("",r),r.slice(0,r.l)}function TW(){}function kW(t,e,r){var n=t.l+e,s=ZI(t),i=t.read_shift(1),a=[s];if(a[2]=i,r.cellFormula){var o=fz(t,n-t.l,r);a[1]=o}else t.l=n;return a}function SW(t,e,r){var n=t.l+e,s=uo(t),i=[s];if(r.cellFormula){var a=pz(t,n-t.l,r);i[1]=a,t.l=n}else t.l=n;return i}function AW(t,e,r){r==null&&(r=te(18));var n=P0(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var Pb=["left","right","top","bottom","header","footer"];function IW(t){var e={};return Pb.forEach(function(r){e[r]=Hl(t)}),e}function bW(t,e){return e==null&&(e=te(6*8)),Cb(t),Pb.forEach(function(r){Za(t[r],e)}),e}function NW(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function CW(t,e,r){r==null&&(r=te(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function RW(t){var e=te(24);return e.write_shift(4,4),e.write_shift(4,1),Wl(t,e),e}function PW(t,e){return e==null&&(e=te(16*4+2)),e.write_shift(2,t.password?db(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function DW(){}function OW(){}function FW(t,e,r,n,s,i,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=gn(e),e.z=e.z||Gt[14],e.v=mn(Jr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=ma(s.cellXfs,e,s),e.l&&i["!links"].push([mt(l),e.l]),e.c&&i["!comments"].push([mt(l),e.c]),e.t){case"s":case"str":return s.bookSST?(o=Hx(s.Strings,e.v,s.revStrings),l.t="s",l.v=o,a?ae(t,18,eW(e,l)):ae(t,7,Qz(e,l))):(l.t="str",a?ae(t,17,dW(e,l)):ae(t,6,hW(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?ae(t,13,lW(e,l)):ae(t,2,aW(e,l)):a?ae(t,16,sW(e,l)):ae(t,5,rW(e,l)),!0;case"b":return l.t="b",a?ae(t,15,Gz(e,l)):ae(t,4,Wz(e,l)),!0;case"e":return l.t="e",a?ae(t,14,Xz(e,l)):ae(t,3,Kz(e,l)),!0}return a?ae(t,12,$z(e,l)):ae(t,1,Uz(e,l)),!0}function jW(t,e,r,n){var s=bt(e["!ref"]||"A1"),i,a="",o=[];ae(t,145);var l=Array.isArray(e),c=s.e.r;e["!rows"]&&(c=Math.max(s.e.r,e["!rows"].length-1));for(var f=s.s.r;f<=c;++f){a=Ir(f),Dz(t,e,s,f);var d=!1;if(f<=s.e.r)for(var p=s.s.c;p<=s.e.c;++p){f===s.s.r&&(o[p]=Br(p)),i=o[p]+a;var m=l?(e[f]||[])[p]:e[i];if(!m){d=!1;continue}d=FW(t,m,f,p,n,e,d)}}ae(t,146)}function LW(t,e){!e||!e["!merges"]||(ae(t,177,_W(e["!merges"].length)),e["!merges"].forEach(function(r){ae(t,176,yW(r))}),ae(t,178))}function MW(t,e){!e||!e["!cols"]||(ae(t,390),e["!cols"].forEach(function(r,n){r&&ae(t,60,AW(n,r))}),ae(t,391))}function VW(t,e){!e||!e["!ref"]||(ae(t,648),ae(t,649,RW(bt(e["!ref"]))),ae(t,650))}function UW(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var s=ut(r,-1,n[1].Target.replace(/#.*$/,""),it.HLINK);ae(t,494,EW(n,s))}}),delete e["!links"]}function BW(t,e,r,n){if(e["!comments"].length>0){var s=ut(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",it.VML);ae(t,551,Vx("rId"+s)),e["!legacy"]=s}}function $W(t,e,r,n){if(e["!autofilter"]){var s=e["!autofilter"],i=typeof s.ref=="string"?s.ref:rr(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Fn(i);o.s.r==o.e.r&&(o.e.r=Fn(e["!ref"]).e.r,i=rr(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ae(t,161,Wl(bt(i))),ae(t,162)}}function zW(t,e,r){ae(t,133),ae(t,137,CW(e,r)),ae(t,138),ae(t,134)}function WW(t,e){e["!protect"]&&ae(t,535,PW(e["!protect"]))}function HW(t,e,r,n){var s=pn(),i=r.SheetNames[t],a=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=bt(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],ae(s,129),(r.vbaraw||a["!outline"])&&ae(s,147,Mz(o,a["!outline"])),ae(s,148,Fz(l)),zW(s,a,r.Workbook),MW(s,a),jW(s,a,t,e),WW(s,a),$W(s,a,r,t),LW(s,a),UW(s,a,n),a["!margins"]&&ae(s,476,bW(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&VW(s,a),BW(s,a,t,n),ae(s,130),s.end()}function GW(t,e){t.l+=10;var r=$r(t);return{name:r}}var qW=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function KW(t){return!t.Workbook||!t.Workbook.WBProps?"false":SV(t.Workbook.WBProps.date1904)?"true":"false"}var ZW="][*?/\\".split("");function Db(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return ZW.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function XW(t,e,r){t.forEach(function(n,s){Db(n);for(var i=0;i<s;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[s]&&e[s].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function YW(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];XW(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)yz(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function Ob(t){var e=[nr];e[e.length]=ge("workbook",null,{xmlns:$l[0],"xmlns:r":dr.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(qW.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=ge("workbookPr",null,n);var s=t.Workbook&&t.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var a={name:ft(t.SheetNames[i].slice(0,31))};if(a.sheetId=""+(i+1),a["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=ge("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=ge("definedName",ft(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function QW(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=fg(t),r.name=$r(t),r}function JW(t,e){return e||(e=te(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),Vx(t.strRelID,e),mr(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function eH(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?$r(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function tH(t,e){e||(e=te(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),GI(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function rH(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=KV(t),a=dz(t,0,r),o=Mx(t);t.l=n;var l={Name:i,Ptg:a};return s<268435455&&(l.Sheet=s),o&&(l.Comment=o),l}function nH(t,e){ae(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ae(t,156,JW(s))}ae(t,144)}function sH(t,e){e||(e=te(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return mr("SheetJS",e),mr(pd.version,e),mr(pd.version,e),mr("7262",e),e.length>e.l?e.slice(0,e.l):e}function iH(t,e){e||(e=te(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function aH(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(ae(t,135),ae(t,158,iH(s)),ae(t,136))}}function oH(t,e){var r=pn();return ae(r,131),ae(r,128,sH()),ae(r,153,tH(t.Workbook&&t.Workbook.WBProps||null)),aH(r,t),nH(r,t),ae(r,132),r.end()}function lH(t,e,r){return(e.slice(-4)===".bin"?oH:Ob)(t)}function cH(t,e,r,n,s){return(e.slice(-4)===".bin"?HW:Rb)(t,r,n,s)}function uH(t,e,r){return(e.slice(-4)===".bin"?bB:gb)(t,r)}function hH(t,e,r){return(e.slice(-4)===".bin"?tB:fb)(t,r)}function fH(t,e,r){return(e.slice(-4)===".bin"?WB:wb)(t)}function dH(t){return(t.slice(-4)===".bin"?jB:yb)()}function pH(t,e){var r=[];return t.Props&&r.push(uU(t.Props,e)),t.Custprops&&r.push(hU(t.Props,t.Custprops)),r.join("")}function mH(){return""}function gH(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,s){var i=[];i.push(ge("NumberFormat",null,{"ss:Format":ft(Gt[n.numFmtId])}));var a={"ss:ID":"s"+(21+s)};r.push(ge("Style",i.join(""),a))}),ge("Styles",r.join(""))}function Fb(t){return ge("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+zx(t.Ref,{r:0,c:0})})}function vH(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var s=e[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(Fb(s)))}return ge("Names",r.join(""))}function xH(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],a=0;a<s.length;++a){var o=s[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(Fb(o)))}return i.join("")}function yH(t,e,r,n){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(ge("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(ge("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(ge("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(ge("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(kr("ProtectContents","True")),t["!protect"].objects&&s.push(kr("ProtectObjects","True")),t["!protect"].scenarios&&s.push(kr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(kr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(kr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&s.push("<"+a[1]+"/>")})),s.length==0?"":ge("WorksheetOptions",s.join(""),{xmlns:An.x})}function _H(t){return t.map(function(e){var r=kV(e.t||""),n=ge("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ge("Comment",n,{"ss:Author":e.a})}).join("")}function wH(t,e,r,n,s,i,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+ft(zx(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=pr(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=ft(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=ft(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],f=0;f!=c.length;++f)c[f].s.c!=a.c||c[f].s.r!=a.r||(c[f].e.c>c[f].s.c&&(o["ss:MergeAcross"]=c[f].e.c-c[f].s.c),c[f].e.r>c[f].s.r&&(o["ss:MergeDown"]=c[f].e.r-c[f].s.r));var d="",p="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",p=String(t.v);break;case"b":d="Boolean",p=t.v?"1":"0";break;case"e":d="Error",p=nh[t.v];break;case"d":d="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Gt[14]);break;case"s":d="String",p=TV(t.v||"");break}var m=ma(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var x=t.v!=null?p:"",g=t.t=="z"?"":'<Data ss:Type="'+d+'">'+x+"</Data>";return(t.c||[]).length>0&&(g+=_H(t.c)),ge("Cell",g,o)}function EH(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=mb(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function TH(t,e,r,n){if(!t["!ref"])return"";var s=bt(t["!ref"]),i=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,E){Bx(y);var _=!!y.width,w=P0(E,y),b={"ss:Index":E+1};_&&(b["ss:Width"]=kd(w.width)),y.hidden&&(b["ss:Hidden"]="1"),o.push(ge("Column",null,b))});for(var l=Array.isArray(t),c=s.s.r;c<=s.e.r;++c){for(var f=[EH(c,(t["!rows"]||[])[c])],d=s.s.c;d<=s.e.c;++d){var p=!1;for(a=0;a!=i.length;++a)if(!(i[a].s.c>d)&&!(i[a].s.r>c)&&!(i[a].e.c<d)&&!(i[a].e.r<c)){(i[a].s.c!=d||i[a].s.r!=c)&&(p=!0);break}if(!p){var m={r:c,c:d},x=mt(m),g=l?(t[c]||[])[d]:t[x];f.push(wH(g,x,t,e,r,n,m))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function kH(t,e,r){var n=[],s=r.SheetNames[t],i=r.Sheets[s],a=i?xH(i,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=i?TH(i,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(yH(i,e,t,r)),n.join("")}function SH(t,e){e||(e={}),t.SSF||(t.SSF=gn(Gt)),t.SSF&&(I0(),A0(t.SSF),e.revssf=b0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],ma(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(pH(t,e)),r.push(mH()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(ge("Worksheet",kH(n,e,t),{"ss:Name":ft(t.SheetNames[n])}));return r[2]=gH(t,e),r[3]=vH(t),nr+ge("Workbook",r.join(""),{xmlns:An.ss,"xmlns:o":An.o,"xmlns:x":An.x,"xmlns:ss":An.ss,"xmlns:dt":An.dt,"xmlns:html":An.html})}var Op={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function AH(t,e){var r=[],n=[],s=[],i=0,a,o=zw(rE,"n"),l=zw(nE,"n");if(t.Props)for(a=Cr(t.Props),i=0;i<a.length;++i)(Object.prototype.hasOwnProperty.call(o,a[i])?r:Object.prototype.hasOwnProperty.call(l,a[i])?n:s).push([a[i],t.Props[a[i]]]);if(t.Custprops)for(a=Cr(t.Custprops),i=0;i<a.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},a[i])||(Object.prototype.hasOwnProperty.call(o,a[i])?r:Object.prototype.hasOwnProperty.call(l,a[i])?n:s).push([a[i],t.Custprops[a[i]]]);var c=[];for(i=0;i<s.length;++i)ib.indexOf(s[i][0])>-1||rb.indexOf(s[i][0])>-1||s[i][1]!=null&&c.push(s[i]);n.length&&vt.utils.cfb_add(e,"/SummaryInformation",lE(n,Op.SI,l,nE)),(r.length||c.length)&&vt.utils.cfb_add(e,"/DocumentSummaryInformation",lE(r,Op.DSI,o,rE,c.length?c:null,Op.UDI))}function IH(t,e){var r=e||{},n=vt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return vt.utils.cfb_add(n,s,jb(t,r)),r.biff==8&&(t.Props||t.Custprops)&&AH(t,n),r.biff==8&&t.vbaraw&&HB(n,vt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var bH={0:{f:Rz},1:{f:Vz},2:{f:iW},3:{f:qz},4:{f:zz},5:{f:tW},6:{f:uW},7:{f:Yz},8:{f:vW},9:{f:gW},10:{f:pW},11:{f:mW},12:{f:Bz},13:{f:oW},14:{f:Zz},15:{f:Hz},16:{f:nW},17:{f:fW},18:{f:Jz},19:{f:Lx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:rH},40:{},42:{},43:{f:uB},44:{f:lB},45:{f:dB},46:{f:mB},47:{f:pB},48:{},49:{f:BV},50:{},51:{f:RB},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:$U},62:{f:cW},63:{f:LB},64:{f:DW},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ps,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:NW},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Lz},148:{f:Oz,p:16},151:{f:TW},152:{},153:{f:eH},154:{},155:{},156:{f:QW},157:{},158:{},159:{T:1,f:QU},160:{T:-1},161:{T:1,f:uo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:xW},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:NB},336:{T:-1},337:{f:OB,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:fg},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jU},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:kW},427:{f:SW},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:IW},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:jz},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:wW},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:fg},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:$B},633:{T:1},634:{T:-1},635:{T:1,f:UB},636:{T:-1},637:{f:HV},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:GW},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:OW},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ve(t,e,r,n){var s=e;if(!isNaN(s)){var i=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,s),a.write_shift(2,i),i>0&&Ox(r)&&t.push(r)}}function NH(t,e,r,n){var s=(r||[]).length||0;if(s<=8224)return ve(t,e,r,s);var i=e;if(!isNaN(i)){for(var a=r.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var f=t.next(4);for(f.write_shift(2,i),f.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<s;){for(f=t.next(4),f.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;f.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function ih(t,e,r){return t||(t=te(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function CH(t,e,r,n){var s=te(9);return ih(s,t,e),ob(r,n||"b",s),s}function RH(t,e,r){var n=te(8+2*r.length);return ih(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function PH(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?mn(Jr(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?ve(t,2,GU(r,n,s)):ve(t,3,HU(r,n,s));return;case"b":case"e":ve(t,5,CH(r,n,e.v,e.t));return;case"s":case"str":ve(t,4,RH(r,n,(e.v||"").slice(0,255)));return}ve(t,1,ih(null,r,n))}function DH(t,e,r,n){var s=Array.isArray(e),i=bt(e["!ref"]||"A1"),a,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),a=rr(i)}for(var c=i.s.r;c<=i.e.r;++c){o=Ir(c);for(var f=i.s.c;f<=i.e.c;++f){c===i.s.r&&(l[f]=Br(f)),a=l[f]+o;var d=s?(e[c]||[])[f]:e[a];d&&PH(t,d,c,f)}}}function OH(t,e){for(var r=e||{},n=pn(),s=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ve(n,r.biff==4?1033:r.biff==3?521:9,Ux(t,16,r)),DH(n,t.Sheets[t.SheetNames[s]],s,r),ve(n,10),n.end()}function FH(t,e,r){ve(t,49,bU({sz:12,name:"Arial"},r))}function jH(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&ve(t,1054,RU(s,e[s],r))})}function LH(t,e){var r=te(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ve(t,2151,r),r=te(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),ub(bt(e["!ref"]||"A1"),r),r.write_shift(4,4),ve(t,2152,r)}function MH(t,e){for(var r=0;r<16;++r)ve(t,224,uE({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){ve(t,224,uE(n,0,e))})}function VH(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];ve(t,440,VU(n)),n[1].Tooltip&&ve(t,2048,UU(n))}delete e["!links"]}function UH(t,e){if(e){var r=0;e.forEach(function(n,s){++r<=256&&n&&ve(t,125,zU(P0(s,n),s))})}}function BH(t,e,r,n,s){var i=16+ma(s.cellXfs,e,s);if(e.v==null&&!e.bf){ve(t,513,Xa(r,n,i));return}if(e.bf)ve(t,6,hz(e,r,n,s,i));else switch(e.t){case"d":case"n":var a=e.t=="d"?mn(Jr(e.v)):e.v;ve(t,515,FU(r,n,a,i));break;case"b":case"e":ve(t,517,OU(r,n,e.v,i,s,e.t));break;case"s":case"str":if(s.bookSST){var o=Hx(s.Strings,e.v,s.revStrings);ve(t,253,NU(r,n,o,i))}else ve(t,516,CU(r,n,(e.v||"").slice(0,255),i,s));break;default:ve(t,513,Xa(r,n,i))}}function $H(t,e,r){var n=pn(),s=r.SheetNames[t],i=r.Sheets[s]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(i),c=e.biff==8,f,d="",p=[],m=bt(i["!ref"]||"A1"),x=c?65536:16384;if(m.e.c>255||m.e.r>=x){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,x-1)}ve(n,2057,Ux(r,16,e)),ve(n,13,Vn(1)),ve(n,12,Vn(100)),ve(n,15,Xr(!0)),ve(n,17,Xr(!1)),ve(n,16,Za(.001)),ve(n,95,Xr(!0)),ve(n,42,Xr(!1)),ve(n,43,Xr(!1)),ve(n,130,Vn(1)),ve(n,128,DU()),ve(n,131,Xr(!1)),ve(n,132,Xr(!1)),c&&UH(n,i["!cols"]),ve(n,512,PU(m,e)),c&&(i["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){d=Ir(g);for(var y=m.s.c;y<=m.e.c;++y){g===m.s.r&&(p[y]=Br(y)),f=p[y]+d;var E=l?(i[g]||[])[y]:i[f];E&&(BH(n,E,g,y,e),c&&E.l&&i["!links"].push([f,E.l]))}}var _=o.CodeName||o.name||s;return c&&ve(n,574,IU((a.Views||[])[0])),c&&(i["!merges"]||[]).length&&ve(n,229,MU(i["!merges"])),c&&VH(n,i),ve(n,442,cb(_)),c&&LH(n,i),ve(n,10),n.end()}function zH(t,e,r){var n=pn(),s=(t||{}).Workbook||{},i=s.Sheets||[],a=s.WBProps||{},o=r.biff==8,l=r.biff==5;if(ve(n,2057,Ux(t,5,r)),r.bookType=="xla"&&ve(n,135),ve(n,225,o?Vn(1200):null),ve(n,193,pU(2)),l&&ve(n,191),l&&ve(n,192),ve(n,226),ve(n,92,TU("SheetJS",r)),ve(n,66,Vn(o?1200:1252)),o&&ve(n,353,Vn(0)),o&&ve(n,448),ve(n,317,WU(t.SheetNames.length)),o&&t.vbaraw&&ve(n,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";ve(n,442,cb(c))}ve(n,156,Vn(17)),ve(n,25,Xr(!1)),ve(n,18,Xr(!1)),ve(n,19,Vn(0)),o&&ve(n,431,Xr(!1)),o&&ve(n,444,Vn(0)),ve(n,61,AU()),ve(n,64,Xr(!1)),ve(n,141,Vn(0)),ve(n,34,Xr(KW(t)=="true")),ve(n,14,Xr(!0)),o&&ve(n,439,Xr(!1)),ve(n,218,Vn(0)),FH(n,t,r),jH(n,t.SSF,r),MH(n,r),o&&ve(n,352,Xr(!1));var f=n.end(),d=pn();o&&ve(d,140,BU()),o&&r.Strings&&NH(d,252,SU(r.Strings)),ve(d,10);var p=d.end(),m=pn(),x=0,g=0;for(g=0;g<t.SheetNames.length;++g)x+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var y=f.length+x+p.length;for(g=0;g<t.SheetNames.length;++g){var E=i[g]||{};ve(m,133,kU({pos:y,hs:E.Hidden||0,dt:0,name:t.SheetNames[g]},r)),y+=e[g].length}var _=m.end();if(x!=_.length)throw new Error("BS8 "+x+" != "+_.length);var w=[];return f.length&&w.push(f),_.length&&w.push(_),p.length&&w.push(p),Tr(w)}function WH(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=gn(Gt)),t&&t.SSF&&(I0(),A0(t.SSF),r.revssf=b0(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Gx(r),r.cellXfs=[],ma(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)n[n.length]=$H(s,r,t);return n.unshift(zH(t,n,r)),Tr(n)}function jb(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Fn(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return WH(t,e);case 4:case 3:case 2:return OH(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function HH(t,e,r,n){for(var s=t["!merges"]||[],i=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<s.length;++c)if(!(s[c].s.r>r||s[c].s.c>a)&&!(s[c].e.r<r||s[c].e.c<a)){if(s[c].s.r<r||s[c].s.c<a){o=-1;break}o=s[c].e.r-s[c].s.r+1,l=s[c].e.c-s[c].s.c+1;break}if(!(o<0)){var f=mt({r,c:a}),d=n.dense?(t[r]||[])[a]:t[f],p=d&&d.v!=null&&(d.h||EV(d.w||(oi(d),d.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?p='<span contenteditable="true">'+p+"</span>":d&&(m["data-t"]=d&&d.t||"z",d.v!=null&&(m["data-v"]=d.v),d.z!=null&&(m["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),m.id=(n.id||"sjs")+"-"+f,i.push(ge("td",p,m))}}var x="<tr>";return x+i.join("")+"</tr>"}var GH='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',qH="</body></html>";function KH(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Lb(t,e){var r=e||{},n=r.header!=null?r.header:GH,s=r.footer!=null?r.footer:qH,i=[n],a=Fn(t["!ref"]);r.dense=Array.isArray(t),i.push(KH(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)i.push(HH(t,a,o,r));return i.push("</table>"+s),i.join("")}function Mb(t,e,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var a=typeof n.origin=="string"?pr(n.origin):n.origin;s=a.r,i=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var f=Fn(t["!ref"]);c.s.r=Math.min(c.s.r,f.s.r),c.s.c=Math.min(c.s.c,f.s.c),c.e.r=Math.max(c.e.r,f.e.r),c.e.c=Math.max(c.e.c,f.e.c),s==-1&&(c.e.r=s=f.e.r+1)}var d=[],p=0,m=t["!rows"]||(t["!rows"]=[]),x=0,g=0,y=0,E=0,_=0,w=0;for(t["!cols"]||(t["!cols"]=[]);x<o.length&&g<l;++x){var b=o[x];if(vE(b)){if(n.display)continue;m[g]={hidden:!0}}var B=b.children;for(y=E=0;y<B.length;++y){var G=B[y];if(!(n.display&&vE(G))){var S=G.hasAttribute("data-v")?G.getAttribute("data-v"):G.hasAttribute("v")?G.getAttribute("v"):AV(G.innerHTML),k=G.getAttribute("data-z")||G.getAttribute("z");for(p=0;p<d.length;++p){var A=d[p];A.s.c==E+i&&A.s.r<g+s&&g+s<=A.e.r&&(E=A.e.c+1-i,p=-1)}w=+G.getAttribute("colspan")||1,((_=+G.getAttribute("rowspan")||1)>1||w>1)&&d.push({s:{r:g+s,c:E+i},e:{r:g+s+(_||1)-1,c:E+i+(w||1)-1}});var N={t:"s",v:S},R=G.getAttribute("data-t")||G.getAttribute("t")||"";S!=null&&(S.length==0?N.t=R||"z":n.raw||S.trim().length==0||R=="s"||(S==="TRUE"?N={t:"b",v:!0}:S==="FALSE"?N={t:"b",v:!1}:isNaN(Zs(S))?isNaN(bu(S).getDate())||(N={t:"d",v:Jr(S)},n.cellDates||(N={t:"n",v:mn(N.v)}),N.z=n.dateNF||Gt[14]):N={t:"n",v:Zs(S)})),N.z===void 0&&k!=null&&(N.z=k);var j="",D=G.getElementsByTagName("A");if(D&&D.length)for(var Pe=0;Pe<D.length&&!(D[Pe].hasAttribute("href")&&(j=D[Pe].getAttribute("href"),j.charAt(0)!="#"));++Pe);j&&j.charAt(0)!="#"&&(N.l={Target:j}),n.dense?(t[g+s]||(t[g+s]=[]),t[g+s][E+i]=N):t[mt({c:E+i,r:g+s})]=N,c.e.c<E+i&&(c.e.c=E+i),E+=w}}++g}return d.length&&(t["!merges"]=(t["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,g-1+s),t["!ref"]=rr(c),g>=l&&(t["!fullref"]=rr((c.e.r=o.length-x+g-1+s,c))),t}function Vb(t,e){var r=e||{},n=r.dense?[]:{};return Mb(n,t,e)}function ZH(t,e){return ao(Vb(t,e),e)}function vE(t){var e="",r=XH(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function XH(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var YH=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Cu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return nr+e}}(),xE=function(){var t=function(i){return ft(i).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,a,o){var l=[];l.push('      <table:table table:name="'+ft(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,f=0,d=Fn(i["!ref"]||"A1"),p=i["!merges"]||[],m=0,x=Array.isArray(i);if(i["!cols"])for(f=0;f<=d.e.c;++f)l.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var g="",y=i["!rows"]||[];for(c=0;c<d.s.r;++c)g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=d.e.r;++c){for(g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),f=0;f<d.s.c;++f)l.push(e);for(;f<=d.e.c;++f){var E=!1,_={},w="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>f)&&!(p[m].s.r>c)&&!(p[m].e.c<f)&&!(p[m].e.r<c)){(p[m].s.c!=f||p[m].s.r!=c)&&(E=!0),_["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,_["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(E){l.push(r);continue}var b=mt({r:c,c:f}),B=x?(i[c]||[])[f]:i[b];if(B&&B.f&&(_["table:formula"]=ft(vz(B.f)),B.F&&B.F.slice(0,b.length)==b)){var G=Fn(B.F);_["table:number-matrix-columns-spanned"]=G.e.c-G.s.c+1,_["table:number-matrix-rows-spanned"]=G.e.r-G.s.r+1}if(!B){l.push(e);continue}switch(B.t){case"b":w=B.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=B.v?"true":"false";break;case"n":w=B.w||String(B.v||0),_["office:value-type"]="float",_["office:value"]=B.v||0;break;case"s":case"str":w=B.v==null?"":B.v,_["office:value-type"]="string";break;case"d":w=B.w||Jr(B.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=Jr(B.v).toISOString(),_["table:style-name"]="ce1";break;default:l.push(e);continue}var S=t(w);if(B.l&&B.l.Target){var k=B.l.Target;k=k.charAt(0)=="#"?"#"+xz(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),S=ge("text:a",S,{"xlink:href":k.replace(/&/g,"&amp;")})}l.push("          "+ge("table:table-cell",ge("text:p",S,{}),_)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},s=function(i,a){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var f=0;f<c["!cols"].length;++f)if(c["!cols"][f]){var d=c["!cols"][f];if(d.width==null&&d.wpx==null&&d.wch==null)continue;Bx(d),d.ods=o;var p=c["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var f=0;f<c["!rows"].length;++f)if(c["!rows"][f]){c["!rows"][f].ods=l;var d=c["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(a,o){var l=[nr],c=Cu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Cu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+f+`>
`),l.push(eb().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),s(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=a.SheetNames.length;++d)l.push(n(a.Sheets[a.SheetNames[d]],a,d));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function Ub(t,e){if(e.bookType=="fods")return xE(t,e);var r=Cx(),n="",s=[],i=[];return n="mimetype",Ge(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ge(r,n,xE(t,e)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Ge(r,n,YH(t,e)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Ge(r,n,nr+eb()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Ge(r,n,cU(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ge(r,n,oU(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Id(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function QH(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ss(Nu(t))}function JH(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function aa(t){var e=t.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function eG(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)t[e+i]=s&255;t[e+15]|=r>=0?0:128}function Ru(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function ct(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function il(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function sr(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=Ru(t,r),i=s&7;s=Math.floor(s/8);var a=0,o;if(s==0)break;switch(i){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=Ru(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var c={data:o,type:i};e[s]==null?e[s]=[c]:e[s].push(c)}return e}function xr(t){var e=[];return t.forEach(function(r,n){r.forEach(function(s){s.data&&(e.push(ct(n*8+s.type)),s.type==2&&e.push(ct(s.data.length)),e.push(s.data))})}),aa(e)}function Jn(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=Ru(t,n),i=sr(t.slice(n[0],n[0]+s));n[0]+=s;var a={id:il(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=sr(o.data),c=il(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=i[3])!=null&&e[0]&&(a.merge=il(i[3][0].data)>>>0>0),r.push(a)}return r}function yo(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:ct(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:ct(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(a){s.push(a.data),a.meta[3]=[{type:0,data:ct(a.data.length)}],n[2].push({data:xr(a.meta),type:2})});var i=xr(n);e.push(ct(i.length)),e.push(i),s.forEach(function(a){return e.push(a)})}),aa(e)}function tG(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Ru(e,r),s=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}s.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,c=0;if(i==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,i==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[aa(s)],l==0)throw new Error("Invalid offset 0");if(l>s[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(s.push(s[0].slice(-l)),c-=l;c>=s[s.length-1].length;)s.push(s[s.length-1]),c-=s[s.length-1].length;s.push(s[0].slice(-l,-l+c))}}var f=aa(s);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function es(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(tG(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return aa(e)}function _o(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var i=ct(n),a=i.length;e.push(i),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,s[0]=0,s[1]=a&255,s[2]=a>>8&255,s[3]=a>>16&255,r+=n}return aa(e)}function Fp(t,e){var r=new Uint8Array(32),n=Id(r),s=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,eG(r,s,t.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,t.v?1:0,!0),i|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(s,e.indexOf(t.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,s)}function jp(t,e){var r=new Uint8Array(32),n=Id(r),s=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(s,t.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,t.v?1:0,!0),i|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(s,e.indexOf(t.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,s)}function Ei(t){var e=sr(t);return Ru(e[1][0].data)}function rG(t,e,r){var n,s,i,a;if(!((n=t[6])!=null&&n[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(i=t[8])==null?void 0:i[0])==null?void 0:a.data)&&il(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Id(t[7][0].data),f=0,d=[],p=Id(t[4][0].data),m=0,x=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),p.setUint16(g*2,65535);continue}c.setUint16(g*2,f,!0),p.setUint16(g*2,m,!0);var y,E;switch(typeof e[g]){case"string":y=Fp({t:"s",v:e[g]},r),E=jp({t:"s",v:e[g]},r);break;case"number":y=Fp({t:"n",v:e[g]},r),E=jp({t:"n",v:e[g]},r);break;case"boolean":y=Fp({t:"b",v:e[g]},r),E=jp({t:"b",v:e[g]},r);break;default:throw new Error("Unsupported value "+e[g])}d.push(y),f+=y.length,x.push(E),m+=E.length,++l}for(t[2][0].data=ct(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),p.setUint16(g*2,65535,!0);return t[6][0].data=aa(d),t[3][0].data=aa(x),l}function nG(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Fn(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(rr(n)));var i=bd(r,{range:n,header:1}),a=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(z){typeof z=="string"&&a.push(z)})});var o={},l=[],c=vt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(H,z){return[H,c.FullPaths[z]]}).forEach(function(H){var z=H[0],W=H[1];if(z.type==2&&z.name.match(/\.iwa/)){var re=z.content,fe=es(re),Te=Jn(fe);Te.forEach(function(ke){l.push(ke.id),o[ke.id]={deps:[],location:W,type:il(ke.messages[0].meta[1][0].data)}})}}),l.sort(function(H,z){return H-z});var f=l.filter(function(H){return H>1}).map(function(H){return[H,ct(H)]});c.FileIndex.map(function(H,z){return[H,c.FullPaths[z]]}).forEach(function(H){var z=H[0];if(H[1],!!z.name.match(/\.iwa/)){var W=Jn(es(z.content));W.forEach(function(re){re.messages.forEach(function(fe){f.forEach(function(Te){re.messages.some(function(ke){return il(ke.meta[1][0].data)!=11006&&JH(ke.data,Te[1])})&&o[Te[0]].deps.push(re.id)})})})}});for(var d=vt.find(c,o[1].location),p=Jn(es(d.content)),m,x=0;x<p.length;++x){var g=p[x];g.id==1&&(m=g)}var y=Ei(sr(m.messages[0].data)[1][0].data);for(d=vt.find(c,o[y].location),p=Jn(es(d.content)),x=0;x<p.length;++x)g=p[x],g.id==y&&(m=g);for(y=Ei(sr(m.messages[0].data)[2][0].data),d=vt.find(c,o[y].location),p=Jn(es(d.content)),x=0;x<p.length;++x)g=p[x],g.id==y&&(m=g);for(y=Ei(sr(m.messages[0].data)[2][0].data),d=vt.find(c,o[y].location),p=Jn(es(d.content)),x=0;x<p.length;++x)g=p[x],g.id==y&&(m=g);var E=sr(m.messages[0].data);{E[6][0].data=ct(n.e.r+1),E[7][0].data=ct(n.e.c+1);var _=Ei(E[46][0].data),w=vt.find(c,o[_].location),b=Jn(es(w.content));{for(var B=0;B<b.length&&b[B].id!=_;++B);if(b[B].id!=_)throw"Bad ColumnRowUIDMapArchive";var G=sr(b[B].messages[0].data);G[1]=[],G[2]=[],G[3]=[];for(var S=0;S<=n.e.c;++S){var k=[];k[1]=k[2]=[{type:0,data:ct(S+420690)}],G[1].push({type:2,data:xr(k)}),G[2].push({type:0,data:ct(S)}),G[3].push({type:0,data:ct(S)})}G[4]=[],G[5]=[],G[6]=[];for(var A=0;A<=n.e.r;++A)k=[],k[1]=k[2]=[{type:0,data:ct(A+726270)}],G[4].push({type:2,data:xr(k)}),G[5].push({type:0,data:ct(A)}),G[6].push({type:0,data:ct(A)});b[B].messages[0].data=xr(G)}w.content=_o(yo(b)),w.size=w.content.length,delete E[46];var N=sr(E[4][0].data);{N[7][0].data=ct(n.e.r+1);var R=sr(N[1][0].data),j=Ei(R[2][0].data);w=vt.find(c,o[j].location),b=Jn(es(w.content));{if(b[0].id!=j)throw"Bad HeaderStorageBucket";var D=sr(b[0].messages[0].data);for(A=0;A<i.length;++A){var Pe=sr(D[2][0].data);Pe[1][0].data=ct(A),Pe[4][0].data=ct(i[A].length),D[2][A]={type:D[2][0].type,data:xr(Pe)}}b[0].messages[0].data=xr(D)}w.content=_o(yo(b)),w.size=w.content.length;var ie=Ei(N[2][0].data);w=vt.find(c,o[ie].location),b=Jn(es(w.content));{if(b[0].id!=ie)throw"Bad HeaderStorageBucket";for(D=sr(b[0].messages[0].data),S=0;S<=n.e.c;++S)Pe=sr(D[2][0].data),Pe[1][0].data=ct(S),Pe[4][0].data=ct(n.e.r+1),D[2][S]={type:D[2][0].type,data:xr(Pe)};b[0].messages[0].data=xr(D)}w.content=_o(yo(b)),w.size=w.content.length;var Ve=Ei(N[4][0].data);(function(){for(var H=vt.find(c,o[Ve].location),z=Jn(es(H.content)),W,re=0;re<z.length;++re){var fe=z[re];fe.id==Ve&&(W=fe)}var Te=sr(W.messages[0].data);{Te[3]=[];var ke=[];a.forEach(function(He,Nt){ke[1]=[{type:0,data:ct(Nt)}],ke[2]=[{type:0,data:ct(1)}],ke[3]=[{type:2,data:QH(He)}],Te[3].push({type:2,data:xr(ke)})})}W.messages[0].data=xr(Te);var xe=yo(z),et=_o(xe);H.content=et,H.size=H.content.length})();var Ue=sr(N[3][0].data);{var he=Ue[1][0];delete Ue[2];var Ie=sr(he.data);{var oe=Ei(Ie[2][0].data);(function(){for(var H=vt.find(c,o[oe].location),z=Jn(es(H.content)),W,re=0;re<z.length;++re){var fe=z[re];fe.id==oe&&(W=fe)}var Te=sr(W.messages[0].data);{delete Te[6],delete Ue[7];var ke=new Uint8Array(Te[5][0].data);Te[5]=[];for(var xe=0,et=0;et<=n.e.r;++et){var He=sr(ke);xe+=rG(He,i[et],a),He[1][0].data=ct(et),Te[5].push({data:xr(He),type:2})}Te[1]=[{type:0,data:ct(n.e.c+1)}],Te[2]=[{type:0,data:ct(n.e.r+1)}],Te[3]=[{type:0,data:ct(xe)}],Te[4]=[{type:0,data:ct(n.e.r+1)}]}W.messages[0].data=xr(Te);var Nt=yo(z),Xe=_o(Nt);H.content=Xe,H.size=H.content.length})()}he.data=xr(Ie)}N[3][0].data=xr(Ue)}E[4][0].data=xr(N)}m.messages[0].data=xr(E);var Ne=yo(p),V=_o(Ne);return d.content=V,d.size=d.content.length,c}function sG(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Gx(t){sG([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function iG(t,e){return e.bookType=="ods"?Ub(t,e):e.bookType=="numbers"?nG(t,e):e.bookType=="xlsb"?aG(t,e):oG(t,e)}function aG(t,e){$o=1024,t&&!t.SSF&&(t.SSF=gn(Gt)),t&&t.SSF&&(I0(),A0(t.SSF),e.revssf=b0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,qc?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=Eb.indexOf(e.bookType)>-1,s=YI();Gx(e=e||{});var i=Cx(),a="",o=0;if(e.cellXfs=[],ma(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Ge(i,a,tb(t.Props,e)),s.coreprops.push(a),ut(e.rels,2,a,it.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Ge(i,a,nb(t.Props)),s.extprops.push(a),ut(e.rels,3,a,it.EXT_PROPS),t.Custprops!==t.Props&&Cr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Ge(i,a,sb(t.Custprops)),s.custprops.push(a),ut(e.rels,4,a,it.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],p=(d||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Ge(i,a,cH(o-1,a,e,t,f)),s.sheets.push(a),ut(e.wbrels,-1,"worksheets/sheet"+o+"."+r,it.WS[0])}if(d){var m=d["!comments"],x=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,Ge(i,g,fH(m,g)),s.comments.push(g),ut(f,-1,"../comments"+o+"."+r,it.CMNT),x=!0),d["!legacy"]&&x&&Ge(i,"xl/drawings/vmlDrawing"+o+".vml",_b(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&Ge(i,JI(a),nl(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Ge(i,a,hH(e.Strings,a,e)),s.strs.push(a),ut(e.wbrels,-1,"sharedStrings."+r,it.SST)),a="xl/workbook."+r,Ge(i,a,lH(t,a)),s.workbooks.push(a),ut(e.rels,1,a,it.WB),a="xl/theme/theme1.xml",Ge(i,a,xb(t.Themes,e)),s.themes.push(a),ut(e.wbrels,-1,"theme/theme1.xml",it.THEME),a="xl/styles."+r,Ge(i,a,uH(t,a,e)),s.styles.push(a),ut(e.wbrels,-1,"styles."+r,it.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Ge(i,a,t.vbaraw),s.vba.push(a),ut(e.wbrels,-1,"vbaProject.bin",it.VBA)),a="xl/metadata."+r,Ge(i,a,dH(a)),s.metadata.push(a),ut(e.wbrels,-1,"metadata."+r,it.XLMETA),Ge(i,"[Content_Types].xml",QI(s,e)),Ge(i,"_rels/.rels",nl(e.rels)),Ge(i,"xl/_rels/workbook."+r+".rels",nl(e.wbrels)),delete e.revssf,delete e.ssf,i}function oG(t,e){$o=1024,t&&!t.SSF&&(t.SSF=gn(Gt)),t&&t.SSF&&(I0(),A0(t.SSF),e.revssf=b0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,qc?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=Eb.indexOf(e.bookType)>-1,s=YI();Gx(e=e||{});var i=Cx(),a="",o=0;if(e.cellXfs=[],ma(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Ge(i,a,tb(t.Props,e)),s.coreprops.push(a),ut(e.rels,2,a,it.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Ge(i,a,nb(t.Props)),s.extprops.push(a),ut(e.rels,3,a,it.EXT_PROPS),t.Custprops!==t.Props&&Cr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Ge(i,a,sb(t.Custprops)),s.custprops.push(a),ut(e.rels,4,a,it.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},p=t.Sheets[t.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Ge(i,a,Rb(o-1,e,t,d)),s.sheets.push(a),ut(e.wbrels,-1,"worksheets/sheet"+o+"."+r,it.WS[0])}if(p){var x=p["!comments"],g=!1,y="";if(x&&x.length>0){var E=!1;x.forEach(function(_){_[1].forEach(function(w){w.T==!0&&(E=!0)})}),E&&(y="xl/threadedComments/threadedComment"+o+"."+r,Ge(i,y,MB(x,f,e)),s.threadedcomments.push(y),ut(d,-1,"../threadedComments/threadedComment"+o+"."+r,it.TCMNT)),y="xl/comments"+o+"."+r,Ge(i,y,wb(x)),s.comments.push(y),ut(d,-1,"../comments"+o+"."+r,it.CMNT),g=!0}p["!legacy"]&&g&&Ge(i,"xl/drawings/vmlDrawing"+o+".vml",_b(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}d["!id"].rId1&&Ge(i,JI(a),nl(d))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Ge(i,a,fb(e.Strings,e)),s.strs.push(a),ut(e.wbrels,-1,"sharedStrings."+r,it.SST)),a="xl/workbook."+r,Ge(i,a,Ob(t)),s.workbooks.push(a),ut(e.rels,1,a,it.WB),a="xl/theme/theme1.xml",Ge(i,a,xb(t.Themes,e)),s.themes.push(a),ut(e.wbrels,-1,"theme/theme1.xml",it.THEME),a="xl/styles."+r,Ge(i,a,gb(t,e)),s.styles.push(a),ut(e.wbrels,-1,"styles."+r,it.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Ge(i,a,t.vbaraw),s.vba.push(a),ut(e.wbrels,-1,"vbaProject.bin",it.VBA)),a="xl/metadata."+r,Ge(i,a,yb()),s.metadata.push(a),ut(e.wbrels,-1,"metadata."+r,it.XLMETA),f.length>1&&(a="xl/persons/person.xml",Ge(i,a,VB(f)),s.people.push(a),ut(e.wbrels,-1,"persons/person.xml",it.PEOPLE)),Ge(i,"[Content_Types].xml",QI(s,e)),Ge(i,"_rels/.rels",nl(e.rels)),Ge(i,"xl/_rels/workbook."+r+".rels",nl(e.wbrels)),delete e.revssf,delete e.ssf,i}function lG(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=ai(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Bb(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return th(e.file,vt.write(t,{type:ot?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return vt.write(t,e)}function cG(t,e){var r=gn(e||{}),n=iG(t,r);return uG(n,r)}function uG(t,e){var r={},n=ot?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?vt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(S0(s))}return e.password&&typeof encrypt_agile<"u"?Bb(encrypt_agile(s,e.password),e):e.type==="file"?th(e.file,s):e.type=="string"?zc(s):s}function hG(t,e){var r=e||{},n=IH(t,r);return Bb(n,r)}function _s(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Iu(Nu(n));case"binary":return Nu(n);case"string":return t;case"file":return th(e.file,n,"utf8");case"buffer":return ot?ui(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):_s(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function fG(t,e){switch(e.type){case"base64":return Iu(t);case"binary":return t;case"string":return t;case"file":return th(e.file,t,"binary");case"buffer":return ot?ui(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Yh(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Iu(r):e.type=="string"?zc(r):r;case"file":return th(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function $b(t,e){U7(),YW(t);var r=gn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=$b(t,r);return r.type="array",S0(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return _s(SH(t,r),r);case"slk":case"sylk":return _s(KU.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return _s(Lb(t.Sheets[t.SheetNames[s]],r),r);case"txt":return fG(zb(t.Sheets[t.SheetNames[s]],r),r);case"csv":return _s(qx(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return _s(ZU.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return Yh(qU.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return _s(XU.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return _s(nB.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return _s(hb.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return _s(Ub(t,r),r);case"wk1":return Yh(hE.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return Yh(hE.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Yh(jb(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),hG(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return cG(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function dG(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function pG(t,e,r){var n={};return n.type="file",n.file=e,dG(n),$b(t,n)}function mG(t,e,r,n,s,i,a,o){var l=Ir(r),c=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,p=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!a||t[r])for(var m=e.s.c;m<=e.e.c;++m){var x=a?t[r][m]:t[n[m]+l];if(x===void 0||x.t===void 0){if(c===void 0)continue;i[m]!=null&&(p[i[m]]=c);continue}var g=x.v;switch(x.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[m]!=null){if(g==null)if(x.t=="e"&&g===null)p[i[m]]=null;else if(c!==void 0)p[i[m]]=c;else if(f&&g===null)p[i[m]]=null;else continue;else p[i[m]]=f&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?g:oi(x,g,o);g!=null&&(d=!1)}}return{row:p,isempty:d}}function bd(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},f=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof f){case"string":l=bt(f);break;case"number":l=bt(t["!ref"]),l.s.r=f;break;default:l=f}n>0&&(s=0);var d=Ir(l.s.r),p=[],m=[],x=0,g=0,y=Array.isArray(t),E=l.s.r,_=0,w={};y&&!t[E]&&(t[E]=[]);var b=c.skipHidden&&t["!cols"]||[],B=c.skipHidden&&t["!rows"]||[];for(_=l.s.c;_<=l.e.c;++_)if(!(b[_]||{}).hidden)switch(p[_]=Br(_),r=y?t[E][_]:t[p[_]+d],n){case 1:i[_]=_-l.s.c;break;case 2:i[_]=p[_];break;case 3:i[_]=c.header[_-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=oi(r,null,c),g=w[a]||0,!g)w[a]=1;else{do o=a+"_"+g++;while(w[o]);w[a]=g,w[o]=1}i[_]=o}for(E=l.s.r+s;E<=l.e.r;++E)if(!(B[E]||{}).hidden){var G=mG(t,l,E,p,n,i,y,c);(G.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[x++]=G.row)}return m.length=x,m}var yE=/"/g;function gG(t,e,r,n,s,i,a,o){for(var l=!0,c=[],f="",d=Ir(r),p=e.s.c;p<=e.e.c;++p)if(n[p]){var m=o.dense?(t[r]||[])[p]:t[n[p]+d];if(m==null)f="";else if(m.v!=null){l=!1,f=""+(o.rawNumbers&&m.t=="n"?m.v:oi(m,null,o));for(var x=0,g=0;x!==f.length;++x)if((g=f.charCodeAt(x))===s||g===i||g===34||o.forceQuotes){f='"'+f.replace(yE,'""')+'"';break}f=="ID"&&(f='"ID"')}else m.f!=null&&!m.F?(l=!1,f="="+m.f,f.indexOf(",")>=0&&(f='"'+f.replace(yE,'""')+'"')):f="";c.push(f)}return o.blankrows===!1&&l?null:c.join(a)}function qx(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=bt(t["!ref"]),i=n.FS!==void 0?n.FS:",",a=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),f="",d=[];n.dense=Array.isArray(t);for(var p=n.skipHidden&&t["!cols"]||[],m=n.skipHidden&&t["!rows"]||[],x=s.s.c;x<=s.e.c;++x)(p[x]||{}).hidden||(d[x]=Br(x));for(var g=0,y=s.s.r;y<=s.e.r;++y)(m[y]||{}).hidden||(f=gG(t,s,y,d,a,l,i,n),f!=null&&(n.strip&&(f=f.replace(c,"")),(f||n.blankrows!==!1)&&r.push((g++?o:"")+f)));return delete n.dense,r.join("")}function zb(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=qx(t,e);return r}function vG(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=bt(t["!ref"]),i="",a=[],o,l=[],c=Array.isArray(t);for(o=s.s.c;o<=s.e.c;++o)a[o]=Br(o);for(var f=s.s.r;f<=s.e.r;++f)for(i=Ir(f),o=s.s.c;o<=s.e.c;++o)if(e=a[o]+i,r=c?(t[f]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function Wb(t,e,r){var n=r||{},s=+!n.skipHeader,i=t||{},a=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?pr(n.origin):n.origin;a=l.r,o=l.c}var c,f={s:{c:0,r:0},e:{c:o,r:a+e.length-1+s}};if(i["!ref"]){var d=bt(i["!ref"]);f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),a==-1&&(a=d.e.r+1,f.e.r=a+e.length-1+s)}else a==-1&&(a=0,f.e.r=e.length-1+s);var p=n.header||[],m=0;e.forEach(function(g,y){Cr(g).forEach(function(E){(m=p.indexOf(E))==-1&&(p[m=p.length]=E);var _=g[E],w="z",b="",B=mt({c:o+m,r:a+y+s});c=Pu(i,B),_&&typeof _=="object"&&!(_ instanceof Date)?i[B]=_:(typeof _=="number"?w="n":typeof _=="boolean"?w="b":typeof _=="string"?w="s":_ instanceof Date?(w="d",n.cellDates||(w="n",_=mn(_)),b=n.dateNF||Gt[14]):_===null&&n.nullError&&(w="e",_=0),c?(c.t=w,c.v=_,delete c.w,delete c.R,b&&(c.z=b)):i[B]=c={t:w,v:_},b&&(c.z=b))})}),f.e.c=Math.max(f.e.c,o+p.length-1);var x=Ir(a);if(s)for(m=0;m<p.length;++m)i[Br(m+o)+x]={t:"s",v:p[m]};return i["!ref"]=rr(f),i}function xG(t,e){return Wb(null,t,e)}function Pu(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=pr(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Pu(t,mt(e)):Pu(t,mt({r:e,c:r||0}))}function yG(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function _G(){return{SheetNames:[],Sheets:{}}}function wG(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var a=i&&i[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=a+s)!=-1;++s);}if(Db(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function EG(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=yG(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function TG(t,e){return t.z=e,t}function Hb(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function kG(t,e,r){return Hb(t,"#"+e,r)}function SG(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function AG(t,e,r,n){for(var s=typeof e!="string"?e:bt(e),i=typeof e=="string"?e:rr(e),a=s.s.r;a<=s.e.r;++a)for(var o=s.s.c;o<=s.e.c;++o){var l=Pu(t,a,o);l.t="n",l.F=i,delete l.v,a==s.s.r&&o==s.s.c&&(l.f=r,n&&(l.D=!0))}return t}var fc={encode_col:Br,encode_row:Ir,encode_cell:mt,encode_range:rr,decode_col:jx,decode_row:Fx,split_cell:UV,decode_cell:pr,decode_range:Fn,format_cell:oi,sheet_add_aoa:HI,sheet_add_json:Wb,sheet_add_dom:Mb,aoa_to_sheet:zl,json_to_sheet:xG,table_to_sheet:Vb,table_to_book:ZH,sheet_to_csv:qx,sheet_to_txt:zb,sheet_to_json:bd,sheet_to_html:Lb,sheet_to_formulae:vG,sheet_to_row_object_array:bd,sheet_get_cell:Pu,book_new:_G,book_append_sheet:wG,book_set_sheet_visibility:EG,cell_set_number_format:TG,cell_set_hyperlink:Hb,cell_set_internal_link:kG,cell_add_comment:SG,sheet_set_array_formula:AG,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function IG(t){var e,r;return((e=t.skills)==null?void 0:e.includes("DAR"))||((r=t.skills)==null?void 0:r.includes("Float"))}function bG({scheduleName:t,startDate:e,employees:r,assignments:n,darColumns:s,darEntities:i,avgWorkload:a}){const o=r.filter(m=>!m.archived).map(m=>{const x=n[m.id]||{},g={"TEAM MEMBER":m.name};return s.forEach((y,E)=>{var G;const _=IG(m),w=i[E]||[],b=Array.isArray(w)?w.join("/"):w||"",B=b?`${y}
${b}`:y;_&&((G=x.dars)!=null&&G.includes(E))?g[B]=b:g[B]=""}),g.CPOE=x.cpoe?"CPOE":"",g["New Incoming Items"]=Fa(x.newIncoming),g["Cross-Training"]=Fa(x.crossTraining),g["Special Projects/Assignments"]=Fa(x.specialProjects),g["Workload Score"]=Ax(x,i),g}),l=fc.json_to_sheet(o),c=fc.book_new();fc.book_append_sheet(c,l,"Schedule");const f=[{Metric:"Average Workload",Value:a.toFixed(1)},{Metric:"Total Employees",Value:r.filter(m=>!m.archived).length},{Metric:"Employees with Assignments",Value:Object.keys(n).length}],d=fc.json_to_sheet(f);fc.book_append_sheet(c,d,"Workload Summary");const p=`${t||"Schedule"}_${e||"export"}.xlsx`;pG(c,p)}function Kx({schedule:t,employees:e=[],entities:r=[],onSave:n,readOnly:s=!1,onCreateNewSchedule:i,schedules:a=[]}){const{state:o,setState:l,undo:c,redo:f,canUndo:d,canRedo:p}=O7({},{limit:50}),[m,x]=U.useState(""),[g,y]=U.useState(""),[E,_]=U.useState(""),[w,b]=U.useState({}),[B,G]=U.useState(5),[S,k]=U.useState(null),[A,N]=U.useState(!1),[R,j]=U.useState(null),[D,Pe]=U.useState(!1),[ie,Ve]=U.useState(!1),[Ue,he]=U.useState(null),[Ie,oe]=U.useState(!1),[Ne,V]=U.useState(!1),[H,z]=U.useState(!1),[W,re]=U.useState(!1),[fe,Te]=U.useState(null),[ke,xe]=U.useState(new Set),[et,He]=U.useState(!1),Nt={name:m,startDate:g,endDate:E,assignments:o,darEntities:w,darCount:B},{isSaving:Xe,lastSaved:Hr,error:xt,hasUnsavedChanges:be}=P7(Nt,n,{delay:2e3,enabled:!s&&!!t}),{conflicts:Rr,warnings:rn,workloadImbalances:xn,hasIssues:Xn,avgWorkload:hi}=L7(o,e,w),nn=U.useMemo(()=>Array.from({length:B},(le,De)=>`DAR ${De+1}`),[B]),Ot=U.useMemo(()=>E7(e),[e]),ms=["text-thr-blue-600 dark:text-thr-blue-400","text-thr-green-600 dark:text-thr-green-400","text-purple-600 dark:text-purple-400","text-orange-600 dark:text-orange-400","text-pink-600 dark:text-pink-400","text-cyan-600 dark:text-cyan-400","text-rose-600 dark:text-rose-400","text-indigo-600 dark:text-indigo-400","text-teal-600 dark:text-teal-400","text-fuchsia-600 dark:text-fuchsia-400","text-lime-600 dark:text-lime-400","text-amber-600 dark:text-amber-400"];U.useEffect(()=>{t?(l(t.assignments||{}),x(t.name||""),y(t.startDate||""),_(t.endDate||""),b(t.darEntities||{}),G(t.darCount||5)):Bt()},[t,l]);async function Bt(){try{const le=await ox(zn(ht,"settings","darConfig"));if(le.exists()){const De=le.data();b(De.config||{}),G(De.darCount||5)}}catch(le){rt.error("Error loading DAR config:",le)}}const $t=U.useCallback((le,De,Ee)=>{s||(l(qe=>({...qe,[le]:{...qe[le],[De]:Ee}})),Pe(!0))},[s,l]),Gr=U.useCallback((le,De)=>{var qe,Qe;if(s||!Array.isArray(e))return;const Ee=e.find(gt=>gt.id===le);!((qe=Ee==null?void 0:Ee.skills)!=null&&qe.includes("DAR"))&&!((Qe=Ee==null?void 0:Ee.skills)!=null&&Qe.includes("Float"))||(l(gt=>{var pe;const Zt=((pe=gt[le])==null?void 0:pe.dars)||[],sn=Zt.includes(De)?Zt.filter(We=>We!==De):[...Zt,De];return{...gt,[le]:{...gt[le],dars:sn}}}),Pe(!0))},[s,e,l]),ho=U.useCallback((le,De)=>{b(Ee=>{const qe=Ee[le]||[],Qe=Array.isArray(qe)?qe:qe?[qe]:[],gt=Qe.includes(De)?Qe.filter(Zt=>Zt!==De):[...Qe,De];return{...Ee,[le]:gt}}),Pe(!0)},[]),fi=U.useCallback((le,De,Ee)=>{l(qe=>{var sn;const Qe=((sn=qe[le])==null?void 0:sn[De])||[],gt=Array.isArray(Qe)?Qe:Qe?[Qe]:[],Zt=gt.includes(Ee)?gt.filter(pe=>pe!==Ee):[...gt,Ee];return{...qe,[le]:{...qe[le],[De]:Zt}}}),Pe(!0)},[l]),di=U.useCallback((le,De)=>{l(Ee=>{var gt;const qe=((gt=Ee[le])==null?void 0:gt.specialProjects)||{},Qe=typeof qe=="object"&&!Array.isArray(qe)?qe:{threePEmail:!1,threePBackupEmail:!1,float:!1,other:""};return{...Ee,[le]:{...Ee[le],specialProjects:{...Qe,[De]:!Qe[De]}}}}),Pe(!0)},[l]),gs=U.useCallback((le,De)=>{l(Ee=>{var gt;const qe=((gt=Ee[le])==null?void 0:gt.specialProjects)||{},Qe=typeof qe=="object"&&!Array.isArray(qe)?qe:{threePEmail:!1,threePBackupEmail:!1,float:!1,other:""};return{...Ee,[le]:{...Ee[le],specialProjects:{...Qe,other:De}}}}),Pe(!0)},[l]),ga=U.useCallback(le=>{xe(De=>{const Ee=new Set(De);return Ee.has(le)?Ee.delete(le):Ee.add(le),Ee})},[]),va=U.useCallback(()=>{ke.size===Ot.length?xe(new Set):xe(new Set(Ot.map(le=>le.id)))},[ke.size,Ot]),pi=U.useCallback(()=>{ke.size>0&&He(!0)},[ke.size]),Gl=U.useCallback(le=>{l(De=>{const Ee={...De};return le.forEach(qe=>{const{employeeId:Qe,type:gt,darIndex:Zt,entities:sn}=qe;switch(Ee[Qe]||(Ee[Qe]={}),gt){case"dar":const pe=Ee[Qe].dars||[];pe.includes(Zt)||(Ee[Qe].dars=[...pe,Zt]);break;case"cpoe":Ee[Qe].cpoe=!0;break;case"newIncoming":case"crossTraining":case"specialProjects":Ee[Qe][gt]=sn;break}}),Ee}),Pe(!0),He(!1),xe(new Set)},[l]);function ql(){n&&(n(Nt),Pe(!1))}U.useEffect(()=>{const le=De=>{if(D||be)return De.preventDefault(),De.returnValue="",""};return window.addEventListener("beforeunload",le),()=>window.removeEventListener("beforeunload",le)},[D,be]),U.useEffect(()=>{const le=De=>{(De.ctrlKey||De.metaKey)&&De.key==="z"&&!De.shiftKey&&(De.preventDefault(),d&&!s&&c()),((De.ctrlKey||De.metaKey)&&De.key==="y"||(De.ctrlKey||De.metaKey)&&De.shiftKey&&De.key==="z")&&(De.preventDefault(),p&&!s&&f()),(De.ctrlKey||De.metaKey)&&De.key==="s"&&(De.preventDefault(),!s&&n&&n(Nt))};if(!s)return window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)},[d,p,c,f,s,n,Nt]);const mi=U.useCallback(()=>{bG({scheduleName:m,startDate:g,employees:e,assignments:o,darColumns:nn,darEntities:w,avgWorkload:hi})},[m,g,e,o,nn,w,hi]);U.useCallback(le=>{j(le),N(!0)},[]);const gi=U.useMemo(()=>T7(a||[],e||[],r||[]),[a,e,r]);return h.jsxs("div",{className:"space-y-0 flex flex-col animate-fade-in-up",children:[h.jsx(A7,{readOnly:s,isSaving:Xe,lastSaved:Hr,autoSaveError:xt,canUndo:d,canRedo:p,onUndo:c,onRedo:f,onCreateNewSchedule:i,onShowHistory:()=>N(!0),onExport:mi,scheduleStatus:t==null?void 0:t.status,selectedCount:ke.size,onBulkAssign:pi}),h.jsx(I7,{scheduleName:m,startDate:g,endDate:E,scheduleStatus:t==null?void 0:t.status,readOnly:s,onScheduleNameChange:le=>{x(le),Pe(!0)},onStartDateChange:le=>{y(le),Pe(!0)},onEndDateChange:le=>{_(le),Pe(!0)}}),!s&&Xn&&h.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-900",children:h.jsx(kx,{conflicts:Rr,warnings:rn,workloadImbalances:xn})}),h.jsxs(b7,{children:[h.jsx(R7,{darColumns:nn,darEntities:w,entities:r,editingDar:S,readOnly:s,onDarClick:le=>k(le),onDarEntityToggle:ho,onDarInfoClick:le=>{he(le),Ve(!0),oe(!1),V(!1),z(!1),re(!1)},onCpoeInfoClick:()=>{oe(!0),Ve(!1),V(!1),z(!1),re(!1)},onNewIncomingInfoClick:()=>{V(!0),Ve(!1),oe(!1),z(!1),re(!1)},onCrossTrainingInfoClick:()=>{z(!0),Ve(!1),oe(!1),V(!1),re(!1)},onSpecialProjectsInfoClick:()=>{re(!0),Ve(!1),oe(!1),V(!1),z(!1)},onEditingDarClose:()=>k(null),showBulkSelect:!s,allSelected:ke.size===Ot.length&&Ot.length>0,onSelectAll:va}),h.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:Ot.map((le,De)=>{var gt,Zt,sn;const Ee=o[le.id]||{},qe=N7(le),Qe=ms[De%ms.length];return h.jsxs("tr",{className:`transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/30 ${De%2===0?"bg-white dark:bg-slate-800":"bg-slate-50/50 dark:bg-slate-800/50"}`,children:[!s&&h.jsx("td",{className:"sticky left-0 bg-inherit px-3 py-2 z-10 text-center",children:h.jsx("input",{type:"checkbox",checked:ke.has(le.id),onChange:()=>ga(le.id),className:"w-4 h-4 text-thr-blue-500 rounded focus:ring-2 focus:ring-thr-blue-500 cursor-pointer","aria-label":`Select ${le.name}`})}),h.jsx("th",{scope:"row",className:"sticky left-0 bg-inherit px-3 py-2 z-10",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"employee-chip inline-flex",children:h.jsx("span",{className:`font-semibold text-sm ${Qe} truncate`,title:le.name,children:le.name})}),!s&&h.jsx(k7,{workload:Ax(Ee,w),avgWorkload:hi,employeeName:le.name,assignment:Ee})]})}),nn.map((pe,We)=>{var wt;const Ke=(wt=Ee.dars)==null?void 0:wt.includes(We),an=En(w[We]);return h.jsx("td",{className:`px-1 py-2 text-center transition-all duration-150 rounded-lg mx-0.5 ${qe?Ke?"bg-thr-green-100 dark:bg-thr-green-900/30 hover:bg-thr-green-200 dark:hover:bg-thr-green-900/50 cursor-pointer shadow-soft":"hover:bg-thr-blue-50 dark:hover:bg-thr-blue-900/20 cursor-pointer":"bg-slate-100 dark:bg-slate-700/50"}`,onClick:()=>qe&&Gr(le.id,We),onKeyPress:qr=>{(qr.key==="Enter"||qr.key===" ")&&qe&&(qr.preventDefault(),Gr(le.id,We))},tabIndex:qe&&!s?0:-1,role:"gridcell","aria-label":`${Ke?"Remove":"Assign"} ${le.name} to ${pe}`,"aria-pressed":Ke,children:qe?Ke?h.jsx("div",{className:"text-xs font-semibold text-thr-green-700 dark:text-thr-green-300 leading-tight",children:an||""}):h.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-sm",children:""}):h.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-sm",children:""})},We)}),h.jsx("td",{className:`px-1 py-2 text-center transition-all duration-150 rounded-lg mx-0.5 ${(gt=le.skills)!=null&&gt.includes("CPOE")?Ee.cpoe?"bg-thr-green-100 dark:bg-thr-green-900/30 hover:bg-thr-green-200 dark:hover:bg-thr-green-900/50 cursor-pointer shadow-soft":"hover:bg-thr-blue-50 dark:hover:bg-thr-blue-900/20 cursor-pointer":"bg-slate-100 dark:bg-slate-700/50"}`,onClick:()=>{var pe;return((pe=le.skills)==null?void 0:pe.includes("CPOE"))&&!s&&$t(le.id,"cpoe",!Ee.cpoe)},onKeyPress:pe=>{var We;(pe.key==="Enter"||pe.key===" ")&&((We=le.skills)!=null&&We.includes("CPOE"))&&!s&&(pe.preventDefault(),$t(le.id,"cpoe",!Ee.cpoe))},tabIndex:(Zt=le.skills)!=null&&Zt.includes("CPOE")&&!s?0:-1,role:"gridcell","aria-label":`${Ee.cpoe?"Remove":"Assign"} ${le.name} to CPOE`,"aria-pressed":Ee.cpoe,children:(sn=le.skills)!=null&&sn.includes("CPOE")?Ee.cpoe?h.jsx("div",{className:"text-xs font-semibold text-thr-green-700 dark:text-thr-green-300 leading-tight",children:"CPOE"}):h.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-sm",children:""}):h.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-sm",children:""})}),h.jsx("td",{className:`px-1 py-2 text-center relative transition-all duration-150 rounded-lg mx-0.5 ${Array.isArray(Ee.newIncoming)&&Ee.newIncoming.length>0?"bg-thr-green-100 dark:bg-thr-green-900/30 hover:bg-thr-green-200 dark:hover:bg-thr-green-900/50 cursor-pointer shadow-soft":"hover:bg-thr-blue-50 dark:hover:bg-thr-blue-900/20 cursor-pointer"}`,onClick:()=>!s&&Te({employeeId:le.id,field:"newIncoming"}),onKeyPress:pe=>{(pe.key==="Enter"||pe.key===" ")&&!s&&(pe.preventDefault(),Te({employeeId:le.id,field:"newIncoming"}))},tabIndex:s?-1:0,role:"gridcell","aria-label":`New incoming items for ${le.name}: ${Fa(Ee.newIncoming)||"None"}`,children:s?Array.isArray(Ee.newIncoming)&&Ee.newIncoming.length>0?h.jsx("div",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 leading-tight",children:En(Ee.newIncoming)}):h.jsx("span",{className:"text-slate-400 dark:text-slate-600 text-sm",children:""}):h.jsxs(h.Fragment,{children:[Array.isArray(Ee.newIncoming)&&Ee.newIncoming.length>0?h.jsx("div",{className:"text-xs font-semibold text-thr-green-700 dark:text-thr-green-300 leading-tight",children:En(Ee.newIncoming)}):h.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-sm",children:""}),(fe==null?void 0:fe.employeeId)===le.id&&(fe==null?void 0:fe.field)==="newIncoming"&&h.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 rounded-xl shadow-soft-lg p-3 z-50 max-h-64 overflow-y-auto min-w-[220px] border border-slate-200 dark:border-slate-600",role:"dialog","aria-label":"Select entities for New Incoming",children:[h.jsx("div",{className:"space-y-1 mb-3",children:Dw(le.id,"newIncoming",o,w,r).map(pe=>{const We=Ee.newIncoming||[],an=(Array.isArray(We)?We:We?[We]:[]).includes(pe.name),wt=gi[pe.name],qr=En([pe.name]);return h.jsxs("label",{className:"flex items-start gap-2 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 p-2 rounded-lg text-slate-900 dark:text-slate-100 transition-colors",title:pe.name,children:[h.jsx("input",{type:"checkbox",checked:an,onChange:()=>fi(le.id,"newIncoming",pe.name),className:"w-4 h-4 mt-0.5 text-thr-blue-500 dark:text-thr-blue-400 rounded-md focus:ring-thr-blue-500 dark:bg-slate-700 dark:border-slate-600","aria-label":`Assign ${pe.name} to New Incoming`}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("span",{className:"text-sm font-bold text-thr-blue-600 dark:text-thr-blue-400",children:qr}),(wt==null?void 0:wt.employeeName)&&h.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:["Last: ",wt.employeeName," (",lg(wt.startDate),")"]})]})]},pe.id)})}),h.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-600 pt-2 mb-2",children:[h.jsx("div",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Legend:"}),h.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:r.map(pe=>h.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[h.jsx("span",{className:"font-bold text-thr-blue-600 dark:text-thr-blue-400",children:En([pe.name])})," = ",pe.name]},pe.id))})]}),h.jsx("button",{onClick:pe=>{pe.stopPropagation(),Te(null)},className:"mt-2 w-full px-3 py-2 bg-thr-blue-500 dark:bg-thr-blue-600 text-white rounded-lg text-sm font-medium hover:bg-thr-blue-600 dark:hover:bg-thr-blue-500 focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 transition-colors","aria-label":"Close entity selection",children:"Done"})]})]})}),h.jsx("td",{className:`px-1 py-2 text-center relative transition-all duration-150 rounded-lg mx-0.5 ${Array.isArray(Ee.crossTraining)&&Ee.crossTraining.length>0?"bg-thr-green-100 dark:bg-thr-green-900/30 hover:bg-thr-green-200 dark:hover:bg-thr-green-900/50 cursor-pointer shadow-soft":"hover:bg-thr-blue-50 dark:hover:bg-thr-blue-900/20 cursor-pointer"}`,onClick:()=>!s&&Te({employeeId:le.id,field:"crossTraining"}),onKeyPress:pe=>{(pe.key==="Enter"||pe.key===" ")&&!s&&(pe.preventDefault(),Te({employeeId:le.id,field:"crossTraining"}))},tabIndex:s?-1:0,role:"gridcell","aria-label":`Cross-training for ${le.name}: ${Fa(Ee.crossTraining)||"None"}`,children:s?Array.isArray(Ee.crossTraining)&&Ee.crossTraining.length>0?h.jsx("div",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 leading-tight",children:En(Ee.crossTraining)}):h.jsx("span",{className:"text-slate-400 dark:text-slate-600 text-sm",children:""}):h.jsxs(h.Fragment,{children:[Array.isArray(Ee.crossTraining)&&Ee.crossTraining.length>0?h.jsx("div",{className:"text-xs font-semibold text-thr-green-700 dark:text-thr-green-300 leading-tight",children:En(Ee.crossTraining)}):h.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-sm",children:""}),(fe==null?void 0:fe.employeeId)===le.id&&(fe==null?void 0:fe.field)==="crossTraining"&&h.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 rounded-xl shadow-soft-lg p-3 z-50 max-h-64 overflow-y-auto min-w-[220px] border border-slate-200 dark:border-slate-600",role:"dialog","aria-label":"Select entities for Cross-Training",children:[h.jsx("div",{className:"space-y-1 mb-3",children:Dw(le.id,"crossTraining",o,w,r).map(pe=>{const We=Ee.crossTraining||[],an=(Array.isArray(We)?We:We?[We]:[]).includes(pe.name),wt=gi[pe.name],qr=En([pe.name]);return h.jsxs("label",{className:"flex items-start gap-2 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 p-2 rounded-lg text-slate-900 dark:text-slate-100 transition-colors",title:pe.name,children:[h.jsx("input",{type:"checkbox",checked:an,onChange:()=>fi(le.id,"crossTraining",pe.name),className:"w-4 h-4 mt-0.5 text-thr-blue-500 dark:text-thr-blue-400 rounded-md focus:ring-thr-blue-500 dark:bg-slate-700 dark:border-slate-600","aria-label":`Assign ${pe.name} to Cross-Training`}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("span",{className:"text-sm font-bold text-thr-blue-600 dark:text-thr-blue-400",children:qr}),(wt==null?void 0:wt.employeeName)&&h.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:["Last: ",wt.employeeName," (",lg(wt.startDate),")"]})]})]},pe.id)})}),h.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-600 pt-2 mb-2",children:[h.jsx("div",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Legend:"}),h.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:r.map(pe=>h.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[h.jsx("span",{className:"font-bold text-thr-blue-600 dark:text-thr-blue-400",children:En([pe.name])})," = ",pe.name]},pe.id))})]}),h.jsx("button",{onClick:pe=>{pe.stopPropagation(),Te(null)},className:"mt-2 w-full px-3 py-2 bg-thr-blue-500 dark:bg-thr-blue-600 text-white rounded-lg text-sm font-medium hover:bg-thr-blue-600 dark:hover:bg-thr-blue-500 focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 transition-colors","aria-label":"Close entity selection",children:"Done"})]})]})}),h.jsx("td",{className:`px-1 py-2 text-center relative transition-all duration-150 rounded-lg mx-0.5 ${s?"":"hover:bg-thr-blue-50 dark:hover:bg-thr-blue-900/20 cursor-pointer"}`,onClick:()=>!s&&Te({employeeId:le.id,field:"specialProjects"}),onKeyPress:pe=>{(pe.key==="Enter"||pe.key===" ")&&!s&&(pe.preventDefault(),Te({employeeId:le.id,field:"specialProjects"}))},tabIndex:s?-1:0,role:"gridcell","aria-label":`Special projects for ${le.name}`,children:s?(()=>{const pe=Ee.specialProjects;if(Array.isArray(pe)&&pe.length>0)return h.jsx("div",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 leading-tight",children:En(pe)});if(typeof pe=="string"&&pe)return h.jsx("span",{className:"text-xs text-slate-700 dark:text-slate-300",children:pe});if(pe&&typeof pe=="object"&&!Array.isArray(pe)){const We=[];if(pe.threePEmail&&We.push("3P"),pe.threePBackupEmail&&We.push("3P-B"),pe.float&&We.push("Float"),pe.other&&We.push(pe.other),We.length>0)return h.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:We.map((Ke,an)=>h.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300",children:Ke},an))})}return h.jsx("span",{className:"text-slate-400 dark:text-slate-600 text-sm",children:""})})():h.jsxs(h.Fragment,{children:[(()=>{const pe=Ee.specialProjects,We=pe&&typeof pe=="object"&&!Array.isArray(pe)?pe:{threePEmail:!1,threePBackupEmail:!1,float:!1,other:""},Ke=[];return We.threePEmail&&Ke.push("3P"),We.threePBackupEmail&&Ke.push("3P-B"),We.float&&Ke.push("Float"),We.other&&Ke.push(We.other),Ke.length>0?h.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:Ke.map((an,wt)=>h.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded bg-thr-green-100 text-thr-green-700 dark:bg-thr-green-900/30 dark:text-thr-green-300",children:an},wt))}):h.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-sm",children:""})})(),(fe==null?void 0:fe.employeeId)===le.id&&(fe==null?void 0:fe.field)==="specialProjects"&&h.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 rounded-xl shadow-soft-lg p-3 z-50 min-w-[220px] border border-slate-200 dark:border-slate-600",role:"dialog","aria-label":"Select special projects",children:[h.jsx("div",{className:"space-y-3",children:(()=>{const pe=Ee.specialProjects,We=pe&&typeof pe=="object"&&!Array.isArray(pe)?pe:{threePEmail:!1,threePBackupEmail:!1,float:!1,other:""};return h.jsxs(h.Fragment,{children:[h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 p-2 rounded-lg text-slate-900 dark:text-slate-100 transition-colors",children:[h.jsx("input",{type:"checkbox",checked:We.threePEmail||!1,onChange:()=>di(le.id,"threePEmail"),className:"w-4 h-4 text-thr-blue-500 dark:text-thr-blue-400 rounded-md focus:ring-thr-blue-500 dark:bg-slate-700 dark:border-slate-600","aria-label":"3P Email"}),h.jsx("span",{className:"text-sm",children:"3P Email"})]}),h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 p-2 rounded-lg text-slate-900 dark:text-slate-100 transition-colors",children:[h.jsx("input",{type:"checkbox",checked:We.threePBackupEmail||!1,onChange:()=>di(le.id,"threePBackupEmail"),className:"w-4 h-4 text-thr-blue-500 dark:text-thr-blue-400 rounded-md focus:ring-thr-blue-500 dark:bg-slate-700 dark:border-slate-600","aria-label":"3P Backup Email"}),h.jsx("span",{className:"text-sm",children:"3P Backup Email"})]}),h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 p-2 rounded-lg text-slate-900 dark:text-slate-100 transition-colors",children:[h.jsx("input",{type:"checkbox",checked:We.float||!1,onChange:()=>di(le.id,"float"),className:"w-4 h-4 text-thr-blue-500 dark:text-thr-blue-400 rounded-md focus:ring-thr-blue-500 dark:bg-slate-700 dark:border-slate-600","aria-label":"Float"}),h.jsx("span",{className:"text-sm",children:"Float"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Other"}),h.jsx("input",{type:"text",value:We.other||"",onChange:Ke=>gs(le.id,Ke.target.value),onClick:Ke=>Ke.stopPropagation(),className:"w-full px-2 py-1.5 text-sm border border-slate-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-thr-blue-500 dark:focus:ring-thr-blue-400 focus:border-thr-blue-500 bg-white dark:bg-slate-700 dark:text-slate-100",placeholder:"Enter other project...","aria-label":"Other special project"})]})]})})()}),h.jsx("button",{onClick:pe=>{pe.stopPropagation(),Te(null)},className:"mt-3 w-full px-3 py-2 bg-thr-blue-500 dark:bg-thr-blue-600 text-white rounded-lg text-sm font-medium hover:bg-thr-blue-600 dark:hover:bg-thr-blue-500 focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 transition-colors","aria-label":"Close special projects selection",children:"Done"})]})]})})]},le.id)})}),Ot.length===0&&h.jsx("tbody",{children:h.jsx("tr",{children:h.jsxs("td",{colSpan:"100",className:"text-center py-16 text-slate-500 dark:text-slate-400",children:[h.jsx(Cs,{className:"w-12 h-12 mx-auto mb-4 text-slate-300 dark:text-slate-600"}),h.jsx("p",{className:"text-lg font-medium",children:"No employees found"}),h.jsx("p",{className:"text-sm mt-1",children:"Add employees first to create a schedule."})]})})})]}),!s&&D&&h.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:h.jsxs("button",{onClick:ql,className:"px-6 py-3 bg-thr-blue-500 hover:bg-thr-blue-600 text-white rounded-2xl font-semibold text-sm shadow-soft-lg hover:shadow-glow flex items-center gap-2 focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 dark:focus:ring-offset-slate-900 transform hover:-translate-y-0.5 transition-all duration-200","aria-label":"Save schedule changes",children:[h.jsx(v0,{className:"w-5 h-5","aria-hidden":"true"}),"Save Changes"]})}),A&&R&&h.jsx(g7,{employee:R,onClose:()=>{N(!1),j(null)}}),ie&&Ue!==null&&h.jsx(tI,{darIndex:Ue,darName:nn[Ue],darEntities:w[Ue],employees:e,currentAssignments:o,schedules:a,isOpen:ie,onClose:()=>{Ve(!1),he(null)}}),h.jsx(rI,{isOpen:Ie,onClose:()=>oe(!1),employees:e,currentAssignments:o,schedules:a}),h.jsx(cg,{isOpen:Ne,onClose:()=>V(!1),assignmentType:"newIncoming",entities:r,employees:e,currentAssignments:o,schedules:a}),h.jsx(cg,{isOpen:H,onClose:()=>z(!1),assignmentType:"crossTraining",entities:r,employees:e,currentAssignments:o,schedules:a}),h.jsx(sI,{isOpen:W,onClose:()=>re(!1),employees:e,currentAssignments:o,schedules:a}),h.jsx(hI,{isOpen:et,onClose:()=>He(!1),selectedEmployees:ke,employees:Ot,entities:r,darColumns:nn,onApply:Gl})]})}Kx.propTypes={schedule:q.shape({id:q.string,name:q.string,startDate:q.string,endDate:q.string,assignments:q.object,darEntities:q.object,darCount:q.number}),employees:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired,skills:q.arrayOf(q.string),archived:q.bool})),entities:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired})),onSave:q.func,readOnly:q.bool,onCreateNewSchedule:q.func,schedules:q.array};function NG({isOpen:t,onClose:e,onConfirm:r,title:n="Confirm Action",message:s,confirmText:i="Confirm",cancelText:a="Cancel",danger:o=!1}){const l=()=>{r(),e()};return h.jsx(T0,{isOpen:t,onClose:e,title:n,size:"sm",closeOnBackdropClick:!1,children:h.jsxs("div",{className:"space-y-4",children:[o&&h.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full",children:h.jsx(Qu,{className:"w-6 h-6 text-red-600"})}),h.jsx("p",{className:"text-sm text-gray-600 text-center",children:s}),h.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[h.jsx("button",{onClick:e,className:"btn-outline flex-1",autoFocus:!o,children:a}),h.jsx("button",{onClick:l,className:`flex-1 ${o?"bg-red-600 text-white hover:bg-red-700 px-4 py-2 rounded-lg font-medium transition-colors":"btn-primary"}`,autoFocus:o,children:i})]})]})})}function Gb(t,e){const[r,n]=U.useState(t),[s,i]=U.useState({}),[a,o]=U.useState({}),[l,c]=U.useState(!1),f={required:(_,w="This field is required")=>Array.isArray(_)?_.length>0?null:w:_&&_.trim()!==""?null:w,minLength:(_,w,b)=>_?_.length>=w?null:b||`Must be at least ${w} characters`:null,maxLength:(_,w,b)=>_?_.length<=w?null:b||`Must be at most ${w} characters`:null,email:(_,w="Invalid email format")=>_?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_)?null:w:null,pattern:(_,w,b="Invalid format")=>_?w.test(_)?null:b:null,custom:(_,w)=>w(_)},d=(_,w)=>{const b=e[_];if(!b)return null;for(const B of b){const{type:G,...S}=B,k=f[G];if(!k){console.warn(`Unknown validator type: ${G}`);continue}let A;if(G==="custom"?A=k(w,S.validate):G==="required"?A=k(w,S.message):G==="minLength"||G==="maxLength"||G==="pattern"?A=k(w,S.value,S.message):A=k(w,S.message),A)return A}return null},p=()=>{const _={};let w=!0;return Object.keys(e).forEach(b=>{const B=d(b,r[b]);B&&(_[b]=B,w=!1)}),i(_),w},m=(_,w)=>{if(n(b=>({...b,[_]:w})),a[_]){const b=d(_,w);i(B=>({...B,[_]:b}))}},x=_=>{o(b=>({...b,[_]:!0}));const w=d(_,r[_]);i(b=>({...b,[_]:w}))},g=(_=t)=>{n(_),i({}),o({})},y=Object.keys(e).every(_=>!d(_,r[_]));return{values:r,errors:s,touched:a,isValid:y,isValidating:l,setValues:n,handleChange:m,handleBlur:x,validateField:d,validateForm:p,resetForm:g,getFieldProps:_=>({value:r[_]||"",onChange:w=>{const b=w.target.value;m(_,b)},onBlur:()=>x(_),error:a[_]&&s[_],isValid:a[_]&&!s[_]&&r[_]})}}const pg={name:[{type:"required",message:"Name is required"},{type:"minLength",value:2,message:"Name must be at least 2 characters"}],optionalEmail:[{type:"email",message:"Please enter a valid email address"}],entityName:[{type:"required",message:"Entity name is required"},{type:"minLength",value:2,message:"Entity name must be at least 2 characters"}]};function CG({employees:t,onUpdate:e}){const{currentUser:r}=Ml(),{showSuccess:n,showError:s}=mx(),[i,a]=U.useState(!1),[o,l]=U.useState(null),[c,f]=U.useState(null),[d,p]=U.useState(!1),[m,x]=U.useState(!1),g=["DAR","Trace","CPOE","Float"],{values:y,errors:E,touched:_,isValid:w,handleChange:b,handleBlur:B,resetForm:G,setValues:S}=Gb({name:"",skills:[],position:"",can3PEmail:!1,email:"",notes:""},{name:pg.name,email:pg.optionalEmail,skills:[{type:"required",message:"Please select at least one skill"}]});function k(){G({name:"",skills:[],position:"",can3PEmail:!1,email:"",notes:""}),l(null),a(!1),p(!1)}function A(ie){S({name:ie.name||"",skills:ie.skills||[],position:ie.position||"",can3PEmail:ie.can3PEmail||!1,email:ie.email||"",notes:ie.notes||""}),l(ie),a(!0)}function N(ie){const Ve=y.skills.includes(ie)?y.skills.filter(Ue=>Ue!==ie):[...y.skills,ie];b("skills",Ve)}async function R(ie){if(ie.preventDefault(),!!w){p(!0);try{if(o){const Ve=cn.detectChanges(o,y),Ue=zn(ht,"employees",o.id);await ku(Ue,{...y,updatedAt:Nn()}),await cn.log({userId:r.uid,userEmail:r.email,action:"employee.update",resourceType:"employee",resourceId:o.id,changes:Ve,metadata:{employeeName:y.name}})}else{const Ve=await m0(Ur(ht,"employees"),{...y,archived:!1,createdAt:Nn(),updatedAt:Nn()});await cn.log({userId:r.uid,userEmail:r.email,action:"employee.create",resourceType:"employee",resourceId:Ve.id,metadata:{employeeName:y.name,skills:y.skills}})}k(),e(),n(o?"Employee updated successfully!":"Employee added successfully!")}catch(Ve){rt.error("Error saving employee:",Ve),s("Failed to save employee"),p(!1)}}}async function j(){if(!(!c||m)){x(!0);try{const ie=zn(ht,"employees",c.id);await ku(ie,{archived:!0,archivedAt:Nn(),updatedAt:Nn()}),await cn.log({userId:r.uid,userEmail:r.email,action:"employee.archive",resourceType:"employee",resourceId:c.id,metadata:{employeeName:c.name}}),f(null),e(),n("Employee archived successfully!")}catch(ie){rt.error("Error archiving employee:",ie),s("Failed to archive employee")}finally{x(!1)}}}const D=t.filter(ie=>!ie.archived),Pe=t.filter(ie=>ie.archived);return h.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-h2 text-slate-900 dark:text-slate-100",children:"Employee Management"}),h.jsx("p",{className:"text-body-sm text-slate-600 dark:text-slate-400 mt-1",children:"Manage employees and their skills/training"})]}),h.jsxs("button",{onClick:()=>a(!0),className:"btn-primary flex items-center gap-2",children:[h.jsx(El,{className:"w-4 h-4"}),"Add Employee"]})]}),h.jsxs("div",{className:"card card-hover",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:["Active Employees (",D.length,")"]}),h.jsxs("div",{className:"overflow-x-auto rounded-xl border border-slate-100 dark:border-slate-700",children:[h.jsxs("table",{className:"min-w-full divide-y divide-slate-100 dark:divide-slate-700",children:[h.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Name"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Position"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Skills/Training"}),h.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"3P Email"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Email"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Notes"}),h.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-100 dark:divide-slate-700",children:D.map((ie,Ve)=>{var Ue;return h.jsxs("tr",{className:`transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50 ${Ve%2===0?"":"bg-slate-50/50 dark:bg-slate-800/50"}`,children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:ie.name})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ie.position?h.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-thr-blue-100 text-thr-blue-700 dark:bg-thr-blue-900/30 dark:text-thr-blue-300",children:ie.position}):h.jsx("span",{className:"text-sm text-slate-400 dark:text-slate-600",children:"-"})}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("div",{className:"flex flex-wrap gap-2",children:(Ue=ie.skills)==null?void 0:Ue.map(he=>h.jsx("span",{className:`skill-tag ${he==="Float"?"skill-tag-float":he==="DAR"?"skill-tag-dar":he==="Trace"?"bg-role-cr/10 text-role-cr":he==="CPOE"?"skill-tag-cpoe":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}`,children:he},he))})}),h.jsx("td",{className:"px-6 py-4 text-center",children:ie.can3PEmail?h.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-thr-green-100 text-thr-green-700 dark:bg-thr-green-900/30 dark:text-thr-green-300",children:h.jsx(Bc,{className:"w-4 h-4"})}):h.jsx("span",{className:"text-slate-400 dark:text-slate-600",children:"-"})}),h.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 dark:text-slate-400",children:ie.email||"-"}),h.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 dark:text-slate-400",children:ie.notes||"-"}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[h.jsx("button",{onClick:()=>A(ie),className:"p-2 rounded-lg text-thr-blue-600 dark:text-thr-blue-400 hover:bg-thr-blue-50 dark:hover:bg-thr-blue-900/20 transition-colors mr-2","aria-label":`Edit ${ie.name}`,children:h.jsx(mA,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>f(ie),className:"p-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors","aria-label":`Archive ${ie.name}`,children:h.jsx(L5,{className:"w-4 h-4"})})]})]},ie.id)})})]}),D.length===0&&h.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[h.jsx(Y5,{className:"w-12 h-12 mx-auto mb-4 text-slate-300 dark:text-slate-600"}),h.jsx("p",{children:'No employees yet. Click "Add Employee" to get started.'})]})]})]}),Pe.length>0&&h.jsxs("div",{className:"card",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:["Archived Employees (",Pe.length,")"]}),h.jsx("div",{className:"space-y-2",children:Pe.map(ie=>{var Ve;return h.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-100 dark:border-slate-600",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:ie.name}),h.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:(Ve=ie.skills)==null?void 0:Ve.join(", ")})]}),h.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-300",children:"Archived"})]},ie.id)})})]}),h.jsx(T0,{isOpen:i,onClose:k,title:o?"Edit Employee":"Add New Employee",size:"md",children:h.jsxs("form",{onSubmit:R,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Employee Name *"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:y.name,onChange:ie=>b("name",ie.target.value),onBlur:()=>B("name"),className:`input-field pr-10 ${_.name&&E.name?"border-red-500 focus:border-red-500 focus:ring-red-500":_.name&&y.name?"border-green-500 focus:border-green-500 focus:ring-green-500":""}`,placeholder:"Enter full name"}),_.name&&!E.name&&y.name&&h.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:h.jsx(Bc,{className:"w-5 h-5 text-green-500"})})]}),_.name&&E.name&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Skills/Training *"}),h.jsx("div",{className:"grid grid-cols-2 gap-3 mt-2",children:g.map(ie=>h.jsx("button",{type:"button",onClick:()=>N(ie),className:`px-4 py-2 rounded-lg border-2 transition-colors ${y.skills.includes(ie)?"border-thr-blue-500 bg-thr-blue-50 text-thr-blue-700":"border-gray-300 hover:border-gray-400"}`,children:ie},ie))}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Float = Trained in all skills (DAR, Trace, CPOE)"}),_.skills&&E.skills&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.skills})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Position"}),h.jsxs("select",{value:y.position,onChange:ie=>b("position",ie.target.value),className:"input-field",children:[h.jsx("option",{value:"",children:"Select position..."}),h.jsx("option",{value:"CR I",children:"CR I"}),h.jsx("option",{value:"CR II",children:"CR II"})]})]}),h.jsx("div",{children:h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:y.can3PEmail,onChange:ie=>b("can3PEmail",ie.target.checked),className:"w-4 h-4 text-thr-blue-500 rounded focus:ring-2 focus:ring-thr-blue-500"}),h.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Can do 3P Email"})]})}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"email",value:y.email,onChange:ie=>b("email",ie.target.value),onBlur:()=>B("email"),className:`input-field pr-10 ${_.email&&E.email?"border-red-500 focus:border-red-500 focus:ring-red-500":_.email&&y.email?"border-green-500 focus:border-green-500 focus:ring-green-500":""}`,placeholder:"employee@email.com"}),_.email&&!E.email&&y.email&&h.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:h.jsx(Bc,{className:"w-5 h-5 text-green-500"})})]}),_.email&&E.email&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Notes"}),h.jsx("textarea",{value:y.notes,onChange:ie=>b("notes",ie.target.value),className:"input-field",rows:"3",placeholder:"Any additional notes..."})]}),h.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[h.jsx("button",{type:"submit",className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!w||d,children:d?h.jsxs(h.Fragment,{children:[h.jsx(ux,{className:"w-4 h-4 inline mr-2 animate-spin"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(v0,{className:"w-4 h-4 inline mr-2"}),o?"Update Employee":"Add Employee"]})}),h.jsx("button",{type:"button",onClick:k,className:"btn-outline flex-1",disabled:d,children:"Cancel"})]})]})}),h.jsx(NG,{isOpen:!!c,onClose:()=>!m&&f(null),onConfirm:j,title:"Archive Employee",message:`Are you sure you want to archive ${c==null?void 0:c.name}? They will no longer appear in new schedules.`,confirmText:m?"Archiving...":"Archive",cancelText:"Cancel",danger:!0})]})}function RG({entities:t,onUpdate:e}){const{currentUser:r}=Ml(),{showSuccess:n,showError:s,showConfirm:i}=mx(),[a,o]=U.useState(!1),[l,c]=U.useState(null),[f,d]=U.useState(!1),[p,m]=U.useState(!1),{values:x,errors:g,touched:y,isValid:E,handleChange:_,handleBlur:w,resetForm:b,setValues:B}=Gb({name:"",description:"",code:""},{name:pg.entityName});function G(){b({name:"",description:"",code:""}),c(null),o(!1),d(!1)}function S(N){B({name:N.name||"",description:N.description||"",code:N.code||""}),c(N),o(!0)}async function k(N){if(N.preventDefault(),!!E){d(!0);try{if(l){const R=cn.detectChanges(l,x),j=zn(ht,"entities",l.id);await ku(j,{...x,updatedAt:Nn()}),await cn.log({userId:r.uid,userEmail:r.email,action:"entity.update",resourceType:"entity",resourceId:l.id,changes:R,metadata:{entityName:x.name}})}else{const R=await m0(Ur(ht,"entities"),{...x,createdAt:Nn(),updatedAt:Nn()});await cn.log({userId:r.uid,userEmail:r.email,action:"entity.create",resourceType:"entity",resourceId:R.id,metadata:{entityName:x.name}})}G(),e(),n(l?"Entity updated successfully!":"Entity added successfully!")}catch(R){rt.error("Error saving entity:",R),s("Failed to save entity"),d(!1)}}}async function A(N){if(!(p||!await i(`Are you sure you want to delete ${N.name}? This action cannot be undone.`,{confirmText:"Delete",cancelText:"Cancel"}))){m(!0);try{await aA(zn(ht,"entities",N.id)),await cn.log({userId:r.uid,userEmail:r.email,action:"entity.delete",resourceType:"entity",resourceId:N.id,metadata:{entityName:N.name}}),e(),n("Entity deleted successfully!")}catch(j){rt.error("Error deleting entity:",j),s("Failed to delete entity")}finally{m(!1)}}}return h.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-h2 text-slate-900 dark:text-slate-100",children:"Entity Management"}),h.jsx("p",{className:"text-body-sm text-slate-600 dark:text-slate-400 mt-1",children:"Manage locations and entities for assignment"})]}),h.jsxs("button",{onClick:()=>o(!0),className:"btn-primary flex items-center gap-2",children:[h.jsx(El,{className:"w-4 h-4"}),"Add Entity"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map(N=>h.jsxs("div",{className:"card card-interactive group",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-thr-blue-500/10 to-thr-green-500/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:h.jsx(Jo,{className:"w-5 h-5 text-thr-blue-500"})}),h.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 group-hover:text-thr-blue-600 dark:group-hover:text-thr-blue-400 transition-colors",children:N.name})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:R=>{R.stopPropagation(),S(N)},className:"p-2 rounded-lg text-thr-blue-600 dark:text-thr-blue-400 hover:bg-thr-blue-50 dark:hover:bg-thr-blue-900/20 transition-colors","aria-label":`Edit ${N.name}`,children:h.jsx(mA,{className:"w-4 h-4"})}),h.jsx("button",{onClick:R=>{R.stopPropagation(),A(N)},className:"p-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors","aria-label":`Delete ${N.name}`,children:h.jsx(K5,{className:"w-4 h-4"})})]})]}),N.code&&h.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Code: ",h.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:N.code})]}),N.description&&h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2",children:N.description})]},N.id)),t.length===0&&h.jsxs("div",{className:"col-span-full card text-center py-12",children:[h.jsx(Jo,{className:"w-12 h-12 mx-auto mb-4 text-slate-300 dark:text-slate-600"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:'No entities yet. Click "Add Entity" to get started.'})]})]}),h.jsx(T0,{isOpen:a,onClose:G,title:l?"Edit Entity":"Add New Entity",size:"md",children:h.jsxs("form",{onSubmit:k,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Entity Name *"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:x.name,onChange:N=>_("name",N.target.value),onBlur:()=>w("name"),className:`input-field pr-10 ${y.name&&g.name?"border-red-500 focus:border-red-500 focus:ring-red-500":y.name&&x.name?"border-green-500 focus:border-green-500 focus:ring-green-500":""}`,placeholder:"e.g., Texas Health Arlington Memorial"}),y.name&&!g.name&&x.name&&h.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:h.jsx(Bc,{className:"w-5 h-5 text-green-500"})})]}),y.name&&g.name&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Entity Code"}),h.jsx("input",{type:"text",value:x.code,onChange:N=>_("code",N.target.value),className:"input-field",placeholder:"e.g., THAM"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional short code for the entity"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Description"}),h.jsx("textarea",{value:x.description,onChange:N=>_("description",N.target.value),className:"input-field",rows:"3",placeholder:"Optional description or notes about this entity..."})]}),h.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[h.jsx("button",{type:"submit",className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!E||f,children:f?h.jsxs(h.Fragment,{children:[h.jsx(ux,{className:"w-4 h-4 inline mr-2 animate-spin"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(v0,{className:"w-4 h-4 inline mr-2"}),l?"Update Entity":"Add Entity"]})}),h.jsx("button",{type:"button",onClick:G,className:"btn-outline flex-1",disabled:f,children:"Cancel"})]})]})})]})}function PG({employees:t}){const[e,r]=U.useState(null),[n,s]=U.useState(null),[i,a]=U.useState(!1);function o(p){const m=[];let x="",g=!1;for(let y=0;y<p.length;y++){const E=p[y],_=p[y+1];E==='"'&&g&&_==='"'?(x+='"',y++):E==='"'?g=!g:E===","&&!g?(m.push(x.trim()),x=""):x+=E}return m.push(x.trim()),m}function l(p){const m=p.split(`
`).filter(y=>y.trim());if(m.length===0)throw new Error("CSV file is empty");const x=o(m[0]),g=[];for(let y=1;y<m.length;y++){const E=o(m[y]);if(E.length===x.length){const _={};x.forEach((w,b)=>{_[w]=E[b]}),g.push(_)}}return{headers:x,data:g}}function c(p,m){const x=p.toLowerCase().replace(/\s+/g," "),g=["name","employee","employee name","team member","user"];for(const y of g)if(m[y]){const E=m[y].toLowerCase().replace(/\s+/g," ");if(x.includes(E)||E.includes(x))return!0}return!1}async function f(p){const m=p.target.files[0];if(m){s(null),a(!0);try{const x=await m.text(),g=l(x),y=t.map(E=>{const _=g.data.find(w=>c(E.name,w));return{employee:E.name,data:_||null,matched:!!_}});r({headers:g.headers,rawData:g.data,matchedData:y,fileName:m.name,uploadedAt:new Date().toLocaleString()})}catch(x){s(x.message||"Failed to parse CSV file"),r(null)}finally{a(!1)}}}function d(){r(null),s(null)}return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-thr-blue-400 transition-colors",children:[h.jsx("input",{type:"file",accept:".csv",onChange:f,className:"hidden",id:"csv-upload"}),h.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer flex flex-col items-center gap-3",children:[h.jsx(xA,{className:"w-12 h-12 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Upload Productivity CSV"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to browse or drag and drop your CSV file"})]}),i&&h.jsxs("div",{className:"flex items-center gap-2 text-thr-blue-600",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-thr-blue-600"}),h.jsx("span",{className:"text-sm",children:"Processing..."})]})]})]}),n&&h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx(Vl,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-red-900",children:"Error parsing CSV"}),h.jsx("p",{className:"text-xs text-red-700 mt-1",children:n})]}),h.jsx("button",{onClick:d,className:"text-red-600 hover:text-red-800",children:h.jsx(qa,{className:"w-4 h-4"})})]}),e&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(hA,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-green-900",children:"CSV Imported Successfully"}),h.jsxs("div",{className:"text-xs text-green-700 mt-2 space-y-1",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"File:"})," ",e.fileName]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Uploaded:"})," ",e.uploadedAt]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Total Rows:"})," ",e.rawData.length]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Matched Employees:"})," ",e.matchedData.filter(p=>p.matched).length," of ",t.length]})]})]}),h.jsx("button",{onClick:d,className:"text-green-600 hover:text-green-800",children:h.jsx(qa,{className:"w-4 h-4"})})]})}),h.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[h.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:h.jsxs("h4",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(dA,{className:"w-4 h-4"}),"Employee Productivity Data"]})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Employee"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Status"}),e.headers.slice(0,5).map((p,m)=>h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:p},m))]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.matchedData.map((p,m)=>h.jsxs("tr",{className:p.matched?"":"bg-yellow-50",children:[h.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:p.employee}),h.jsx("td",{className:"px-4 py-3 text-sm",children:p.matched?h.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Matched"}):h.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"No Match"})}),e.headers.slice(0,5).map((x,g)=>{var y;return h.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:((y=p.data)==null?void 0:y[x])||""},g)})]},m))})]})})]}),e.headers.length>5&&h.jsxs("details",{className:"border border-gray-200 rounded-lg",children:[h.jsxs("summary",{className:"px-4 py-3 bg-gray-50 cursor-pointer text-sm font-medium text-gray-900 hover:bg-gray-100",children:["View All Columns (",e.headers.length," total)"]}),h.jsxs("div",{className:"p-4 overflow-x-auto",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsx("tr",{children:e.headers.map((p,m)=>h.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700 uppercase",children:p},m))})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.rawData.slice(0,10).map((p,m)=>h.jsx("tr",{children:e.headers.map((x,g)=>h.jsx("td",{className:"px-3 py-2 text-gray-700 whitespace-nowrap",children:p[x]||""},g))},m))})]}),e.rawData.length>10&&h.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Showing first 10 of ",e.rawData.length," rows"]})]})]})]}),h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[h.jsx("p",{className:"text-xs text-blue-900 font-medium mb-2",children:"CSV Import Guidelines:"}),h.jsxs("ul",{className:"text-xs text-blue-800 space-y-1 list-disc list-inside",children:[h.jsx("li",{children:"CSV should contain employee names in a column (Name, Employee, or Team Member)"}),h.jsx("li",{children:"File will be automatically matched with existing employees"}),h.jsx("li",{children:"Supported formats: .csv files with comma-separated values"}),h.jsx("li",{children:"First row should contain column headers"})]})]})]})}function DG({employees:t=[],onUpdate:e}){const[r,n]=U.useState({}),[s,i]=U.useState(5),[a,o]=U.useState([]),[l,c]=U.useState(!1),[f,d]=U.useState(!0),p=Array.from({length:s},(w,b)=>`DAR ${b+1}`);U.useEffect(()=>{m()},[]);async function m(){try{await Promise.all([x(),g()])}catch(w){rt.error("Error loading settings:",w)}finally{d(!1)}}async function x(){try{const w=await ox(zn(ht,"settings","darConfig"));if(w.exists()){const b=w.data();n(b.config||{}),i(b.darCount||5)}}catch(w){rt.error("Error loading DAR config:",w)}}async function g(){try{const w=Ur(ht,"entities"),B=(await bn(w)).docs.map(G=>({id:G.id,...G.data()}));o(B)}catch(w){rt.error("Error loading entities:",w)}}function y(w,b){n(B=>({...B,[w]:b})),c(!0)}function E(w){const b=Math.max(3,Math.min(8,w));i(b),c(!0)}async function _(){try{await I5(zn(ht,"settings","darConfig"),{config:r,darCount:s,updatedAt:new Date}),c(!1),alert("DAR configuration saved successfully!"),e&&e()}catch(w){rt.error("Error saving DAR config:",w),alert("Failed to save DAR configuration")}}return f?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"w-10 h-10 rounded-xl border-2 border-thr-blue-500 border-t-transparent animate-spin"})}):h.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-h2 text-slate-900 dark:text-slate-100",children:"Settings"}),h.jsx("p",{className:"text-body-sm text-slate-600 dark:text-slate-400 mt-1",children:"Configure DAR assignments and manage entities"})]}),h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-thr-blue-500/10 to-thr-blue-500/5 flex items-center justify-center",children:h.jsx(fx,{className:"w-5 h-5 text-thr-blue-500"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Default DAR Entity Assignments"}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Set default entity codes for each DAR column. These will be used when creating new schedules."})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400 mr-2",children:"DAR Columns:"}),h.jsx("button",{onClick:()=>E(s-1),disabled:s<=3,className:`p-2 rounded-lg border transition-colors ${s<=3?"border-slate-200 dark:border-slate-700 text-slate-300 dark:text-slate-600 cursor-not-allowed":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,"aria-label":"Remove DAR column",children:h.jsx(hx,{className:"w-4 h-4"})}),h.jsx("span",{className:"w-8 text-center font-semibold text-slate-900 dark:text-slate-100",children:s}),h.jsx("button",{onClick:()=>E(s+1),disabled:s>=8,className:`p-2 rounded-lg border transition-colors ${s>=8?"border-slate-200 dark:border-slate-700 text-slate-300 dark:text-slate-600 cursor-not-allowed":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,"aria-label":"Add DAR column",children:h.jsx(El,{className:"w-4 h-4"})})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:p.map((w,b)=>h.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-100 dark:border-slate-600",children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-900 dark:text-slate-100 mb-2",children:w}),h.jsx("input",{type:"text",value:r[b]||"",onChange:B=>y(b,B.target.value),className:"input-field",placeholder:"e.g., THFR/FM/THFM"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Enter entity codes separated by slashes"})]},b))}),h.jsxs("div",{className:"mt-6 flex items-center justify-between pt-4 border-t border-slate-200 dark:border-slate-700",children:[h.jsx("div",{children:l&&h.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400",children:"Unsaved changes"})}),h.jsxs("button",{onClick:_,disabled:!l,className:`btn-primary flex items-center gap-2 ${l?"":"opacity-50 cursor-not-allowed"}`,children:[h.jsx(v0,{className:"w-4 h-4"}),"Save DAR Configuration"]})]})]}),h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-thr-green-500/10 to-thr-green-500/5 flex items-center justify-center",children:h.jsx(Jo,{className:"w-5 h-5 text-thr-green-500"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Entity Management"}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Manage all locations and facilities"})]})]}),h.jsx(RG,{entities:a,onUpdate:g})]}),h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 flex items-center justify-center",children:h.jsx(lx,{className:"w-5 h-5 text-purple-500"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Productivity Data Import"}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Import and view employee productivity metrics from CSV files"})]})]}),h.jsx(PG,{employees:t})]})]})}function ir({variant:t="text",className:e="",count:r=1}){const n="animate-pulse bg-gray-200 rounded",s={text:"h-4 w-full","text-lg":"h-6 w-3/4","text-xl":"h-8 w-1/2",card:"h-32 w-full",table:"h-12 w-full",circle:"h-12 w-12 rounded-full",button:"h-10 w-24",input:"h-10 w-full"},i=`${n} ${s[t]||s.text} ${e}`;return r>1?h.jsx("div",{className:"space-y-3",children:Array.from({length:r}).map((a,o)=>h.jsx("div",{className:i},o))}):h.jsx("div",{className:i})}function OG(){return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(ir,{variant:"circle",className:"w-8 h-8"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ir,{variant:"text-xl",className:"w-48"}),h.jsx(ir,{variant:"text",className:"w-32"})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(ir,{variant:"button",className:"w-32"}),h.jsx(ir,{variant:"button",className:"w-24"})]})]})})}),h.jsx("div",{className:"bg-white border-b border-gray-200",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex gap-8 py-4",children:[h.jsx(ir,{variant:"text",className:"w-32 h-8"}),h.jsx(ir,{variant:"text",className:"w-32 h-8"}),h.jsx(ir,{variant:"text",className:"w-32 h-8"})]})})}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ir,{variant:"text-lg",className:"w-64"}),h.jsx(ir,{variant:"button",className:"w-40"})]}),h.jsx(ir,{variant:"card",className:"h-96"})]})})]})}function FG(){return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(ir,{variant:"circle",className:"w-8 h-8"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ir,{variant:"text-xl",className:"w-64"}),h.jsx(ir,{variant:"text",className:"w-48"})]})]}),h.jsx(ir,{variant:"button",className:"w-36"})]})})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"card mb-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ir,{variant:"text-lg",className:"w-48"}),h.jsx(ir,{variant:"text",className:"w-32"})]}),h.jsx(ir,{variant:"button",className:"w-24"})]})}),h.jsx("div",{className:"card",children:h.jsx(ir,{variant:"card",className:"h-96"})})]})]})}function jG(){const{currentUser:t,logout:e,isSupervisor:r}=Ml(),n=Gd(),{showSuccess:s,showError:i,showConfirm:a}=mx(),[o,l]=U.useState("schedule"),[c,f]=U.useState([]),[d,p]=U.useState([]),[m,x]=U.useState([]),[g,y]=U.useState(null),[E,_]=U.useState({}),[w,b]=U.useState(5),[B,G]=U.useState(!0),[S,k]=U.useState(!1),A=(g==null?void 0:g.status)||"draft";U.useEffect(()=>{if(!r){n("/login");return}N()},[r,n]);async function N(){try{const oe=await D();(await Promise.allSettled([R(),j(),Pe(oe.config)])).forEach((V,H)=>{if(V.status==="rejected"){const z=["employees","entities","schedules"];rt.error(`Failed to load ${z[H]}:`,V.reason),i(`Failed to load ${z[H]}. Some data may be unavailable.`)}})}catch(oe){rt.error("Error loading data:",oe),i("Failed to load configuration data")}finally{G(!1)}}async function R(){const oe=Ur(ht,"employees"),Ne=is(oe,as("name")),H=(await bn(Ne)).docs.map(z=>({id:z.id,...z.data()}));f(H)}async function j(){const oe=Ur(ht,"entities"),Ne=is(oe,as("name")),H=(await bn(Ne)).docs.map(z=>({id:z.id,...z.data()}));p(H)}async function D(){try{const oe=await ox(zn(ht,"settings","darConfig"));if(oe.exists()){const Ne=oe.data(),V=Ne.config||{},H=Ne.darCount||5;return _(V),b(H),{config:V,darCount:H}}return{config:{},darCount:5}}catch(oe){return rt.error("Error loading DAR defaults:",oe),{config:{},darCount:5}}}async function Pe(oe=E){const Ne=Ur(ht,"schedules"),V=is(Ne,as("createdAt","desc"),Hs(50)),z=(await bn(V)).docs.map(fe=>{const Te=fe.data();return{id:fe.id,status:Te.status||"draft",darEntities:Te.darEntities||oe,...Te}});x(z);const W=z.find(fe=>fe.status==="draft"),re=z[0]||null;y(W||re)}async function ie(){if(!S&&!((g==null?void 0:g.status)==="draft"&&!await a("You already have a draft schedule. Start a new one anyway?",{confirmText:"Start new",cancelText:"Keep editing"}))){k(!0);try{let oe=E,Ne=w;if(!Object.keys(E||{}).length){const W=await D();oe=W.config,Ne=W.darCount}const V={name:`Schedule ${new Date().toLocaleDateString()}`,startDate:"",endDate:"",status:"draft",assignments:{},darEntities:oe,darCount:Ne,createdAt:Nn(),updatedAt:Nn()},H=await m0(Ur(ht,"schedules"),V),z={id:H.id,...V};y(z),x(W=>[z,...W]),await cn.log({userId:t.uid,userEmail:t.email,action:"schedule.create",resourceType:"schedule",resourceId:H.id,metadata:{scheduleName:V.name,darCount:V.darCount}})}catch(oe){rt.error("Error creating schedule:",oe),i("Failed to create new schedule")}finally{k(!1)}}}async function Ve(oe){if(g)try{const Ne=cn.detectChanges(g,oe),V=zn(ht,"schedules",g.id);await ku(V,{...oe,updatedAt:Nn()}),y({...g,...oe}),x(H=>H.map(z=>z.id===g.id?{...z,...oe}:z)),await cn.log({userId:t.uid,userEmail:t.email,action:"schedule.update",resourceType:"schedule",resourceId:g.id,changes:Ne,metadata:{scheduleName:oe.name||g.name}}),s("Schedule saved successfully!")}catch(Ne){rt.error("Error saving schedule:",Ne),i("Failed to save schedule")}}async function Ue(){if(!(!g||!await a("Are you sure you want to publish this schedule? Users will be able to view it.")))try{const Ne=zn(ht,"schedules",g.id);await ku(Ne,{status:"published",publishedAt:Nn(),updatedAt:Nn()}),y({...g,status:"published"}),x(V=>V.map(H=>H.id===g.id?{...H,status:"published"}:H)),await cn.log({userId:t.uid,userEmail:t.email,action:"schedule.publish",resourceType:"schedule",resourceId:g.id,metadata:{scheduleName:g.name}}),s("Schedule published successfully!")}catch(Ne){rt.error("Error publishing schedule:",Ne),i("Failed to publish schedule")}}async function he(oe){const Ne=m.find(H=>H.id===oe);if(!(!Ne||!await a(`Are you sure you want to delete "${Ne.name}"? This action cannot be undone.`)))try{const H=zn(ht,"schedules",oe);await aA(H),x(z=>z.filter(W=>W.id!==oe)),(g==null?void 0:g.id)===oe&&y(null),await cn.log({userId:t.uid,userEmail:t.email,action:"schedule.delete",resourceType:"schedule",resourceId:oe,metadata:{scheduleName:Ne.name}}),s("Schedule deleted successfully!")}catch(H){rt.error("Error deleting schedule:",H),i("Failed to delete schedule")}}async function Ie(){try{await e(),n("/login")}catch(oe){rt.error("Logout error:",oe)}}return B?h.jsx(OG,{}):h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[h.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Cs,{className:"w-8 h-8 text-thr-blue-500 dark:text-thr-blue-400"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Supervisor Dashboard"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Clinical Review Scheduling"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(dx,{}),h.jsxs("button",{onClick:()=>n("/schedule"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors dark:text-gray-200 focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 dark:focus:ring-offset-gray-800","aria-label":"View public schedule",children:[h.jsx(fA,{className:"w-4 h-4","aria-hidden":"true"}),h.jsx("span",{className:"text-sm font-medium",children:"View Public Schedule"})]}),h.jsxs("button",{onClick:Ie,className:"flex items-center gap-2 px-4 py-2 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/50 transition-colors focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-offset-gray-800","aria-label":"Logout",children:[h.jsx(z5,{className:"w-4 h-4","aria-hidden":"true"}),h.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("nav",{className:"flex gap-8",role:"tablist",children:[h.jsx("button",{onClick:()=>l("schedule"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-inset focus:ring-thr-blue-500 ${o==="schedule"?"border-thr-blue-500 text-thr-blue-600 dark:text-thr-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,role:"tab","aria-selected":o==="schedule","aria-controls":"schedule-panel",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(dA,{className:"w-4 h-4","aria-hidden":"true"}),"Schedule Management"]})}),h.jsx("button",{onClick:()=>l("employees"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-inset focus:ring-thr-blue-500 ${o==="employees"?"border-thr-blue-500 text-thr-blue-600 dark:text-thr-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,role:"tab","aria-selected":o==="employees","aria-controls":"employees-panel",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Oa,{className:"w-4 h-4","aria-hidden":"true"}),"Employee Management"]})}),h.jsx("button",{onClick:()=>l("settings"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-inset focus:ring-thr-blue-500 ${o==="settings"?"border-thr-blue-500 text-thr-blue-600 dark:text-thr-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,role:"tab","aria-selected":o==="settings","aria-controls":"settings-panel",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(fx,{className:"w-4 h-4","aria-hidden":"true"}),"Settings"]})})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o==="schedule"&&h.jsxs("div",{id:"schedule-panel",role:"tabpanel","aria-labelledby":"schedule-tab",children:[h.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[g?h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:g.name}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Status:"," ",h.jsx("span",{className:`font-medium ${A==="published"?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`,children:A.toUpperCase()})]})]}):h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"No Active Schedule"}),m.length>0&&h.jsxs("div",{className:"mt-3",children:[h.jsx("label",{htmlFor:"schedule-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Load Schedule"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("select",{id:"schedule-select",value:(g==null?void 0:g.id)||"",onChange:oe=>{const Ne=m.find(V=>V.id===oe.target.value);y(Ne||null)},className:"block w-full max-w-xs px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-thr-blue-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"Select a schedule..."}),m.map(oe=>h.jsxs("option",{value:oe.id,children:[oe.name," (",oe.status,")"]},oe.id))]}),g&&h.jsx("button",{onClick:()=>he(g.id),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition-colors focus:ring-2 focus:ring-offset-2 focus:ring-red-500","aria-label":"Delete current schedule",children:"Delete"})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:ie,disabled:S,className:`btn-primary dark:bg-thr-blue-600 dark:hover:bg-thr-blue-700 focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 dark:focus:ring-offset-gray-900 ${S?"opacity-70 cursor-not-allowed":""}`,"aria-label":"Create new schedule",children:[h.jsx(El,{className:"w-4 h-4 inline mr-2","aria-hidden":"true"}),S?"Creating...":g?"Start New Schedule":"Create New Schedule"]}),g&&A!=="published"&&h.jsx(h.Fragment,{children:h.jsxs("button",{onClick:Ue,className:"btn-secondary dark:bg-thr-green-700 dark:hover:bg-thr-green-800 dark:text-white focus:ring-2 focus:ring-offset-2 focus:ring-thr-green-500 dark:focus:ring-offset-gray-900","aria-label":"Publish schedule",children:[h.jsx(xA,{className:"w-4 h-4 inline mr-2","aria-hidden":"true"}),"Publish Schedule"]})})]})]}),g?h.jsx(Kx,{schedule:g,employees:c,entities:d,onSave:Ve,onCreateNewSchedule:ie,readOnly:!1,schedules:m}):h.jsxs("div",{className:"card dark:bg-gray-800 dark:border-gray-700 text-center py-12",children:[h.jsx(Cs,{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mx-auto mb-4","aria-hidden":"true"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Active Schedule"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create a new schedule to start assigning employees"}),h.jsxs("button",{onClick:ie,className:"btn-primary dark:bg-thr-blue-600 dark:hover:bg-thr-blue-700 focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 dark:focus:ring-offset-gray-800","aria-label":"Create new schedule",children:[h.jsx(El,{className:"w-4 h-4 inline mr-2","aria-hidden":"true"}),"Create New Schedule"]})]})]}),o==="employees"&&h.jsx(CG,{employees:c,onUpdate:R}),o==="settings"&&h.jsx(DG,{employees:c,onUpdate:N})]})]})}function LG(){const[t,e]=U.useState(null),[r,n]=U.useState([]),[s,i]=U.useState([]),[a,o]=U.useState(!0),[l,c]=U.useState(null),f=Gd();return U.useEffect(()=>{let d=!0;const p=new Set;function m(g=1e4){let y;return{promise:new Promise((_,w)=>{y=setTimeout(()=>{p.delete(y),w(new Error("Request timed out"))},g),p.add(y)}),clear:()=>{y&&(clearTimeout(y),p.delete(y))}}}async function x(){var g;if(!ht){d&&(c("Database connection not available"),o(!1));return}try{const[y,E]=await Promise.all([bn(Ur(ht,"employees")),bn(Ur(ht,"entities"))]);d&&(n(y.docs.map(b=>({id:b.id,...b.data()}))),i(E.docs.map(b=>({id:b.id,...b.data()}))));const _=Ur(ht,"schedules");let w=null;try{const b=is(_,Vo("status","==","published"),as("createdAt","desc"),Hs(1)),B=m();w=await Promise.race([bn(b),B.promise]),B.clear()}catch(b){rt.warn("Composite index query failed, using fallback:",b.message);const B=is(_,as("createdAt","desc"),Hs(50)),G=m(),S=await Promise.race([bn(B),G.promise]);G.clear();const k=S.docs.filter(A=>A.data().status==="published");k.length>0?w={empty:!1,docs:[k[0]]}:w={empty:!0,docs:[]}}if(w.empty){const b=is(_,as("createdAt","desc"),Hs(1)),B=m();w=await Promise.race([bn(b),B.promise]),B.clear()}d&&(!w.empty&&((g=w.docs)!=null&&g[0])?e({id:w.docs[0].id,...w.docs[0].data()}):e(null))}catch(y){d&&(rt.error("Error loading schedule:",y),c(y.message||"Failed to load schedule"))}finally{p.forEach(y=>clearTimeout(y)),p.clear(),d&&o(!1)}}return x(),()=>{d=!1,p.forEach(g=>clearTimeout(g)),p.clear()}},[]),a?h.jsx(FG,{}):h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[h.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Cs,{className:"w-8 h-8 text-thr-blue-500 dark:text-thr-blue-400"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Clinical Review Schedule"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Published Schedule"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(dx,{}),h.jsxs("button",{onClick:()=>f("/login"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors dark:text-gray-200 focus:ring-2 focus:ring-offset-2 focus:ring-thr-blue-500 dark:focus:ring-offset-gray-800","aria-label":"Supervisor login",children:[h.jsx(pA,{className:"w-4 h-4","aria-hidden":"true"}),h.jsx("span",{className:"text-sm font-medium",children:"Supervisor Login"})]})]})]})})}),h.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l?h.jsxs("div",{className:"card dark:bg-gray-800 dark:border-gray-700 text-center py-12",role:"alert","aria-live":"assertive",children:[h.jsx(Cs,{className:"w-16 h-16 text-red-400 dark:text-red-600 mx-auto mb-4","aria-hidden":"true"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Unable to Load Schedule"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"There was a problem connecting to the database."}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:l})]}):t?h.jsxs("div",{children:[h.jsx("div",{className:"mb-6 card dark:bg-gray-800 dark:border-gray-700",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t.name||"Current Schedule"}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[t.startDate," - ",t.endDate]})]}),h.jsx("div",{className:"text-right",children:h.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:"Published"})})]})}),h.jsx(Kx,{schedule:t,employees:r,entities:s,readOnly:!0})]}):h.jsxs("div",{className:"card dark:bg-gray-800 dark:border-gray-700 text-center py-12",children:[h.jsx(Cs,{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mx-auto mb-4","aria-hidden":"true"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Schedule Published"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"The supervisor has not published a schedule yet. Please check back later."})]})})]})}function MG({error:t}){return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-lg p-8",children:[h.jsx("div",{className:"flex items-center justify-center mb-6",children:h.jsx("div",{className:"p-3 bg-amber-100 rounded-full",children:h.jsx(Qu,{className:"w-8 h-8 text-amber-600"})})}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-4",children:"Configuration Required"}),h.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:h.jsx("p",{className:"text-amber-800 text-sm",children:t})}),h.jsxs("div",{className:"text-gray-600 text-sm space-y-4",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"For Administrators:"})," Please configure the Firebase environment variables in your deployment settings. See the ",h.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:".env.example"})," file for the required variables."]}),h.jsxs("p",{children:[h.jsx("strong",{children:"For GitHub Pages deployment:"})," Add the required secrets to your repository settings under Settings  Secrets and variables  Actions."]})]})]})})}class VG extends U.Component{constructor(r){super(r);tc(this,"handleTryAgain",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});tc(this,"handleReload",()=>{window.location.reload()});tc(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){rt.error("React Error Boundary caught error:",{error:r.toString(),componentStack:n.componentStack}),this.setState(s=>({error:r,errorInfo:n,errorCount:s.errorCount+1}))}render(){if(this.state.hasError){const{error:n,errorInfo:s,errorCount:i}=this.state;return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:h.jsx("div",{className:"max-w-2xl w-full",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx("div",{className:"w-20 h-20 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:h.jsx(Qu,{className:"w-10 h-10 text-red-600 dark:text-red-400"})})}),h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"Something went wrong"}),h.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"We're sorry, but something unexpected happened. You can try one of the options below to recover."}),i>1&&h.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:["This error has occurred ",i," times. Consider reloading the page."]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsxs("button",{onClick:this.handleTryAgain,className:"flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-slate-200 dark:border-slate-600 hover:border-thr-blue-500 dark:hover:border-thr-blue-500 hover:bg-thr-blue-50 dark:hover:bg-thr-blue-900/20 transition-all group",children:[h.jsx(ow,{className:"w-6 h-6 text-slate-600 dark:text-slate-400 group-hover:text-thr-blue-600 dark:group-hover:text-thr-blue-400"}),h.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Try Again"}),h.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"Attempt to recover"})]}),h.jsxs("button",{onClick:this.handleReload,className:"flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-slate-200 dark:border-slate-600 hover:border-thr-green-500 dark:hover:border-thr-green-500 hover:bg-thr-green-50 dark:hover:bg-thr-green-900/20 transition-all group",children:[h.jsx(ow,{className:"w-6 h-6 text-slate-600 dark:text-slate-400 group-hover:text-thr-green-600 dark:group-hover:text-thr-green-400"}),h.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Reload Page"}),h.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"Fresh start"})]}),h.jsxs("button",{onClick:this.handleGoHome,className:"flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-slate-200 dark:border-slate-600 hover:border-thr-purple-500 dark:hover:border-thr-purple-500 hover:bg-thr-purple-50 dark:hover:bg-thr-purple-900/20 transition-all group",children:[h.jsx($5,{className:"w-6 h-6 text-slate-600 dark:text-slate-400 group-hover:text-thr-purple-600 dark:group-hover:text-thr-purple-400"}),h.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Go Home"}),h.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"Return to dashboard"})]})]}),!1]})})})}return this.props.children}}function UG({children:t}){const{isSupervisor:e,currentUser:r}=Ml();return r?e?t:h.jsx(Rm,{to:"/login",replace:!0}):h.jsx(Rm,{to:"/login",replace:!0})}function BG(){return h.jsx(zj,{position:"top-right",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{duration:4e3,style:{background:"#fff",color:"#374151",padding:"16px",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",fontSize:"14px",fontWeight:"500"},success:{duration:3e3,style:{background:"#e6f7f0",color:"#00653b",border:"1px solid #00a862"},iconTheme:{primary:"#00a862",secondary:"#fff"}},error:{duration:5e3,style:{background:"#fee2e2",color:"#991b1b",border:"1px solid #ef4444"},iconTheme:{primary:"#ef4444",secondary:"#fff"}},loading:{style:{background:"#e6f0ff",color:"#003d7a",border:"1px solid #0066cc"},iconTheme:{primary:"#0066cc",secondary:"#fff"}},custom:{style:{background:"#e6f0ff",color:"#003d7a",border:"1px solid #0066cc"}}}})}function $G(){const{isFirebaseConfigured:t,firebaseConfigError:e}=Ml();return t?h.jsx(PR,{basename:"/ClinicalReviewScheduler",children:h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:h.jsxs(NR,{children:[h.jsx(vc,{path:"/",element:h.jsx(Rm,{to:"/schedule",replace:!0})}),h.jsx(vc,{path:"/login",element:h.jsx(tj,{})}),h.jsx(vc,{path:"/supervisor",element:h.jsx(UG,{children:h.jsx(jG,{})})}),h.jsx(vc,{path:"/schedule",element:h.jsx(LG,{})})]})})}):h.jsx(MG,{error:e})}function zG(){return h.jsx(VG,{children:h.jsx(P5,{children:h.jsxs(R5,{children:[h.jsx($G,{}),h.jsx(BG,{})]})})})}Lp.createRoot(document.getElementById("root")).render(h.jsx(RE.StrictMode,{children:h.jsx(zG,{})}));
